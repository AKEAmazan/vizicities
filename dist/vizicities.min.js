!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("proj4"),require("THREE")):"function"==typeof define&&define.amd?define(["proj4","THREE"],t):"object"==typeof exports?exports.VIZI=t(require("proj4"),require("THREE")):e.VIZI=t(e.proj4,e.THREE)}(this,function(e,t){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.loaded=!0,o.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=_interopRequireDefault(o),i=n(26),a=_interopRequireDefault(i),u=n(29),s=_interopRequireDefault(u),c={version:"0.3",World:r["default"],Controls:a["default"],EnvironmentLayer:s["default"]};t["default"]=c,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,u=c=void 0}},i=n(2),a=_interopRequireDefault(i),u=n(3),s=_interopRequireDefault(u),c=n(6),l=_interopRequireDefault(c),f=n(21),p=_interopRequireDefault(f),h=function(e){function World(e,t){_classCallCheck(this,World),r(Object.getPrototypeOf(World.prototype),"constructor",this).call(this);var n={crs:l["default"].EPSG3857};this._options=(0,s["default"])(n,t),console.log(this._options),this._layers=[],this._controls=[],this._initContainer(e),this._initEngine(),this._initEvents(),this._update()}return _inherits(World,e),o(World,[{key:"_initContainer",value:function(e){this._container=document.getElementById(e)}},{key:"_initEngine",value:function(){this._engine=(0,p["default"])(this._container)}},{key:"_initEvents",value:function(){this.on("controlsMoveEnd",this._onControlsMoveEnd)}},{key:"_onControlsMoveEnd",value:function(e){this._resetView(this.unproject(e))}},{key:"_resetView",value:function(e){this.emit("preResetView"),this._moveStart(),this._move(e),this._moveEnd(),this.emit("postResetView")}},{key:"_moveStart",value:function(){this.emit("moveStart")}},{key:"_move",value:function(e){this._lastPosition=e,this.emit("move",e)}},{key:"_moveEnd",value:function(){this.emit("moveEnd")}},{key:"_update",value:function(){var e=this._engine.clock.getDelta();window.requestAnimationFrame(this._update.bind(this)),this._controls.forEach(function(e){e.update()}),this.emit("preUpdate"),this._engine._update(e),this.emit("postUpdate")}},{key:"setView",value:function(e){return this._resetView(e),this}},{key:"getPosition",value:function(){return this._lastPosition}},{key:"project",value:function(e){}},{key:"unproject",value:function(e){}},{key:"addLayer",value:function(e){return e._addToWorld(this),this._layers.push(e),this._engine._scene.add(e._layer),this.emit("layerAdded",e),this}},{key:"removeLayer",value:function(e){}},{key:"addControls",value:function(e){return e._addToWorld(this),this._controls.push(e),this.emit("controlsAdded",e),this}},{key:"removeControls",value:function(e){}}]),World}(a["default"]);t["default"]=function(e,t){return new h(e,t)},e.exports=t["default"]},function(e,t,n){"use strict";function EE(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function EventEmitter(){}var o="function"!=typeof Object.create?"~":!1;EventEmitter.prototype._events=void 0,EventEmitter.prototype.listeners=function(e,t){var n=o?o+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,u=new Array(a);a>i;i++)u[i]=r[i].fn;return u},EventEmitter.prototype.emit=function(e,t,n,r,i,a){var u=o?o+e:e;if(!this._events||!this._events[u])return!1;var s,c,l=this._events[u],f=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,a),!0}for(c=1,s=new Array(f-1);f>c;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var p,h=l.length;for(c=0;h>c;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;default:if(!s)for(p=1,s=new Array(f-1);f>p;p++)s[p-1]=arguments[p];l[c].fn.apply(l[c].context,s)}}return!0},EventEmitter.prototype.on=function(e,t,n){var r=new EE(t,n||this),i=o?o+e:e;return this._events||(this._events=o?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):this._events[i]=r,this},EventEmitter.prototype.once=function(e,t,n){var r=new EE(t,n||this,!0),i=o?o+e:e;return this._events||(this._events=o?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):this._events[i]=r,this},EventEmitter.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events||!this._events[i])return this;var a=this._events[i],u=[];if(t)if(a.fn)(a.fn!==t||r&&!a.once||n&&a.context!==n)&&u.push(a);else for(var s=0,c=a.length;c>s;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);return u.length?this._events[i]=1===u.length?u[0]:u:delete this._events[i],this},EventEmitter.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[o?o+e:e]:this._events=o?{}:Object.create(null),this):this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=o,e.exports=EventEmitter},function(e,t,n){function isIndex(e,t){return e="number"==typeof e||s.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&t>e}function assignValue(e,t,n){var o=e[t];(!eq(o,n)||eq(o,c[t])&&!l.call(e,t)||void 0===n&&!(t in e))&&(e[t]=n)}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function copyObject(e,t,n){return copyObjectWith(e,t,n)}function copyObjectWith(e,t,n,o){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r],u=o?o(n[a],e[a],a,n,e):e[a];assignValue(n,a,u)}return n}function createAssigner(e){return r(function(t,n){var o=-1,r=n.length,i=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(i="function"==typeof i?(r--,i):void 0,a&&isIterateeCall(n[0],n[1],a)&&(i=3>r?void 0:i,r=1),t=Object(t);++o<r;){var u=n[o];u&&e(t,u,o,i)}return t})}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var o=typeof t;return("number"==o?isArrayLike(n)&&isIndex(t,n.length):"string"==o&&t in n)?eq(n[t],e):!1}function eq(e,t){return e===t||e!==e&&t!==t}function isArrayLike(e){return null!=e&&!("function"==typeof e&&isFunction(e))&&isLength(p(e))}function isFunction(e){var t=isObject(e)?f.call(e):"";return t==a||t==u}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var o=n(4),r=n(5),i=9007199254740991,a="[object Function]",u="[object GeneratorFunction]",s=/^(?:0|[1-9]\d*)$/,c=Object.prototype,l=c.hasOwnProperty,f=c.toString,p=baseProperty("length"),h=createAssigner(function(e,t){copyObject(t,o(t),e)});e.exports=h},function(e,t){function baseTimes(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function isIndex(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?n:t,e>-1&&e%1==0&&t>e}function baseHas(e,t){return c.call(e,t)||"object"==typeof e&&t in e&&null===f(e)}function baseKeys(e){return h(Object(e))}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function indexKeys(e){var t=e?e.length:void 0;return isLength(t)&&(v(e)||isString(e)||isArguments(e))?baseTimes(t,String):null}function isPrototype(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||s;return e===n}function isArguments(e){return isArrayLikeObject(e)&&c.call(e,"callee")&&(!p.call(e,"callee")||l.call(e)==o)}function isArrayLike(e){return null!=e&&!("function"==typeof e&&isFunction(e))&&isLength(d(e))}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?l.call(e):"";return t==r||t==i}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isString(e){return"string"==typeof e||!v(e)&&isObjectLike(e)&&l.call(e)==a}function keys(e){var t=isPrototype(e);if(!t&&!isArrayLike(e))return baseKeys(e);var n=indexKeys(e),o=!!n,r=n||[],i=r.length;for(var a in e)!baseHas(e,a)||o&&("length"==a||isIndex(a,i))||t&&"constructor"==a||r.push(a);return r}var n=9007199254740991,o="[object Arguments]",r="[object Function]",i="[object GeneratorFunction]",a="[object String]",u=/^(?:0|[1-9]\d*)$/,s=Object.prototype,c=s.hasOwnProperty,l=s.toString,f=Object.getPrototypeOf,p=s.propertyIsEnumerable,h=Object.keys,d=baseProperty("length"),v=Array.isArray;e.exports=keys},function(e,t){function apply(e,t,n){var o=n.length;switch(o){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rest(e,t){if("function"!=typeof e)throw new TypeError(n);return t=v(void 0===t?e.length-1:toInteger(t),0),function(){for(var n=arguments,o=-1,r=v(n.length-t,0),i=Array(r);++o<r;)i[o]=n[t+o];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var a=Array(t+1);for(o=-1;++o<t;)a[o]=n[o];return a[t]=i,apply(e,this,a)}}function isFunction(e){var t=isObject(e)?d.call(e):"";return t==a||t==u}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function toInteger(e){if(!e)return 0===e?e:0;if(e=toNumber(e),e===o||e===-o){var t=0>e?-1:1;return t*r}var n=e%1;return e===e?n?e-n:e:0}function toNumber(e){if(isObject(e)){var t=isFunction(e.valueOf)?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||f.test(e)?p(e.slice(2),n?2:8):c.test(e)?i:+e}var n="Expected a function",o=1/0,r=1.7976931348623157e308,i=NaN,a="[object Function]",u="[object GeneratorFunction]",s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,h=Object.prototype,d=h.toString,v=Math.max;e.exports=rest},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),r=_interopRequireDefault(o),i=n(13),a=_interopRequireDefault(i),u=n(15),s=_interopRequireDefault(u),c=n(17),l=_interopRequireDefault(c),f=n(18),p=_interopRequireDefault(f),h={};h.EPSG3857=r["default"],h.EPSG900913=o.EPSG900913,h.EPSG3395=a["default"],h.EPSG4326=s["default"],h.Simple=l["default"],h.Proj4=p["default"],t["default"]=h,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=_interopRequireDefault(o),i=n(8),a=_interopRequireDefault(i),u=n(11),s=_interopRequireDefault(u),c=n(12),l=_interopRequireDefault(c),f={code:"EPSG:3857",projection:s["default"],transformScale:1/(Math.PI*s["default"].R),transformation:function(){var e=1/(Math.PI*s["default"].R);return new l["default"](e,0,-e,0)}()},p=(0,r["default"])({},a["default"],f),h=(0,r["default"])({},p,{code:"EPSG:900913"});t.EPSG900913=h,t["default"]=p},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=_interopRequireDefault(o),i=n(9),a=_interopRequireDefault(i),u={wrapLon:[-180,180],R:6378137,distance:function(e,t,n){var o,r,i,a=Math.PI/180;if(n){o=e[0]*a,r=t[0]*a;var u=e[1]*a,s=t[1]*a,c=r-o,l=s-u,f=c/2,p=l/2;i=Math.sin(f)*Math.sin(f)+Math.cos(o)*Math.cos(r)*Math.sin(p)*Math.sin(p);var h=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return this.R*h}return o=e[0]*a,r=t[0]*a,i=Math.sin(o)*Math.sin(r)+Math.cos(o)*Math.cos(r)*Math.cos((t[1]-e[1])*a),this.R*Math.acos(Math.min(i,1))},pointScale:function(e,t){return this.projection.pointScale?this.projection.pointScale(e,t):[1,1]},metresToProjected:function(e,t){return e*t[1]},projectedToMetres:function(e,t){return e/t[1]},metresToWorld:function(e,t,n){var o=this.metresToProjected(e,t),r=this.scale(n);n&&(r/=2);var i=r*(this.transformScale*o)/t[1];return i},worldToMetres:function(e,t,n){var o=this.scale(n);n&&(o/=2);var r=e/o/this.transformScale*t[1],i=this.projectedToMetres(r,t);return i}};t["default"]=(0,r["default"])({},a["default"],u),e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),r=_interopRequireDefault(o),i={scaleFactor:1e3,latLonToPoint:function(e,t){var n=this.projection.project(e),o=this.scale(t);return t&&(o/=2),this.transformation._transform(n,o)},pointToLatLon:function(e,t){var n=this.scale(t);t&&(n/=2);var o=this.transformation.untransform(e,n);return this.projection.unproject(o)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return e>=0?256*Math.pow(2,e):this.scaleFactor},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);e&&(n/=2);var o=this.transformation.transform(t[0],n),r=this.transformation.transform(t[1],n);return[o,r]},wrapLatLon:function(e){var t=this.wrapLat?(0,r["default"])(e[0],this.wrapLat,!0):e[0],n=this.wrapLon?(0,r["default"])(e[1],this.wrapLon,!0):e[1],o=e[2];return[t,n,o]}};t["default"]=i,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var o=t[1],r=t[0],i=o-r;return e===o&&n?e:((e-r)%i+i)%i+r};t["default"]=n,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={R:6378137,MAX_LATITUDE:85.0511287798,ECC:.081819191,ECC2:.006694380015894481,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,e[0]),-n),r=Math.sin(o*t);return[this.R*e[1]*t,this.R*Math.log((1+r)/(1-r))/2]},unproject:function(e){var t=180/Math.PI;return[(2*Math.atan(Math.exp(e[1]/this.R))-Math.PI/2)*t,e[0]*t/this.R]},pointScale:function(e,t){var n,o=Math.PI/180;if(t){var r=e[0]*o,i=(e[1]*o,this.R),a=Math.sin(r),u=a*a,s=Math.cos(r),c=i*(1-this.ECC2)/Math.pow(1-this.ECC2*u,1.5),l=i/Math.sqrt(1-this.ECC2*u),f=i/c/s;return n=i/l/s,[n,f]}return n=1/Math.cos(e[0]*o),[n,n]},bounds:function(){var e=6378137*Math.PI;return[[-e,-e],[e,e]]}()};t["default"]=n,e.exports=t["default"]},function(e,t){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function(){function Transformation(e,t,n,o){_classCallCheck(this,Transformation),this._a=e,this._b=t,this._c=n,this._d=o}return n(Transformation,[{key:"transform",value:function(e,t){return this._transform([e[0],e[1]],t)}},{key:"_transform",value:function(e,t){return t=t||1,e[0]=t*(this._a*e[0]+this._b),e[1]=t*(this._c*e[1]+this._d),e}},{key:"untransform",value:function(e,t){return t=t||1,[(e[0]/t-this._b)/this._a,(e[1]/t-this._d)/this._c]}}]),Transformation}();t["default"]=o,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=_interopRequireDefault(o),i=n(8),a=_interopRequireDefault(i),u=n(14),s=_interopRequireDefault(u),c=n(12),l=_interopRequireDefault(c),f={code:"EPSG:3395",projection:s["default"],transformScale:1/(Math.PI*s["default"].R),transformation:function(){var e=1/(Math.PI*s["default"].R);return new l["default"](e,0,-e,0)}()},p=(0,r["default"])({},a["default"],f);t["default"]=p,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={R:6378137,R_MINOR:6356752.314245179,ECC:.081819191,ECC2:.006694380015894481,project:function(e){var t=Math.PI/180,n=this.R,o=e[0]*t,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),a=i*Math.sin(o),u=Math.tan(Math.PI/4-o/2)/Math.pow((1-a)/(1+a),i/2);return o=-n*Math.log(Math.max(u,1e-10)),[e[1]*t*n,o]},unproject:function(e){for(var t,n=180/Math.PI,o=this.R,r=this.R_MINOR/o,i=Math.sqrt(1-r*r),a=Math.exp(-e[1]/o),u=Math.PI/2-2*Math.atan(a),s=0,c=.1;15>s&&Math.abs(c)>1e-7;s++)t=i*Math.sin(u),t=Math.pow((1-t)/(1+t),i/2),c=Math.PI/2-2*Math.atan(a*t)-u,u+=c;return[u*n,e[0]*n/o]},pointScale:function(e){var t=Math.PI/180,n=e[0]*t,o=Math.sin(n),r=o*o,i=Math.cos(n),a=Math.sqrt(1-this.ECC2*r)/i;return[a,a]},bounds:[[-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]]};t["default"]=n,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=_interopRequireDefault(o),i=n(8),a=_interopRequireDefault(i),u=n(16),s=_interopRequireDefault(u),c=n(12),l=_interopRequireDefault(c),f={code:"EPSG:4326",projection:s["default"],transformScale:1/180,transformation:new l["default"](1/180,0,-1/180,0)},p=(0,r["default"])({},a["default"],f);t["default"]=p,e.exports=t["default"]},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={project:function(e){return[e[1],e[0]]},unproject:function(e){return[e[1],e[0]]},pointScale:function(e){var t=111132.92,n=-559.82,o=1.175,r=-.0023,i=111412.84,a=-93.5,u=.118,s=Math.PI/180,c=e[0]*s,l=t+n*Math.cos(2*c)+o*Math.cos(4*c)+r*Math.cos(6*c),f=i*Math.cos(c)+a*Math.cos(3*c)+u*Math.cos(5*c);return[1/l,1/f]},bounds:[[-180,-90],[180,90]]};t["default"]=n,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=_interopRequireDefault(o),i=n(9),a=_interopRequireDefault(i),u=n(16),s=_interopRequireDefault(u),c=n(12),l=_interopRequireDefault(c),f={projection:s["default"],transformation:new l["default"](1,0,1,0),scale:function(e){return e?Math.pow(2,e):1},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t[1]-e[1],o=t[0]-e[0];return Math.sqrt(n*n+o*o)},infinite:!0},p=(0,r["default"])({},a["default"],f);t["default"]=p,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=_interopRequireDefault(o),i=n(8),a=_interopRequireDefault(i),u=n(19),s=_interopRequireDefault(u),c=n(12),l=_interopRequireDefault(c),f=function(e,t,n){var o=(0,s["default"])(t,n),r=o.bounds[1][0]-o.bounds[0][0],i=o.bounds[1][1]-o.bounds[0][1],a=r/2,u=i/2,c=1/a,f=1/u,p=Math.min(c,f),h=p*(o.bounds[0][0]+a),d=p*(o.bounds[0][1]+u);return{code:e,projection:o,transformScale:p,transformation:new l["default"](p,-h,-p,d)}},p=function(e,t,n){return(0,r["default"])({},a["default"],f(e,t,n))};t["default"]=p,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),r=_interopRequireDefault(o),i=function(e,t){var n=(0,r["default"])(e),o=function(e){return n.forward([e[1],e[0]])},i=function(e){var t=n.inverse(e);return[t[1],t[0]]};return{project:o,unproject:i,pointScale:function(e,t){return[1,1]},bounds:function(){if(t)return t;var e=o([-90,-180]),n=o([90,180]);return[e,n]}()}};t["default"]=i,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,u=c=void 0}},i=n(2),a=_interopRequireDefault(i),u=n(22),s=_interopRequireDefault(u),c=n(23),l=_interopRequireDefault(c),f=n(24),p=_interopRequireDefault(f),h=n(25),d=_interopRequireDefault(h),v=function(e){function Engine(e){_classCallCheck(this,Engine),console.log("Init Engine"),r(Object.getPrototypeOf(Engine.prototype),"constructor",this).call(this),this._scene=l["default"],this._renderer=(0,p["default"])(e),this._camera=(0,d["default"])(e),this.clock=new s["default"].Clock}return _inherits(Engine,e),o(Engine,[{key:"_update",value:function(e){this.emit("preRender"),this._renderer.render(this._scene,this._camera),this.emit("postRender")}}]),Engine}(a["default"]);t["default"]=function(e){return new v(e)},e.exports=t["default"]},function(e,n){e.exports=t},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),r=_interopRequireDefault(o);t["default"]=function(){var e=new r["default"].Scene;return e.fog=new r["default"].Fog(16777215,1,15e3),e}(),e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),r=_interopRequireDefault(o),i=n(23),a=_interopRequireDefault(i);t["default"]=function(e){var t=new r["default"].WebGLRenderer({antialias:!0});t.setClearColor(a["default"].fog.color,1),t.gammaInput=!0,t.gammaOutput=!0,e.appendChild(t.domElement);var n=function(){t.setSize(e.clientWidth,e.clientHeight)};return window.addEventListener("resize",n,!1),n(),t},e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),r=_interopRequireDefault(o);t["default"]=function(e){var t=new r["default"].PerspectiveCamera(40,1,1,4e4);t.position.z=400;var n=function(){t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix()};return window.addEventListener("resize",n,!1),n(),t},e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),r=_interopRequireDefault(o),i={Orbit:r["default"]};t["default"]=i,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,u=c=void 0}},i=n(2),a=_interopRequireDefault(i),u=n(22),s=_interopRequireDefault(u),c=n(28),l=_interopRequireDefault(c),f=(0,l["default"])(s["default"]),p=function(e){function Orbit(){_classCallCheck(this,Orbit),r(Object.getPrototypeOf(Orbit.prototype),"constructor",this).call(this)}return _inherits(Orbit,e),o(Orbit,[{key:"_initEvents",value:function(){var e=this;this._controls.addEventListener("start",function(t){e._world.emit("controlsMoveStart",t.target.center)}),this._controls.addEventListener("change",function(t){e._world.emit("controlsMove",t.target.center)}),this._controls.addEventListener("end",function(t){e._world.emit("controlsMoveEnd",t.target.center)})}},{key:"_panTo",value:function(e,t){}},{key:"_panBy",value:function(e,t){}},{key:"_zoomTo",value:function(e,t){}},{key:"_zoomBy",value:function(e,t){}},{key:"_lookAt",value:function(e,t){}},{key:"_lookAtTarget",value:function(){}},{key:"_tiltTo",value:function(e,t){}},{key:"_tiltBy",value:function(e,t){}},{key:"_rotateTo",value:function(e,t){}},{key:"_rotateBy",value:function(e,t){}},{key:"_flyTo",value:function(e,t){}},{key:"update",value:function(){this._controls.update()}},{key:"addTo",value:function(e){return e.addControls(this),this}},{key:"_addToWorld",value:function(e){this._world=e,this._controls=new f(e._engine._camera,e._container),this._controls.maxPolarAngle=Math.PI/2,this._initEvents(),this.emit("added")}}]),Orbit}(a["default"]);t["default"]=function(){return new p},e.exports=t["default"]},function(e,t){e.exports=function(e){function OrbitConstraint(t){this.object=t,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-(1/0),this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25;var n,o,r=this,i=1e-6,a=0,u=0,s=1,c=new e.Vector3,l=!1;this.getPolarAngle=function(){return o},this.getAzimuthalAngle=function(){return n},this.rotateLeft=function(e){u-=e},this.rotateUp=function(e){a-=e},this.panLeft=function(){var t=new e.Vector3;return function(e){var n=this.object.matrix.elements,r=e/Math.cos(o);t.set(n[0],0,n[2]).normalize(),t.multiplyScalar(-r),c.add(t)}}(),this.panUp=function(){var t=new e.Vector3;return function(e){var n=this.object.matrix.elements,r=e/Math.cos(o);t.set(n[8],0,n[10]).normalize(),t.multiplyScalar(-r),c.add(t)}}(),this.pan=function(t,n,o,i){if(r.object instanceof e.PerspectiveCamera){var a=r.object.position,u=a.clone().sub(r.target),s=u.length();s*=Math.tan(r.object.fov/2*Math.PI/180),r.panLeft(2*t*s/i),r.panUp(2*n*s/i)}else r.object instanceof e.OrthographicCamera?(r.panLeft(t*(r.object.right-r.object.left)/o),r.panUp(n*(r.object.top-r.object.bottom)/i)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){r.object instanceof e.PerspectiveCamera?s/=t:r.object instanceof e.OrthographicCamera?(r.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),r.object.updateProjectionMatrix(),l=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(t){r.object instanceof e.PerspectiveCamera?s*=t:r.object instanceof e.OrthographicCamera?(r.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),r.object.updateProjectionMatrix(),l=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=function(){var r=new e.Vector3,f=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),p=f.clone().inverse(),h=new e.Vector3,d=new e.Quaternion;return function(){var e=this.object.position;r.copy(e).sub(this.target),r.applyQuaternion(f),n=Math.atan2(r.x,r.z),o=Math.atan2(Math.sqrt(r.x*r.x+r.z*r.z),r.y),n+=u,o+=a,n=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,n)),o=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o)),o=Math.max(i,Math.min(Math.PI-i,o));var t=r.length()*s;return t=Math.max(this.minDistance,Math.min(this.maxDistance,t)),this.target.add(c),r.x=t*Math.sin(o)*Math.sin(n),r.y=t*Math.cos(o),r.z=t*Math.sin(o)*Math.cos(n),r.applyQuaternion(p),e.copy(this.target).add(r),this.object.lookAt(this.target),this.enableDamping===!0?(u*=1-this.dampingFactor,a*=1-this.dampingFactor):(u=0,a=0),s=1,c.set(0,0,0),l||h.distanceToSquared(this.object.position)>i||8*(1-d.dot(this.object.quaternion))>i?(h.copy(this.object.position),d.copy(this.object.quaternion),l=!1,!0):!1}}()}function OrbitControls(t,n){function pan(e,t){var n=r.domElement===document?r.domElement.body:r.domElement;o.pan(e,t,n.clientWidth,n.clientHeight)}function getAutoRotationAngle(){return 2*Math.PI/60/60*r.autoRotateSpeed}function getZoomScale(){return Math.pow(.95,r.zoomSpeed)}function onMouseDown(e){if(r.enabled!==!1){if(e.preventDefault(),e.button===r.mouseButtons.ORBIT){if(r.enableRotate===!1)return;v=d.ROTATE,i.set(e.clientX,e.clientY)}else if(e.button===r.mouseButtons.ZOOM){if(r.enableZoom===!1)return;v=d.DOLLY,f.set(e.clientX,e.clientY)}else if(e.button===r.mouseButtons.PAN){if(r.enablePan===!1)return;v=d.PAN,s.set(e.clientX,e.clientY)}v!==d.NONE&&(document.addEventListener("mousemove",onMouseMove,!1),document.addEventListener("mouseup",onMouseUp,!1),r.dispatchEvent(_))}}function onMouseMove(e){if(r.enabled!==!1){e.preventDefault();var t=r.domElement===document?r.domElement.body:r.domElement;if(v===d.ROTATE){if(r.enableRotate===!1)return;a.set(e.clientX,e.clientY),u.subVectors(a,i),o.rotateLeft(2*Math.PI*u.x/t.clientWidth*r.rotateSpeed),o.rotateUp(2*Math.PI*u.y/t.clientHeight*r.rotateSpeed),i.copy(a)}else if(v===d.DOLLY){if(r.enableZoom===!1)return;p.set(e.clientX,e.clientY),h.subVectors(p,f),h.y>0?o.dollyIn(getZoomScale()):h.y<0&&o.dollyOut(getZoomScale()),f.copy(p)}else if(v===d.PAN){if(r.enablePan===!1)return;c.set(e.clientX,e.clientY),l.subVectors(c,s),pan(l.x,l.y),s.copy(c)}v!==d.NONE&&r.update()}}function onMouseUp(){r.enabled!==!1&&(document.removeEventListener("mousemove",onMouseMove,!1),document.removeEventListener("mouseup",onMouseUp,!1),r.dispatchEvent(b),v=d.NONE)}function onMouseWheel(e){if(r.enabled!==!1&&r.enableZoom!==!1&&v===d.NONE){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?o.dollyOut(getZoomScale()):0>t&&o.dollyIn(getZoomScale()),r.update(),r.dispatchEvent(_),r.dispatchEvent(b);
}}function onKeyDown(e){if(r.enabled!==!1&&r.enableKeys!==!1&&r.enablePan!==!1)switch(e.keyCode){case r.keys.UP:pan(0,r.keyPanSpeed),r.update();break;case r.keys.BOTTOM:pan(0,-r.keyPanSpeed),r.update();break;case r.keys.LEFT:pan(r.keyPanSpeed,0),r.update();break;case r.keys.RIGHT:pan(-r.keyPanSpeed,0),r.update()}}function touchstart(e){if(r.enabled!==!1){switch(e.touches.length){case 1:if(r.enableRotate===!1)return;v=d.TOUCH_ROTATE,i.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(r.enableZoom===!1)return;v=d.TOUCH_DOLLY;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);f.set(0,o);break;case 3:if(r.enablePan===!1)return;v=d.TOUCH_PAN,s.set(e.touches[0].pageX,e.touches[0].pageY);break;default:v=d.NONE}v!==d.NONE&&r.dispatchEvent(_)}}function touchmove(e){if(r.enabled!==!1){e.preventDefault(),e.stopPropagation();var t=r.domElement===document?r.domElement.body:r.domElement;switch(e.touches.length){case 1:if(r.enableRotate===!1)return;if(v!==d.TOUCH_ROTATE)return;a.set(e.touches[0].pageX,e.touches[0].pageY),u.subVectors(a,i),o.rotateLeft(2*Math.PI*u.x/t.clientWidth*r.rotateSpeed),o.rotateUp(2*Math.PI*u.y/t.clientHeight*r.rotateSpeed),i.copy(a),r.update();break;case 2:if(r.enableZoom===!1)return;if(v!==d.TOUCH_DOLLY)return;var n=e.touches[0].pageX-e.touches[1].pageX,m=e.touches[0].pageY-e.touches[1].pageY,_=Math.sqrt(n*n+m*m);p.set(0,_),h.subVectors(p,f),h.y>0?o.dollyOut(getZoomScale()):h.y<0&&o.dollyIn(getZoomScale()),f.copy(p),r.update();break;case 3:if(r.enablePan===!1)return;if(v!==d.TOUCH_PAN)return;c.set(e.touches[0].pageX,e.touches[0].pageY),l.subVectors(c,s),pan(l.x,l.y),s.copy(c),r.update();break;default:v=d.NONE}}}function touchend(){r.enabled!==!1&&(r.dispatchEvent(b),v=d.NONE)}function contextmenu(e){e.preventDefault()}var o=new OrbitConstraint(t);this.domElement=void 0!==n?n:document,Object.defineProperty(this,"constraint",{get:function(){return o}}),this.getPolarAngle=function(){return o.getPolarAngle()},this.getAzimuthalAngle=function(){return o.getAzimuthalAngle()},this.enabled=!0,this.center=this.target,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT};var r=this,i=new e.Vector2,a=new e.Vector2,u=new e.Vector2,s=new e.Vector2,c=new e.Vector2,l=new e.Vector2,f=new e.Vector2,p=new e.Vector2,h=new e.Vector2,d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},v=d.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var m={type:"change"},_={type:"start"},b={type:"end"};this.update=function(){this.autoRotate&&v===d.NONE&&o.rotateLeft(getAutoRotationAngle()),o.update()===!0&&this.dispatchEvent(m)},this.reset=function(){v=d.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(m),this.update()},this.dispose=function(){this.domElement.removeEventListener("contextmenu",contextmenu,!1),this.domElement.removeEventListener("mousedown",onMouseDown,!1),this.domElement.removeEventListener("mousewheel",onMouseWheel,!1),this.domElement.removeEventListener("MozMousePixelScroll",onMouseWheel,!1),this.domElement.removeEventListener("touchstart",touchstart,!1),this.domElement.removeEventListener("touchend",touchend,!1),this.domElement.removeEventListener("touchmove",touchmove,!1),document.removeEventListener("mousemove",onMouseMove,!1),document.removeEventListener("mouseup",onMouseUp,!1),window.removeEventListener("keydown",onKeyDown,!1)},this.domElement.addEventListener("contextmenu",contextmenu,!1),this.domElement.addEventListener("mousedown",onMouseDown,!1),this.domElement.addEventListener("mousewheel",onMouseWheel,!1),this.domElement.addEventListener("MozMousePixelScroll",onMouseWheel,!1),this.domElement.addEventListener("touchstart",touchstart,!1),this.domElement.addEventListener("touchend",touchend,!1),this.domElement.addEventListener("touchmove",touchmove,!1),window.addEventListener("keydown",onKeyDown,!1),this.update()}var t=e.MOUSE;return t||(t={LEFT:0,MIDDLE:1,RIGHT:2}),OrbitControls.prototype=Object.create(e.EventDispatcher.prototype),OrbitControls.prototype.constructor=OrbitControls,Object.defineProperties(OrbitControls.prototype,{object:{get:function(){return this.constraint.object}},target:{get:function(){return this.constraint.target},set:function(e){console.warn("THREE.OrbitControls: target is now immutable. Use target.set() instead."),this.constraint.target.copy(e)}},minDistance:{get:function(){return this.constraint.minDistance},set:function(e){this.constraint.minDistance=e}},maxDistance:{get:function(){return this.constraint.maxDistance},set:function(e){this.constraint.maxDistance=e}},minZoom:{get:function(){return this.constraint.minZoom},set:function(e){this.constraint.minZoom=e}},maxZoom:{get:function(){return this.constraint.maxZoom},set:function(e){this.constraint.maxZoom=e}},minPolarAngle:{get:function(){return this.constraint.minPolarAngle},set:function(e){this.constraint.minPolarAngle=e}},maxPolarAngle:{get:function(){return this.constraint.maxPolarAngle},set:function(e){this.constraint.maxPolarAngle=e}},minAzimuthAngle:{get:function(){return this.constraint.minAzimuthAngle},set:function(e){this.constraint.minAzimuthAngle=e}},maxAzimuthAngle:{get:function(){return this.constraint.maxAzimuthAngle},set:function(e){this.constraint.maxAzimuthAngle=e}},enableDamping:{get:function(){return this.constraint.enableDamping},set:function(e){this.constraint.enableDamping=e}},dampingFactor:{get:function(){return this.constraint.dampingFactor},set:function(e){this.constraint.dampingFactor=e}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.constraint.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.constraint.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor=e}}}),OrbitControls}},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,u=c=void 0}},i=n(30),a=_interopRequireDefault(i),u=n(22),s=_interopRequireDefault(u),c=function(e){function EnvironmentLayer(){_classCallCheck(this,EnvironmentLayer),r(Object.getPrototypeOf(EnvironmentLayer.prototype),"constructor",this).call(this),this._initLights(),this._initGrid()}return _inherits(EnvironmentLayer,e),o(EnvironmentLayer,[{key:"_initLights",value:function(){var e=new s["default"].DirectionalLight(10066329);e.intesity=.1,e.position.x=100,e.position.y=100,e.position.z=100;var t=new s["default"].DirectionalLight(10066329);t.intesity=.1,t.position.x=-100,t.position.y=100,t.position.z=-100;var n=new s["default"].DirectionalLightHelper(e,10),o=new s["default"].DirectionalLightHelper(t,10);this._layer.add(e),this._layer.add(t),this._layer.add(n),this._layer.add(o)}},{key:"_initGrid",value:function(){var e=4e3,t=100,n=new s["default"].GridHelper(e,t);this._layer.add(n)}}]),EnvironmentLayer}(a["default"]);t["default"]=function(){return new c},e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,u=c=void 0}},i=n(2),a=_interopRequireDefault(i),u=n(22),s=_interopRequireDefault(u),c=n(23),l=(_interopRequireDefault(c),function(e){function Layer(){_classCallCheck(this,Layer),r(Object.getPrototypeOf(Layer.prototype),"constructor",this).call(this),this._layer=new s["default"].Object3D}return _inherits(Layer,e),o(Layer,[{key:"addTo",value:function(e){return e.addLayer(this),this}},{key:"_addToWorld",value:function(e){this._world=e,this.emit("added")}}]),Layer}(a["default"]));t["default"]=l,e.exports=t["default"]}])});
//# sourceMappingURL=vizicities.min.js.map
