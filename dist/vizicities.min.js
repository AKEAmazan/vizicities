!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("THREE")):"function"==typeof define&&define.amd?define(["THREE"],t):"object"==typeof exports?exports.VIZI=t(require("THREE")):e.VIZI=t(e.THREE)}(this,function(e){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.loaded=!0,o.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=_interopRequireDefault(o),i=n(8),a=_interopRequireDefault(i),s=n(11),u=_interopRequireDefault(s),c={version:"0.3",World:r["default"],Controls:a["default"],EnvironmentLayer:u["default"]};t["default"]=c,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,s=c=void 0}},i=n(2),a=_interopRequireDefault(i),s=n(3),u=_interopRequireDefault(s),c=function(e){function World(e){_classCallCheck(this,World),r(Object.getPrototypeOf(World.prototype),"constructor",this).call(this),this._layers=[],this._controls=[],this._initContainer(e),this._initEngine(),this._update()}return _inherits(World,e),o(World,[{key:"_initContainer",value:function(e){this._container=document.getElementById(e)}},{key:"_initEngine",value:function(){this._engine=(0,u["default"])(this._container)}},{key:"_update",value:function(){var e=this._engine.clock.getDelta();window.requestAnimationFrame(this._update.bind(this)),this._controls.forEach(function(e){e.update()}),this.emit("preUpdate"),this._engine._update(e),this.emit("postUpdate")}},{key:"addLayer",value:function(e){return e._addToWorld(this),this._layers.push(e),this._engine._scene.add(e._layer),this.emit("layerAdded",e),this}},{key:"removeLayer",value:function(e){}},{key:"addControls",value:function(e){return e._addToWorld(this),this._controls.push(e),this.emit("controlsAdded",e),this}},{key:"removeControls",value:function(e){}}]),World}(a["default"]);t["default"]=function(e){return new c(e)},e.exports=t["default"]},function(e,t,n){"use strict";function EE(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function EventEmitter(){}var o="function"!=typeof Object.create?"~":!1;EventEmitter.prototype._events=void 0,EventEmitter.prototype.listeners=function(e,t){var n=o?o+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);a>i;i++)s[i]=r[i].fn;return s},EventEmitter.prototype.emit=function(e,t,n,r,i,a){var s=o?o+e:e;if(!this._events||!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,a),!0}for(c=1,u=new Array(f-1);f>c;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,h=l.length;for(c=0;h>c;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;default:if(!u)for(p=1,u=new Array(f-1);f>p;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},EventEmitter.prototype.on=function(e,t,n){var r=new EE(t,n||this),i=o?o+e:e;return this._events||(this._events=o?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):this._events[i]=r,this},EventEmitter.prototype.once=function(e,t,n){var r=new EE(t,n||this,!0),i=o?o+e:e;return this._events||(this._events=o?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):this._events[i]=r,this},EventEmitter.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events||!this._events[i])return this;var a=this._events[i],s=[];if(t)if(a.fn)(a.fn!==t||r&&!a.once||n&&a.context!==n)&&s.push(a);else for(var u=0,c=a.length;c>u;u++)(a[u].fn!==t||r&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);return s.length?this._events[i]=1===s.length?s[0]:s:delete this._events[i],this},EventEmitter.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[o?o+e:e]:this._events=o?{}:Object.create(null),this):this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=o,e.exports=EventEmitter},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,s=c=void 0}},i=n(2),a=_interopRequireDefault(i),s=n(4),u=_interopRequireDefault(s),c=n(5),l=_interopRequireDefault(c),f=n(6),p=_interopRequireDefault(f),h=n(7),d=_interopRequireDefault(h),m=function(e){function Engine(e){_classCallCheck(this,Engine),console.log("Init Engine"),r(Object.getPrototypeOf(Engine.prototype),"constructor",this).call(this),this._scene=l["default"],this._renderer=(0,p["default"])(e),this._camera=(0,d["default"])(e),this.clock=new u["default"].Clock}return _inherits(Engine,e),o(Engine,[{key:"_update",value:function(e){this.emit("preRender"),this._renderer.render(this._scene,this._camera),this.emit("postRender")}}]),Engine}(a["default"]);t["default"]=function(e){return new m(e)},e.exports=t["default"]},function(t,n){t.exports=e},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=_interopRequireDefault(o);t["default"]=function(){var e=new r["default"].Scene;return e.fog=new r["default"].Fog(16777215,1,15e3),e}(),e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=_interopRequireDefault(o),i=n(5),a=_interopRequireDefault(i);t["default"]=function(e){var t=new r["default"].WebGLRenderer({antialias:!0});t.setClearColor(a["default"].fog.color,1),t.gammaInput=!0,t.gammaOutput=!0,e.appendChild(t.domElement);var n=function(){t.setSize(e.clientWidth,e.clientHeight)};return window.addEventListener("resize",n,!1),n(),t},e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=_interopRequireDefault(o);t["default"]=function(e){var t=new r["default"].PerspectiveCamera(40,1,1,4e4);t.position.z=400;var n=function(){t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix()};return window.addEventListener("resize",n,!1),n(),t},e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=_interopRequireDefault(o),i={Orbit:r["default"]};t["default"]=i,e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,s=c=void 0}},i=n(2),a=_interopRequireDefault(i),s=n(4),u=_interopRequireDefault(s),c=n(10),l=_interopRequireDefault(c),f=(0,l["default"])(u["default"]),p=function(e){function Orbit(){_classCallCheck(this,Orbit),r(Object.getPrototypeOf(Orbit.prototype),"constructor",this).call(this)}return _inherits(Orbit,e),o(Orbit,[{key:"_initEvents",value:function(){this._controls.addEventListener("start",function(e){console.log(e)}),this._controls.addEventListener("change",function(e){console.log(e)}),this._controls.addEventListener("end",function(e){console.log(e)})}},{key:"_panTo",value:function(e,t){}},{key:"_panBy",value:function(e,t){}},{key:"_zoomTo",value:function(e,t){}},{key:"_zoomBy",value:function(e,t){}},{key:"_lookAt",value:function(e,t){}},{key:"_lookAtTarget",value:function(){}},{key:"_tiltTo",value:function(e,t){}},{key:"_tiltBy",value:function(e,t){}},{key:"_rotateTo",value:function(e,t){}},{key:"_rotateBy",value:function(e,t){}},{key:"_flyTo",value:function(e,t){}},{key:"update",value:function(){this._controls.update()}},{key:"addTo",value:function(e){return e.addControls(this),this}},{key:"_addToWorld",value:function(e){this._world=e,this._controls=new f(e._engine._camera,e._container),this._controls.maxPolarAngle=Math.PI/2,this._controls.enableDamping=!0,this._controls.dampingFactor=.25,this._initEvents(),this.emit("added")}}]),Orbit}(a["default"]);t["default"]=function(){return new p},e.exports=t["default"]},function(e,t){e.exports=function(e){function OrbitConstraint(t){this.object=t,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-(1/0),this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25;var n,o,r=this,i=1e-6,a=0,s=0,u=1,c=new e.Vector3,l=!1;this.getPolarAngle=function(){return o},this.getAzimuthalAngle=function(){return n},this.rotateLeft=function(e){s-=e},this.rotateUp=function(e){a-=e},this.panLeft=function(){var t=new e.Vector3;return function(e){var n=this.object.matrix.elements,r=e/Math.cos(o);t.set(n[0],0,n[2]).normalize(),t.multiplyScalar(-r),c.add(t)}}(),this.panUp=function(){var t=new e.Vector3;return function(e){var n=this.object.matrix.elements,r=e/Math.cos(o);t.set(n[8],0,n[10]).normalize(),t.multiplyScalar(-r),c.add(t)}}(),this.pan=function(t,n,o,i){if(r.object instanceof e.PerspectiveCamera){var a=r.object.position,s=a.clone().sub(r.target),u=s.length();u*=Math.tan(r.object.fov/2*Math.PI/180),r.panLeft(2*t*u/i),r.panUp(2*n*u/i)}else r.object instanceof e.OrthographicCamera?(r.panLeft(t*(r.object.right-r.object.left)/o),r.panUp(n*(r.object.top-r.object.bottom)/i)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){r.object instanceof e.PerspectiveCamera?u/=t:r.object instanceof e.OrthographicCamera?(r.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),r.object.updateProjectionMatrix(),l=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(t){r.object instanceof e.PerspectiveCamera?u*=t:r.object instanceof e.OrthographicCamera?(r.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),r.object.updateProjectionMatrix(),l=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.update=function(){var r=new e.Vector3,f=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),p=f.clone().inverse(),h=new e.Vector3,d=new e.Quaternion;return function(){var e=this.object.position;r.copy(e).sub(this.target),r.applyQuaternion(f),n=Math.atan2(r.x,r.z),o=Math.atan2(Math.sqrt(r.x*r.x+r.z*r.z),r.y),n+=s,o+=a,n=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,n)),o=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o)),o=Math.max(i,Math.min(Math.PI-i,o));var t=r.length()*u;return t=Math.max(this.minDistance,Math.min(this.maxDistance,t)),this.target.add(c),r.x=t*Math.sin(o)*Math.sin(n),r.y=t*Math.cos(o),r.z=t*Math.sin(o)*Math.cos(n),r.applyQuaternion(p),e.copy(this.target).add(r),this.object.lookAt(this.target),this.enableDamping===!0?(s*=1-this.dampingFactor,a*=1-this.dampingFactor):(s=0,a=0),u=1,c.set(0,0,0),l||h.distanceToSquared(this.object.position)>i||8*(1-d.dot(this.object.quaternion))>i?(h.copy(this.object.position),d.copy(this.object.quaternion),l=!1,!0):!1}}()}function OrbitControls(t,n){function pan(e,t){var n=r.domElement===document?r.domElement.body:r.domElement;o.pan(e,t,n.clientWidth,n.clientHeight)}function getAutoRotationAngle(){return 2*Math.PI/60/60*r.autoRotateSpeed}function getZoomScale(){return Math.pow(.95,r.zoomSpeed)}function onMouseDown(e){if(r.enabled!==!1){if(e.preventDefault(),e.button===r.mouseButtons.ORBIT){if(r.enableRotate===!1)return;m=d.ROTATE,i.set(e.clientX,e.clientY)}else if(e.button===r.mouseButtons.ZOOM){if(r.enableZoom===!1)return;m=d.DOLLY,f.set(e.clientX,e.clientY)}else if(e.button===r.mouseButtons.PAN){if(r.enablePan===!1)return;m=d.PAN,u.set(e.clientX,e.clientY)}m!==d.NONE&&(document.addEventListener("mousemove",onMouseMove,!1),document.addEventListener("mouseup",onMouseUp,!1),r.dispatchEvent(b))}}function onMouseMove(e){if(r.enabled!==!1){e.preventDefault();var t=r.domElement===document?r.domElement.body:r.domElement;if(m===d.ROTATE){if(r.enableRotate===!1)return;a.set(e.clientX,e.clientY),s.subVectors(a,i),o.rotateLeft(2*Math.PI*s.x/t.clientWidth*r.rotateSpeed),o.rotateUp(2*Math.PI*s.y/t.clientHeight*r.rotateSpeed),i.copy(a)}else if(m===d.DOLLY){if(r.enableZoom===!1)return;p.set(e.clientX,e.clientY),h.subVectors(p,f),h.y>0?o.dollyIn(getZoomScale()):h.y<0&&o.dollyOut(getZoomScale()),f.copy(p)}else if(m===d.PAN){if(r.enablePan===!1)return;c.set(e.clientX,e.clientY),l.subVectors(c,u),pan(l.x,l.y),u.copy(c)}m!==d.NONE&&r.update()}}function onMouseUp(){r.enabled!==!1&&(document.removeEventListener("mousemove",onMouseMove,!1),document.removeEventListener("mouseup",onMouseUp,!1),r.dispatchEvent(y),m=d.NONE)}function onMouseWheel(e){if(r.enabled!==!1&&r.enableZoom!==!1&&m===d.NONE){e.preventDefault(),e.stopPropagation();var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?o.dollyOut(getZoomScale()):0>t&&o.dollyIn(getZoomScale()),r.update(),r.dispatchEvent(b),r.dispatchEvent(y)}}function onKeyDown(e){if(r.enabled!==!1&&r.enableKeys!==!1&&r.enablePan!==!1)switch(e.keyCode){case r.keys.UP:pan(0,r.keyPanSpeed),r.update();break;case r.keys.BOTTOM:pan(0,-r.keyPanSpeed),r.update();break;case r.keys.LEFT:pan(r.keyPanSpeed,0),r.update();break;case r.keys.RIGHT:pan(-r.keyPanSpeed,0),r.update()}}function touchstart(e){if(r.enabled!==!1){switch(e.touches.length){case 1:if(r.enableRotate===!1)return;m=d.TOUCH_ROTATE,i.set(e.touches[0].pageX,e.touches[0].pageY);break;case 2:if(r.enableZoom===!1)return;m=d.TOUCH_DOLLY;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);f.set(0,o);break;case 3:if(r.enablePan===!1)return;m=d.TOUCH_PAN,u.set(e.touches[0].pageX,e.touches[0].pageY);break;default:m=d.NONE}m!==d.NONE&&r.dispatchEvent(b)}}function touchmove(e){if(r.enabled!==!1){e.preventDefault(),e.stopPropagation();var t=r.domElement===document?r.domElement.body:r.domElement;switch(e.touches.length){case 1:if(r.enableRotate===!1)return;if(m!==d.TOUCH_ROTATE)return;a.set(e.touches[0].pageX,e.touches[0].pageY),s.subVectors(a,i),o.rotateLeft(2*Math.PI*s.x/t.clientWidth*r.rotateSpeed),o.rotateUp(2*Math.PI*s.y/t.clientHeight*r.rotateSpeed),i.copy(a),r.update();break;case 2:if(r.enableZoom===!1)return;if(m!==d.TOUCH_DOLLY)return;var n=e.touches[0].pageX-e.touches[1].pageX,v=e.touches[0].pageY-e.touches[1].pageY,b=Math.sqrt(n*n+v*v);p.set(0,b),h.subVectors(p,f),h.y>0?o.dollyOut(getZoomScale()):h.y<0&&o.dollyIn(getZoomScale()),f.copy(p),r.update();break;case 3:if(r.enablePan===!1)return;if(m!==d.TOUCH_PAN)return;c.set(e.touches[0].pageX,e.touches[0].pageY),l.subVectors(c,u),pan(l.x,l.y),u.copy(c),r.update();break;default:m=d.NONE}}}function touchend(){r.enabled!==!1&&(r.dispatchEvent(y),m=d.NONE)}function contextmenu(e){e.preventDefault()}var o=new OrbitConstraint(t);this.domElement=void 0!==n?n:document,Object.defineProperty(this,"constraint",{get:function(){return o}}),this.getPolarAngle=function(){return o.getPolarAngle()},this.getAzimuthalAngle=function(){return o.getAzimuthalAngle()},this.enabled=!0,this.center=this.target,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT};var r=this,i=new e.Vector2,a=new e.Vector2,s=new e.Vector2,u=new e.Vector2,c=new e.Vector2,l=new e.Vector2,f=new e.Vector2,p=new e.Vector2,h=new e.Vector2,d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},m=d.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var v={type:"change"},b={type:"start"},y={type:"end"};this.update=function(){this.autoRotate&&m===d.NONE&&o.rotateLeft(getAutoRotationAngle()),o.update()===!0&&this.dispatchEvent(v)},this.reset=function(){m=d.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(v),this.update()},this.dispose=function(){this.domElement.removeEventListener("contextmenu",contextmenu,!1),this.domElement.removeEventListener("mousedown",onMouseDown,!1),this.domElement.removeEventListener("mousewheel",onMouseWheel,!1),this.domElement.removeEventListener("MozMousePixelScroll",onMouseWheel,!1),this.domElement.removeEventListener("touchstart",touchstart,!1),this.domElement.removeEventListener("touchend",touchend,!1),this.domElement.removeEventListener("touchmove",touchmove,!1),document.removeEventListener("mousemove",onMouseMove,!1),document.removeEventListener("mouseup",onMouseUp,!1),window.removeEventListener("keydown",onKeyDown,!1)},this.domElement.addEventListener("contextmenu",contextmenu,!1),this.domElement.addEventListener("mousedown",onMouseDown,!1),this.domElement.addEventListener("mousewheel",onMouseWheel,!1),this.domElement.addEventListener("MozMousePixelScroll",onMouseWheel,!1),this.domElement.addEventListener("touchstart",touchstart,!1),this.domElement.addEventListener("touchend",touchend,!1),this.domElement.addEventListener("touchmove",touchmove,!1),window.addEventListener("keydown",onKeyDown,!1),this.update()}var t=e.MOUSE;return t||(t={LEFT:0,MIDDLE:1,RIGHT:2}),OrbitControls.prototype=Object.create(e.EventDispatcher.prototype),OrbitControls.prototype.constructor=OrbitControls,Object.defineProperties(OrbitControls.prototype,{object:{get:function(){return this.constraint.object}},target:{get:function(){return this.constraint.target},set:function(e){console.warn("THREE.OrbitControls: target is now immutable. Use target.set() instead."),this.constraint.target.copy(e)}},minDistance:{get:function(){return this.constraint.minDistance},set:function(e){this.constraint.minDistance=e}},maxDistance:{get:function(){return this.constraint.maxDistance},set:function(e){this.constraint.maxDistance=e}},minZoom:{get:function(){return this.constraint.minZoom},set:function(e){this.constraint.minZoom=e}},maxZoom:{get:function(){return this.constraint.maxZoom},set:function(e){this.constraint.maxZoom=e}},minPolarAngle:{get:function(){return this.constraint.minPolarAngle},set:function(e){this.constraint.minPolarAngle=e}},maxPolarAngle:{get:function(){return this.constraint.maxPolarAngle},set:function(e){this.constraint.maxPolarAngle=e}},minAzimuthAngle:{get:function(){return this.constraint.minAzimuthAngle},set:function(e){this.constraint.minAzimuthAngle=e}},maxAzimuthAngle:{get:function(){return this.constraint.maxAzimuthAngle},set:function(e){this.constraint.maxAzimuthAngle=e}},enableDamping:{get:function(){return this.constraint.enableDamping},set:function(e){this.constraint.enableDamping=e}},dampingFactor:{get:function(){return this.constraint.dampingFactor},set:function(e){this.constraint.dampingFactor=e}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.constraint.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.constraint.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor=e}}}),OrbitControls}},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,s=c=void 0}},i=n(12),a=_interopRequireDefault(i),s=n(4),u=_interopRequireDefault(s),c=function(e){function EnvironmentLayer(){_classCallCheck(this,EnvironmentLayer),r(Object.getPrototypeOf(EnvironmentLayer.prototype),"constructor",this).call(this),this._initLights(),this._initGrid()}return _inherits(EnvironmentLayer,e),o(EnvironmentLayer,[{key:"_initLights",value:function(){var e=new u["default"].DirectionalLight(10066329);e.intesity=.1,e.position.x=100,e.position.y=100,e.position.z=100;var t=new u["default"].DirectionalLight(10066329);t.intesity=.1,t.position.x=-100,t.position.y=100,t.position.z=-100;var n=new u["default"].DirectionalLightHelper(e,10),o=new u["default"].DirectionalLightHelper(t,10);this._layer.add(e),this._layer.add(t),this._layer.add(n),this._layer.add(o)}},{key:"_initGrid",value:function(){var e=4e3,t=100,n=new u["default"].GridHelper(e,t);this._layer.add(n)}}]),EnvironmentLayer}(a["default"]);t["default"]=function(){return new c},e.exports=t["default"]},function(e,t,n){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=a,o=!0,s=c=void 0}},i=n(2),a=_interopRequireDefault(i),s=n(4),u=_interopRequireDefault(s),c=n(5),l=(_interopRequireDefault(c),function(e){function Layer(){_classCallCheck(this,Layer),r(Object.getPrototypeOf(Layer.prototype),"constructor",this).call(this),this._layer=new u["default"].Object3D}return _inherits(Layer,e),o(Layer,[{key:"addTo",value:function(e){return e.addLayer(this),this}},{key:"_addToWorld",value:function(e){this._world=e,this.emit("added")}}]),Layer}(a["default"]));t["default"]=l,e.exports=t["default"]}])});
//# sourceMappingURL=vizicities.min.js.map
