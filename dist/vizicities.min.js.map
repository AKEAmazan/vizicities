{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","vizicities.min.js","webpack:/webpack/bootstrap e12155ba67f6788d6b81","webpack:///src/vizicities.js","webpack:///src/World.js","webpack:///~/eventemitter3/index.js","webpack:///~/lodash.assign/index.js","webpack:///~/lodash.keys/index.js","webpack:///~/lodash.rest/index.js","webpack:///src/geo/crs/index.js","webpack:///src/geo/crs/CRS.EPSG3857.js","webpack:///src/geo/crs/CRS.Earth.js","webpack:///src/geo/crs/CRS.js","webpack:///src/geo/Point.js","webpack:///src/geo/LatLon.js","webpack:///src/util/wrapNum.js","webpack:///src/geo/projection/Projection.SphericalMercator.js","webpack:///src/util/Transformation.js","webpack:///src/geo/projection/Projection.LatLon.js","webpack:///src/geo/crs/CRS.Simple.js","webpack:///src/geo/crs/CRS.Proj4.js","webpack:///src/geo/projection/Projection.Proj4.js","webpack:/external \"proj4\"","webpack:///src/engine/Engine.js","webpack:///src/engine/Scene.js","webpack:///src/engine/Renderer.js","webpack:///src/engine/Camera.js","webpack:///src/geo/crs/CRS.EPSG3395.js","webpack:///src/geo/projection/Projection.Mercator.js","webpack:///src/geo/crs/CRS.EPSG4326.js","webpack:///src/engine/Picking.js","webpack:///src/engine/PickingScene.js","webpack:///src/controls/index.js","webpack:///src/controls/Controls.Orbit.js","webpack:///src/vendor/OrbitControls.js","webpack:///~/hammerjs/hammer.js","webpack:///src/layer/environment/EnvironmentLayer.js","webpack:///src/layer/Layer.js","webpack:///src/layer/environment/Skybox.js","webpack:///~/lodash.throttle/index.js","webpack:///src/layer/environment/Sky.js","webpack:///~/lodash.throttle/~/lodash.debounce/index.js","webpack:///src/layer/tile/ImageTileLayer.js","webpack:///src/layer/tile/TileLayer.js","webpack:///src/layer/tile/TileCache.js","webpack:///~/lru-cache/lib/lru-cache.js","webpack:///~/process/browser.js","webpack:///~/pseudomap/pseudomap.js","webpack:///~/pseudomap/map.js","webpack:///~/util/util.js","webpack:///~/util/support/isBufferBrowser.js","webpack:///~/inherits/inherits_browser.js","webpack:///~/yallist/yallist.js","webpack:///src/layer/tile/ImageTile.js","webpack:///src/layer/tile/Tile.js","webpack:///src/vendor/BoxHelper.js","webpack:///src/layer/tile/ImageTileLayerBaseMaterial.js","webpack:///src/layer/tile/GeoJSONTileLayer.js","webpack:///src/layer/tile/GeoJSONTile.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_22__","__WEBPACK_EXTERNAL_MODULE_24__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_World","_World2","_controlsIndex","_controlsIndex2","_layerEnvironmentEnvironmentLayer","_layerEnvironmentEnvironmentLayer2","_layerTileImageTileLayer","_layerTileImageTileLayer2","_layerTileGeoJSONTileLayer","_layerTileGeoJSONTileLayer2","_layerTileTopoJSONTileLayer","_layerTileTopoJSONTileLayer2","_layerGeoJSONLayer","_layerGeoJSONLayer2","_layerTopoJSONLayer","_layerTopoJSONLayer2","_geoPoint","_geoPoint2","_geoLatLon","_geoLatLon2","VIZI","version","World","Controls","EnvironmentLayer","ImageTileLayer","GeoJSONTileLayer","TopoJSONTileLayer","GeoJSONLayer","TopoJSONLayer","Point","LatLon","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","parent","getPrototypeOf","_eventemitter3","_eventemitter32","_lodashAssign","_lodashAssign2","_geoCrsIndex","_geoCrsIndex2","_engineEngine","_engineEngine2","_EventEmitter","domId","options","defaults","crs","EPSG3857","skybox","_layers","_controls","_initContainer","_initEngine","_initEnvironment","_initEvents","_pause","_update","_container","document","getElementById","_engine","_environment","addTo","on","_onControlsMoveEnd","point","_point","x","z","_resetView","pointToLatLon","latlon","emit","_moveStart","_move","_moveEnd","_lastPosition","delta","clock","getDelta","window","requestAnimationFrame","bind","forEach","controls","update","_originLatlon","_originPoint","project","latLonToPoint","projectedPoint","_subtract","add","unproject","accurate","pointScale","metres","zoom","metresToWorld","worldUnits","worldToMetres","_camera","layer","_addToWorld","push","_scene","_layer","layerIndex","indexOf","splice","remove","controlsIndex","stop","off","removeControls","destroy","removeLayer","EE","fn","context","once","EventEmitter","prefix","_events","listeners","event","exists","evt","available","l","ee","Array","a1","a2","a3","a4","a5","args","len","arguments","removeListener","apply","j","listener","events","removeAllListeners","addListener","setMaxListeners","prefixed","isIndex","reIsUint","test","MAX_SAFE_INTEGER","assignValue","objValue","eq","objectProto","hasOwnProperty","baseProperty","copyObject","source","copyObjectWith","customizer","index","newValue","createAssigner","assigner","rest","sources","guard","isIterateeCall","isObject","type","isArrayLike","other","isFunction","isLength","getLength","tag","objectToString","funcTag","genTag","keys","toString","assign","baseTimes","n","iteratee","result","baseHas","baseKeys","nativeKeys","indexKeys","isArray","isString","isArguments","String","isPrototype","Ctor","proto","isArrayLikeObject","propertyIsEnumerable","argsTag","isObjectLike","stringTag","isProto","indexes","skipIndexes","func","thisArg","start","FUNC_ERROR_TEXT","nativeMax","toInteger","array","otherArgs","toNumber","INFINITY","sign","MAX_INTEGER","remainder","valueOf","replace","reTrim","isBinary","reIsBinary","reIsOctal","freeParseInt","slice","reIsBadHex","NAN","parseInt","Math","max","_CRSEPSG3857","_CRSEPSG38572","_CRSEPSG3395","_CRSEPSG33952","_CRSEPSG4326","_CRSEPSG43262","_CRSSimple","_CRSSimple2","_CRSProj4","_CRSProj42","CRS","EPSG900913","EPSG3395","EPSG4326","Simple","Proj4","_CRSEarth","_CRSEarth2","_projectionProjectionSphericalMercator","_projectionProjectionSphericalMercator2","_utilTransformation","_utilTransformation2","_EPSG3857","code","projection","transformScale","PI","R","transformation","scale","_CRS","_CRS2","_LatLon","Earth","wrapLon","distance","latlon1","latlon2","lat1","lat2","a","rad","lat","lon1","lon","lon2","deltaLat","deltaLon","halfDeltaLat","halfDeltaLon","sin","cos","atan2","sqrt","acos","min","metresToProjected","projectedToMetres","projectedUnits","projectedMetres","scaledMetres","realMetres","_LatLon2","_Point","_Point2","_utilWrapNum","_utilWrapNum2","scaleFactor","_transform","untransformedPoint","untransform","pow","log","LN2","getProjectedBounds","infinite","b","bounds","s","transform","wrapLatLon","wrapLat","alt","isNaN","Error","lng","y","round","clone","_add","wrapNum","range","includeMax","d","SphericalMercator","MAX_LATITUDE","ECC","ECC2","atan","exp","k","sinLat","sinLat2","cosLat","v","h","Transformation","_a","_b","_c","_d","_projectionProjectionMercator","_projectionProjectionMercator2","_EPSG3395","Mercator","R_MINOR","r","tmp","e","con","ts","tan","phi","dphi","abs","_projectionProjectionLatLon","_projectionProjectionLatLon2","_EPSG4326","ProjectionLatLon","m1","m2","m3","m4","p1","p2","p3","latlen","lonlen","_Simple","dx","dy","_projectionProjectionProj4","_projectionProjectionProj42","_Proj4","def","diffX","diffY","halfX","halfY","scaleX","scaleY","offsetX","offsetY","_proj4","_proj42","proj","forward","inverse","bottomLeft","topRight","_three","_three2","_Scene","_Scene2","_Renderer","_Renderer2","_Camera","_Camera2","_Picking","_Picking2","Engine","container","world","console","_world","_renderer","_picking","Clock","_frustum","Frustum","render","child","children","geometry","dispose","material","map","_clock","scene","Scene","renderer","WebGLRenderer","antialias","setClearColor","setPixelRatio","devicePixelRatio","gammaInput","gammaOutput","shadowMap","enabled","cullFace","CullFaceBack","appendChild","domElement","updateSize","setSize","clientWidth","clientHeight","addEventListener","camera","PerspectiveCamera","position","aspect","updateProjectionMatrix","_PickingScene","_PickingScene2","nextId","Picking","_raycaster","Raycaster","linePrecision","_pickingScene","_pickingTexture","WebGLRenderTarget","texture","minFilter","LinearFilter","generateMipmaps","_nextId","_resizeTexture","_onMouseUp","_onWorldMove","button","clientX","clientY","normalisedPoint","_width","_height","_pick","_needUpdate","size","getSize","width","height","_pixelBuffer","Uint8Array","readRenderTargetPixels","setFromCamera","_point3d","intersects","intersectObjects","_point2d","mesh","removeEventListener","_ControlsOrbit","_ControlsOrbit2","Orbit","_vendorOrbitControls","_vendorOrbitControls2","_this","animate","pointDelta","metresDelta","angle","angleDelta","noZoom","addControls","maxPolarAngle","_hammerjs","_hammerjs2","OrbitControls","getAutoRotationAngle","scope","autoRotateSpeed","getZoomScale","zoomSpeed","rotateLeft","thetaDelta","rotateUp","phiDelta","dollyIn","dollyScale","OrthographicCamera","minZoom","maxZoom","zoomChanged","warn","enableZoom","dollyOut","handleMouseDownRotate","rotateStart","set","handleMouseDownDolly","dollyStart","handleMouseDownPan","panStart","handleMouseMoveRotate","rotateEnd","rotateDelta","subVectors","element","body","rotateSpeed","copy","handleMouseMoveDolly","dollyEnd","dollyDelta","handleMouseMovePan","panEnd","panDelta","pan","handleMouseUp","handleMouseWheel","wheelDelta","detail","handleKeyDown","keyCode","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","handleTouchStartRotate","pointers","pageX","pageY","handleTouchStartDolly","handleTouchStartPan","deltaX","deltaY","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","onMouseDown","preventDefault","mouseButtons","ORBIT","enableRotate","state","STATE","ROTATE","ZOOM","DOLLY","PAN","enablePan","NONE","onMouseMove","onMouseUp","dispatchEvent","startEvent","endEvent","onMouseWheel","stopPropagation","onKeyDown","enableKeys","onTouchStart","touches","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","onTouchMove","onTouchEnd","onContextMenu","Vector3","minDistance","maxDistance","Infinity","minPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","autoRotate","MOUSE","MIDDLE","target0","position0","zoom0","getPolarAngle","getAzimuthalAngle","theta","reset","changeEvent","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","lastPosition","lastQuaternion","sub","applyQuaternion","EPS","radius","panOffset","lookAt","distanceToSquared","dot","quaternion","Vector2","panLeft","objectMatrix","te","elements","multiplyScalar","panUp","adjDist","targetDistance","fov","matrix","right","left","top","bottom","hammer","direction","DIRECTION_ALL","enable","threshold","pointerType","EventDispatcher","center","noRotate","noPan","noKeys","staticMoving","constraint","dynamicDampingFactor","__WEBPACK_AMD_DEFINE_RESULT__","exportName","setTimeoutContext","timeout","setTimeout","bindFn","invokeArrayArg","arg","each","iterator","deprecate","method","name","message","deprecationMessage","stack","inherit","base","properties","childP","baseP","_super","boolOrFn","val","TYPE_FUNCTION","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","hasParent","node","parentNode","inStr","str","find","trim","split","inArray","src","findByKey","toArray","uniqueArray","sort","results","values","prop","camelProp","toUpperCase","VENDOR_PREFIXES","uniqueId","_uniqueId","getWindowForElement","doc","ownerDocument","defaultView","parentWindow","Input","manager","callback","self","inputTarget","domHandler","ev","init","createInputInstance","Type","inputClass","SUPPORT_POINTER_EVENTS","PointerEventInput","SUPPORT_ONLY_TOUCH","TouchInput","SUPPORT_TOUCH","TouchMouseInput","MouseInput","inputHandler","eventType","input","pointersLen","changedPointersLen","changedPointers","isFirst","INPUT_START","isFinal","INPUT_END","INPUT_CANCEL","session","computeInputData","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","now","deltaTime","getAngle","getDistance","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offsetDelta","prevDelta","velocity","velocityX","velocityY","last","lastInterval","COMPUTE_INTERVAL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","PROPS_XY","end","PROPS_CLIENT_XY","evEl","MOUSE_ELEMENT_EVENTS","evWin","MOUSE_WINDOW_EVENTS","allow","pressed","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","store","pointerEvents","SingleTouchInput","evTarget","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","started","normalizeSingleTouches","all","changed","changedTouches","concat","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","INPUT_MOVE","identifier","targetTouches","changedTargetTouches","filter","touch","mouse","TouchAction","cleanTouchActions","actions","TOUCH_ACTION_NONE","hasPanX","TOUCH_ACTION_PAN_X","hasPanY","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_AUTO","Recognizer","STATE_POSSIBLE","simultaneous","requireFail","stateStr","STATE_CANCELLED","STATE_ENDED","STATE_CHANGED","STATE_BEGAN","directionStr","getRecognizerByNameIfManager","otherRecognizer","recognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","recognizers","preset","Manager","handlers","touchAction","toggleCssProps","item","recognizeWith","requireFailure","style","cssProps","triggerDomEvent","data","gestureEvent","createEvent","initEvent","gesture","TEST_ELEMENT","createElement","Date","output","nextKey","extend","dest","merge","MOBILE_REGEX","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","which","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM",2,3,4,5,"MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","TOUCH_INPUT_MAP","inputEvent","inputData","isMouse","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","compute","getTouchAction","join","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_RECOGNIZED","STATE_FAILED","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","force","stopped","curRecognizer","existing","Tap","Pan","Swipe","Pinch","Rotate","Press","freeGlobal","_Layer2","_Layer3","_Skybox","_Skybox2","_Layer","_options","_initLights","_initSkybox","_skyboxLight","DirectionalLight","castShadow","shadow","near","far","mapSize","directionalLight","intesity","directionalLight2","helper","DirectionalLightHelper","helper2","_skybox","_mesh","step","gridHelper","GridHelper","_engineScene","Layer","Object3D","addLayer","_onAdd","getNextId","_Sky","_Sky2","_lodashThrottle","_lodashThrottle2","cubemap","vertexShader","fragmentShader","Skybox","light","_light","_settings","turbidity","reileigh","mieCoefficient","mieDirectionalG","luminance","inclination","azimuth","_updateUniforms","_throttledWorldUpdate","_cubeCamera","CubeCamera","cubeTarget","renderTarget","_sky","_skyScene","_sunSphere","Mesh","SphereBufferGeometry","MeshBasicMaterial","color","skyboxUniforms","skyboxMat","ShaderMaterial","uniforms","side","BackSide","BoxGeometry","_updateSkybox","settings","sunPosition","intensity","updateCubeMap","ShaderLib","Sky","skyShader","skyUniforms","UniformsUtils","skyMat","skyGeo","skyMesh","throttle","wait","leading","trailing","debounce","maxWait","cancel","timeoutId","maxTimeoutId","lastCalled","trailingCall","complete","isCalled","delayed","remaining","stamp","flush","maxDelayed","debounced","leadingCall","_TileLayer2","_TileLayer3","_ImageTile","_ImageTile2","_ImageTileLayerBaseMaterial","_ImageTileLayerBaseMaterial2","_TileLayer","path","_path","baseMaterial","geom","PlaneBufferGeometry","getRenderTarget","renderOrder","receiveShadow","_baseLayer","_calculateLOD","_onWorldUpdate","_outputTiles","_moveBaseLayer","quadcode","_TileCache","_TileCache2","TileLayer","picking","maxCache","maxLOD","_tileCache","tile","_destroyTile","_tileList","_minLOD","_maxLOD","_tiles","_tilesPicking","addToPicking","getCamera","projScreenMatrix","Matrix4","multiplyMatrices","projectionMatrix","matrixWorldInverse","setFromMatrix","getBounds","intersectsBox","Box3","_this2","_removeTiles","isReady","getMesh","getPickingMesh","_this3","_stop","_updateFrustum","checkList","_checklist","_requestTile","_divide","_tileInFrustum","dist","requestTileAsync","currentItem","getQuadcode","_screenSpaceError","minDepth","maxDepth","quality","error","getSide","getTile","_createTile","setTile","removeFromPicking","_lruCache","_lruCache2","TileCache","cacheLimit","onDestroyTile","_cache","priv","sym","symbols","makeSymbol","naiveLength","LRUCache","lc","stale","maxAge","forEachStep","thisp","hit","isStale","del","doUse","unshiftNode","diff","walker","tail","prev","removeNode","Entry","Map","util","Yallist","hasSymbol","Symbol","mL","allowStale","mA","lC","rforEach","head","next","dump","dumpLru","inspect","opts","extras","as","didFirst","has","unshift","peek","pop","load","arr","expiresAt","prune","env","npm_package_name","npm_lifecycle_script","TEST_PSEUDOMAP","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","run","Item","fun","noop","nextTick","title","browser","argv","versions","binding","cwd","chdir","dir","umask","PseudoMap","clear","kv","same","_index","_data","res","entries","global","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","styles","arrayToHash","hash","idx","recurseTimes","ret","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","RegExp","isDate","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","JSON","stringify","isNumber","isNull","match","line","substr","numLinesEst","reduce","cur","ar","isNullOrUndefined","isSymbol","re","isPrimitive","o","pad","timestamp","getHours","getMinutes","getSeconds","getDate","months","getMonth","formatRegExp","format","f","objects","Number","_","msg","deprecated","warned","throwDeprecation","traceDeprecation","trace","noDeprecation","debugEnviron","debugs","debuglog","NODE_DEBUG","pid","bold","italic","underline","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","isBuffer","inherits","origin","fill","readUInt8","ctor","superCtor","super_","TempCtor","list","Node","pushNode","shift","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","from","to","sliceReverse","reverse","_Tile2","_Tile3","_vendorBoxHelper","ImageTile","_Tile","_createMesh","_abortRequest","_image","_center","_side","MeshStandardMaterial","depthWrite","roughness","metalness","envMap","localMesh","canvas","getContext","font","fillStyle","fillText","_quadcode","_tile","Texture","magFilter","LinearMipMapLinearFilter","anisotropy","needsUpdate","transparent","urlParams","url","_getTileURL","image","_texture","_ready","crossOrigin","r2d","tileURLRegex","Tile","_quadcodeToTile","_boundsLatLon","_tileBoundsWGS84","_boundsWorld","_tileBoundsFromWGS84","_boundsToCenter","_centerLatlon","_getSide","_pointScale","_pickingMesh","fromCharCode","floor","random","lastIndex","mask","q","boundsWGS84","sw","ne","_tile2lon","w","_tile2lat","BoxHelper","indices","Uint16Array","positions","Float32Array","BufferGeometry","setIndex","BufferAttribute","addAttribute","LineSegments","LineBasicMaterial","linewidth","box","setFromObject","isEmpty","attributes","computeBoundingSphere","colour","skyboxTarget","fillRect","_GeoJSONTile","_GeoJSONTile2","_onControlsMove","_pauseOutput","topojson","onClick","_reqwest","_reqwest2","_utilGeoJSON","_utilGeoJSON2","_utilBuffer","_utilBuffer2","_enginePickingMaterial","_enginePickingMaterial2","GeoJSONTile","_defaultStyle","defaultStyle","_createPickingMesh","_request","then","_processTileData","err","geojson","mergeFeatures","features","polygons","vertices","faces","colours","facesCount","allFlat","lines","verticesCount","pickingIds","Color","feature","coordinates","lineColor","coordinate","lineHeight","linestringAttributes","lineStringAttributes","pickingId","getPickingId","point2d","point3d","_coordinates","multiLinestringAttributes","multiLineStringAttributes","ring","polygonAttributes","flat","createLineGeometry","vertexColors","VertexColors","lineWidth","lineTransparent","opacity","lineOpacity","blending","lineBlending","lineRenderOrder","linePadding","pickingMesh","createGeometry","envMapIntensity","MeshPhongMaterial","timeEnd","abort","__WEBPACK_AMD_DEFINE_FACTORY__","definition","succeed","protocol","protocolRe","exec","location","httpsRe","twoHundo","request","status","response","handleReadyState","success","_aborted","_timedOut","readyState","onreadystatechange","setHeaders","http","headers","defaultHeaders","isAFormData","FormData","requestedWith","contentType","setRequestHeader","setCredentials","withCredentials","generalCallback","lastValue","urlappend","handleJsonp","reqId","uniqid","cbkey","cbval","reqwest","getcallbackPrefix","cbreg","script","isIE10","async","htmlFor","onload","onclick","removeChild","getRequest","toQueryString","sendWait","xhr","open","xDomainRequest","onerror","onprogress","send","Reqwest","setType","header","resp","_completeHandlers","getResponseHeader","filteredResponse","globalSetupOptions","dataFilter","responseText","parse","eval","responseXML","parseError","errorCode","reason","_responseArgs","_fulfilled","_successHandler","_fulfillmentHandlers","timedOut","t","_erred","_errorHandlers","normalize","serial","el","cb","ch","ra","tagName","optCb","disabled","checked","selectedIndex","selected","eachFormElement","serializeSubtags","tags","fa","byTag","serializeQueryString","serializeArray","serializeHash","buildParams","traditional","rbracket","XHR2","ex","callbackPrefix","xmlHttpRequest","accept","*","xml","html","text","json","js","XMLHttpRequest","XDomainRequest","ActiveXObject","retry","fail","always","catch","serialize","opt","nodeType","trad","enc","encodeURIComponent","compat","ajaxSetup","_topojson2","_topojson3","_geojsonMerge","_geojsonMerge2","_earcut","_earcut2","_extrudePolygon","_extrudePolygon2","GeoJSON","NormalBlending","_topojson","collections","tk","gk","nextCoord","_coords","_colours","g","coord","earcutData","_toEarcut","_triangulate","holes","dimensions","groupedVertices","il","_colour","extruded","topColor","multiply","bottomColor","_vertices","_faces","face","fi","sides","dim","holeIndex","contour","absolute","x0","y0","kx","ky","translate","relative","x1","y1","bisect","lo","hi","mid","topology","geometries","feature$1","arc","points","arcs","absolute$$","polygon","geometryType","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","stitchArcs","ends","p0","dp","fragmentByEnd","fragmentByStart","stitchedArcs","fragments","emptyIndex","fg","gf","meshArcs","geomsByArc","geoms","triangle","area","mergeArcs","register","ring$$","polygonsByArc","exterior","components","component","neighbors","sgn","indexesByArc","ij","ik","compareArea","minAreaHeap","down","heap","removed","presimplify","triangleArea","relative$$","triangles","maxArea","previous","inputs","memo","gj","GeometryCollection","Feature","FeatureCollection","earcut","holeIndices","hasHoles","outerLen","outerNode","linkedList","minX","minY","maxX","maxY","eliminateHoles","earcutLinked","clockwise","sum","insertNode","filterPoints","again","steiner","equals","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","minZ","zOrder","maxZ","nextZ","prevZ","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","qx","tanMin","sortLinked","numMerges","pSize","qSize","inSize","leftmost","ax","ay","bx","by","cx","cy","px","py","intersectsPolygon","middleInside","q1","q2","inside","b2","an","bp","extrudePolygon","cells","topCells","full","sideCells","closed","bottomCells","Buffer","_pickingId","az","c1","computeBoundingBox","normals","pA","pB","pC","ab","bz","c2","cz","c3","cross","nx","ny","nz","_PickingShader","_PickingShader2","PickingMaterial","setPointSize","setPointScale","PickingShader","_GeoJSONTileLayer","_GeoJSONTileLayer2","_geojson","_requestData","_processData","_GeoJSONLayer","_GeoJSONLayer2"],"mappings":"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","file":"vizicities.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"proj4\"), require(\"THREE\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"proj4\", \"THREE\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VIZI\"] = factory(require(\"proj4\"), require(\"THREE\"));\n\telse\n\t\troot[\"VIZI\"] = factory(root[\"proj4\"], root[\"THREE\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_24__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"proj4\"), require(\"THREE\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"proj4\", \"THREE\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VIZI\"] = factory(require(\"proj4\"), require(\"THREE\"));\n\telse\n\t\troot[\"VIZI\"] = factory(root[\"proj4\"], root[\"THREE\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_24__) {\nreturn  (function(modules) { \n \tvar installedModules = {};\n \tfunction __webpack_require__(moduleId) {\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\tmodule.loaded = true;\n \t\treturn module.exports;\n \t}\n \t__webpack_require__.m = modules;\n \t__webpack_require__.c = installedModules;\n \t__webpack_require__.p = \"\";\n \treturn __webpack_require__(0);\n })\n ([\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _World = __webpack_require__(1);\n\n\t\tvar _World2 = _interopRequireDefault(_World);\n\n\t\tvar _controlsIndex = __webpack_require__(30);\n\n\t\tvar _controlsIndex2 = _interopRequireDefault(_controlsIndex);\n\n\t\tvar _layerEnvironmentEnvironmentLayer = __webpack_require__(34);\n\n\t\tvar _layerEnvironmentEnvironmentLayer2 = _interopRequireDefault(_layerEnvironmentEnvironmentLayer);\n\n\t\tvar _layerTileImageTileLayer = __webpack_require__(40);\n\n\t\tvar _layerTileImageTileLayer2 = _interopRequireDefault(_layerTileImageTileLayer);\n\n\t\tvar _layerTileGeoJSONTileLayer = __webpack_require__(55);\n\n\t\tvar _layerTileGeoJSONTileLayer2 = _interopRequireDefault(_layerTileGeoJSONTileLayer);\n\n\t\tvar _layerTileTopoJSONTileLayer = __webpack_require__(68);\n\n\t\tvar _layerTileTopoJSONTileLayer2 = _interopRequireDefault(_layerTileTopoJSONTileLayer);\n\n\t\tvar _layerGeoJSONLayer = __webpack_require__(69);\n\n\t\tvar _layerGeoJSONLayer2 = _interopRequireDefault(_layerGeoJSONLayer);\n\n\t\tvar _layerTopoJSONLayer = __webpack_require__(70);\n\n\t\tvar _layerTopoJSONLayer2 = _interopRequireDefault(_layerTopoJSONLayer);\n\n\t\tvar _geoPoint = __webpack_require__(11);\n\n\t\tvar _geoPoint2 = _interopRequireDefault(_geoPoint);\n\n\t\tvar _geoLatLon = __webpack_require__(10);\n\n\t\tvar _geoLatLon2 = _interopRequireDefault(_geoLatLon);\n\n\t\tvar VIZI = {\n\t  version: '0.3',\n\n\t  World: _World2['default'],\n\t  Controls: _controlsIndex2['default'],\n\t  EnvironmentLayer: _layerEnvironmentEnvironmentLayer2['default'],\n\t  ImageTileLayer: _layerTileImageTileLayer2['default'],\n\t  GeoJSONTileLayer: _layerTileGeoJSONTileLayer2['default'],\n\t  TopoJSONTileLayer: _layerTileTopoJSONTileLayer2['default'],\n\t  GeoJSONLayer: _layerGeoJSONLayer2['default'],\n\t  TopoJSONLayer: _layerTopoJSONLayer2['default'],\n\t  Point: _geoPoint2['default'],\n\t  LatLon: _geoLatLon2['default']\n\t};\n\n\t\texports['default'] = VIZI;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _eventemitter3 = __webpack_require__(2);\n\n\t\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _geoCrsIndex = __webpack_require__(6);\n\n\t\tvar _geoCrsIndex2 = _interopRequireDefault(_geoCrsIndex);\n\n\t\tvar _geoPoint = __webpack_require__(11);\n\n\t\tvar _geoPoint2 = _interopRequireDefault(_geoPoint);\n\n\t\tvar _geoLatLon = __webpack_require__(10);\n\n\t\tvar _geoLatLon2 = _interopRequireDefault(_geoLatLon);\n\n\t\tvar _engineEngine = __webpack_require__(23);\n\n\t\tvar _engineEngine2 = _interopRequireDefault(_engineEngine);\n\n\n\n\t\tvar World = (function (_EventEmitter) {\n\t  _inherits(World, _EventEmitter);\n\n\t\t  function World(domId, options) {\n\t    _classCallCheck(this, World);\n\n\t\t    _get(Object.getPrototypeOf(World.prototype), 'constructor', this).call(this);\n\n\t\t    var defaults = {\n\t      crs: _geoCrsIndex2['default'].EPSG3857,\n\t      skybox: false\n\t    };\n\n\t\t    this.options = (0, _lodashAssign2['default'])({}, defaults, options);\n\n\t\t    this._layers = [];\n\t    this._controls = [];\n\n\t\t    this._initContainer(domId);\n\t    this._initEngine();\n\t    this._initEnvironment();\n\t    this._initEvents();\n\n\t\t    this._pause = false;\n\n\t    this._update();\n\t  }\n\n\n\t\t  _createClass(World, [{\n\t    key: '_initContainer',\n\t    value: function _initContainer(domId) {\n\t      this._container = document.getElementById(domId);\n\t    }\n\t  }, {\n\t    key: '_initEngine',\n\t    value: function _initEngine() {\n\t      this._engine = (0, _engineEngine2['default'])(this._container, this);\n\n\t    }\n\t  }, {\n\t    key: '_initEnvironment',\n\t    value: function _initEnvironment() {\n\t      this._environment = VIZI.EnvironmentLayer({\n\t        skybox: this.options.skybox\n\t      }).addTo(this);\n\t    }\n\t  }, {\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      this.on('controlsMoveEnd', this._onControlsMoveEnd);\n\t    }\n\t  }, {\n\t    key: '_onControlsMoveEnd',\n\t    value: function _onControlsMoveEnd(point) {\n\t      var _point = (0, _geoPoint2['default'])(point.x, point.z);\n\t      this._resetView(this.pointToLatLon(_point), _point);\n\t    }\n\n\t  }, {\n\t    key: '_resetView',\n\t    value: function _resetView(latlon, point) {\n\t      this.emit('preResetView');\n\n\t\t      this._moveStart();\n\t      this._move(latlon, point);\n\t      this._moveEnd();\n\n\t\t      this.emit('postResetView');\n\t    }\n\t  }, {\n\t    key: '_moveStart',\n\t    value: function _moveStart() {\n\t      this.emit('moveStart');\n\t    }\n\t  }, {\n\t    key: '_move',\n\t    value: function _move(latlon, point) {\n\t      this._lastPosition = latlon;\n\t      this.emit('move', latlon, point);\n\t    }\n\t  }, {\n\t    key: '_moveEnd',\n\t    value: function _moveEnd() {\n\t      this.emit('moveEnd');\n\t    }\n\t  }, {\n\t    key: '_update',\n\t    value: function _update() {\n\t      if (this._pause) {\n\t        return;\n\t      }\n\n\t\t      var delta = this._engine.clock.getDelta();\n\n\t      window.requestAnimationFrame(this._update.bind(this));\n\n\t      this._controls.forEach(function (controls) {\n\t        controls.update();\n\t      });\n\n\t\t      this.emit('preUpdate', delta);\n\t      this._engine.update(delta);\n\t      this.emit('postUpdate', delta);\n\t    }\n\n\t  }, {\n\t    key: 'setView',\n\t    value: function setView(latlon) {\n\t      this._originLatlon = latlon;\n\t      this._originPoint = this.project(latlon);\n\n\t\t      this._resetView(latlon);\n\t      return this;\n\t    }\n\n\t  }, {\n\t    key: 'getPosition',\n\t    value: function getPosition() {\n\t      return this._lastPosition;\n\t    }\n\n\t  }, {\n\t    key: 'project',\n\t    value: function project(latlon) {\n\t      return this.options.crs.latLonToPoint((0, _geoLatLon2['default'])(latlon));\n\t    }\n\n\t  }, {\n\t    key: 'unproject',\n\t    value: function unproject(point) {\n\t      return this.options.crs.pointToLatLon((0, _geoPoint2['default'])(point));\n\t    }\n\n\t  }, {\n\t    key: 'latLonToPoint',\n\t    value: function latLonToPoint(latlon) {\n\t      var projectedPoint = this.project((0, _geoLatLon2['default'])(latlon));\n\t      return projectedPoint._subtract(this._originPoint);\n\t    }\n\n\t  }, {\n\t    key: 'pointToLatLon',\n\t    value: function pointToLatLon(point) {\n\t      var projectedPoint = (0, _geoPoint2['default'])(point).add(this._originPoint);\n\t      return this.unproject(projectedPoint);\n\t    }\n\n\t  }, {\n\t    key: 'pointScale',\n\t    value: function pointScale(latlon, accurate) {\n\t      return this.options.crs.pointScale(latlon, accurate);\n\t    }\n\n\t  }, {\n\t    key: 'metresToWorld',\n\t    value: function metresToWorld(metres, pointScale, zoom) {\n\t      return this.options.crs.metresToWorld(metres, pointScale, zoom);\n\t    }\n\n\t  }, {\n\t    key: 'worldToMetres',\n\t    value: function worldToMetres(worldUnits, pointScale, zoom) {\n\t      return this.options.crs.worldToMetres(worldUnits, pointScale, zoom);\n\t    }\n\n\t  }, {\n\t    key: 'getCamera',\n\t    value: function getCamera() {\n\t      return this._engine._camera;\n\t    }\n\t  }, {\n\t    key: 'addLayer',\n\t    value: function addLayer(layer) {\n\t      layer._addToWorld(this);\n\n\t\t      this._layers.push(layer);\n\n\t      this._engine._scene.add(layer._layer);\n\n\t\t      this.emit('layerAdded', layer);\n\t      return this;\n\t    }\n\n\t  }, {\n\t    key: 'removeLayer',\n\t    value: function removeLayer(layer) {\n\t      var layerIndex = this._layers.indexOf(layer);\n\n\t\t      if (layerIndex > -1) {\n\t        this._layers.splice(layerIndex, 1);\n\t      };\n\n\t\t      this._engine._scene.remove(layer._layer);\n\n\t\t      this.emit('layerRemoved');\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'addControls',\n\t    value: function addControls(controls) {\n\t      controls._addToWorld(this);\n\n\t\t      this._controls.push(controls);\n\n\t\t      this.emit('controlsAdded', controls);\n\t      return this;\n\t    }\n\n\t  }, {\n\t    key: 'removeControls',\n\t    value: function removeControls(controls) {\n\t      var controlsIndex = this._controls.indexOf(controlsIndex);\n\n\t\t      if (controlsIndex > -1) {\n\t        this._controls.splice(controlsIndex, 1);\n\t      };\n\n\t\t      this.emit('controlsRemoved', controls);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'stop',\n\t    value: function stop() {\n\t      this._pause = true;\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      this._pause = false;\n\t      this._update();\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this.stop();\n\n\t      this.off('controlsMoveEnd', this._onControlsMoveEnd);\n\n\t\t      var i;\n\n\t      var controls;\n\t      for (i = this._controls.length - 1; i >= 0; i--) {\n\t        controls = this._controls[0];\n\t        this.removeControls(controls);\n\t        controls.destroy();\n\t      };\n\n\t      var layer;\n\t      for (i = this._layers.length - 1; i >= 0; i--) {\n\t        layer = this._layers[0];\n\t        this.removeLayer(layer);\n\t        layer.destroy();\n\t      };\n\n\t      this._environment = null;\n\n\t\t      this._engine.destroy();\n\t      this._engine = null;\n\n\t      this._container = null;\n\t    }\n\t  }]);\n\n\t\t  return World;\n\t})(_eventemitter32['default']);\n\n\t\texports['default'] = function (domId, options) {\n\t  return new World(domId, options);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n\tfunction EE(fn, context, once) {\n\t  this.fn = fn;\n\t  this.context = context;\n\t  this.once = once || false;\n\t}\n\n\tfunction EventEmitter() {  }\n\n\tEventEmitter.prototype._events = undefined;\n\n\tEventEmitter.prototype.listeners = function listeners(event, exists) {\n\t  var evt = prefix ? prefix + event : event\n\t    , available = this._events && this._events[evt];\n\n\t\t  if (exists) return !!available;\n\t  if (!available) return [];\n\t  if (available.fn) return [available.fn];\n\n\t\t  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n\t    ee[i] = available[i].fn;\n\t  }\n\n\t\t  return ee;\n\t};\n\n\tEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n\t  var evt = prefix ? prefix + event : event;\n\n\t\t  if (!this._events || !this._events[evt]) return false;\n\n\t\t  var listeners = this._events[evt]\n\t    , len = arguments.length\n\t    , args\n\t    , i;\n\n\t\t  if ('function' === typeof listeners.fn) {\n\t    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n\t\t    switch (len) {\n\t      case 1: return listeners.fn.call(listeners.context), true;\n\t      case 2: return listeners.fn.call(listeners.context, a1), true;\n\t      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n\t      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\t      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\t      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n\t    }\n\n\t\t    for (i = 1, args = new Array(len -1); i < len; i++) {\n\t      args[i - 1] = arguments[i];\n\t    }\n\n\t\t    listeners.fn.apply(listeners.context, args);\n\t  } else {\n\t    var length = listeners.length\n\t      , j;\n\n\t\t    for (i = 0; i < length; i++) {\n\t      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n\t\t      switch (len) {\n\t        case 1: listeners[i].fn.call(listeners[i].context); break;\n\t        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n\t        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n\t        default:\n\t          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n\t            args[j - 1] = arguments[j];\n\t          }\n\n\t\t          listeners[i].fn.apply(listeners[i].context, args);\n\t      }\n\t    }\n\t  }\n\n\t\t  return true;\n\t};\n\n\tEventEmitter.prototype.on = function on(event, fn, context) {\n\t  var listener = new EE(fn, context || this)\n\t    , evt = prefix ? prefix + event : event;\n\n\t\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\n\t\t  return this;\n\t};\n\n\tEventEmitter.prototype.once = function once(event, fn, context) {\n\t  var listener = new EE(fn, context || this, true)\n\t    , evt = prefix ? prefix + event : event;\n\n\t\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\n\t\t  return this;\n\t};\n\n\tEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n\t  var evt = prefix ? prefix + event : event;\n\n\t\t  if (!this._events || !this._events[evt]) return this;\n\n\t\t  var listeners = this._events[evt]\n\t    , events = [];\n\n\t\t  if (fn) {\n\t    if (listeners.fn) {\n\t      if (\n\t           listeners.fn !== fn\n\t        || (once && !listeners.once)\n\t        || (context && listeners.context !== context)\n\t      ) {\n\t        events.push(listeners);\n\t      }\n\t    } else {\n\t      for (var i = 0, length = listeners.length; i < length; i++) {\n\t        if (\n\t             listeners[i].fn !== fn\n\t          || (once && !listeners[i].once)\n\t          || (context && listeners[i].context !== context)\n\t        ) {\n\t          events.push(listeners[i]);\n\t        }\n\t      }\n\t    }\n\t  }\n\n\t  if (events.length) {\n\t    this._events[evt] = events.length === 1 ? events[0] : events;\n\t  } else {\n\t    delete this._events[evt];\n\t  }\n\n\t\t  return this;\n\t};\n\n\tEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n\t  if (!this._events) return this;\n\n\t\t  if (event) delete this._events[prefix ? prefix + event : event];\n\t  else this._events = prefix ? {} : Object.create(null);\n\n\t\t  return this;\n\t};\n\n\tEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\tEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n\tEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n\t  return this;\n\t};\n\n\tEventEmitter.prefixed = prefix;\n\n\tif (true) {\n\t  module.exports = EventEmitter;\n\t}\n\n\n },\n function(module, exports, __webpack_require__) {\n\n\tvar keys = __webpack_require__(4),\n\t    rest = __webpack_require__(5);\n\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\n\tvar funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]';\n\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n\tfunction isIndex(value, length) {\n\t  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t  return value > -1 && value % 1 == 0 && value < length;\n\t}\n\n\tvar objectProto = Object.prototype;\n\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\tvar objectToString = objectProto.toString;\n\n\tfunction assignValue(object, key, value) {\n\t  var objValue = object[key];\n\t  if ((!eq(objValue, value) ||\n\t        (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) ||\n\t      (value === undefined && !(key in object))) {\n\t    object[key] = value;\n\t  }\n\t}\n\n\tfunction baseProperty(key) {\n\t  return function(object) {\n\t    return object == null ? undefined : object[key];\n\t  };\n\t}\n\n\tfunction copyObject(source, props, object) {\n\t  return copyObjectWith(source, props, object);\n\t}\n\n\tfunction copyObjectWith(source, props, object, customizer) {\n\t  object || (object = {});\n\n\t\t  var index = -1,\n\t      length = props.length;\n\n\t\t  while (++index < length) {\n\t    var key = props[index],\n\t        newValue = customizer ? customizer(object[key], source[key], key, object, source) : source[key];\n\n\t\t    assignValue(object, key, newValue);\n\t  }\n\t  return object;\n\t}\n\n\tfunction createAssigner(assigner) {\n\t  return rest(function(object, sources) {\n\t    var index = -1,\n\t        length = sources.length,\n\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t        guard = length > 2 ? sources[2] : undefined;\n\n\t\t    customizer = typeof customizer == 'function' ? (length--, customizer) : undefined;\n\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t      customizer = length < 3 ? undefined : customizer;\n\t      length = 1;\n\t    }\n\t    object = Object(object);\n\t    while (++index < length) {\n\t      var source = sources[index];\n\t      if (source) {\n\t        assigner(object, source, index, customizer);\n\t      }\n\t    }\n\t    return object;\n\t  });\n\t}\n\n\tvar getLength = baseProperty('length');\n\n\tfunction isIterateeCall(value, index, object) {\n\t  if (!isObject(object)) {\n\t    return false;\n\t  }\n\t  var type = typeof index;\n\t  if (type == 'number'\n\t      ? (isArrayLike(object) && isIndex(index, object.length))\n\t      : (type == 'string' && index in object)) {\n\t    return eq(object[index], value);\n\t  }\n\t  return false;\n\t}\n\n\tfunction eq(value, other) {\n\t  return value === other || (value !== value && other !== other);\n\t}\n\n\tfunction isArrayLike(value) {\n\t  return value != null &&\n\t    !(typeof value == 'function' && isFunction(value)) && isLength(getLength(value));\n\t}\n\n\tfunction isFunction(value) {\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\n\tfunction isLength(value) {\n\t  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\n\tvar assign = createAssigner(function(object, source) {\n\t  copyObject(source, keys(source), object);\n\t});\n\n\t\tmodule.exports = assign;\n\n\n },\n function(module, exports) {\n\n\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\n\tvar argsTag = '[object Arguments]',\n\t    funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]',\n\t    stringTag = '[object String]';\n\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n\tfunction baseTimes(n, iteratee) {\n\t  var index = -1,\n\t      result = Array(n);\n\n\t\t  while (++index < n) {\n\t    result[index] = iteratee(index);\n\t  }\n\t  return result;\n\t}\n\n\tfunction isIndex(value, length) {\n\t  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t  return value > -1 && value % 1 == 0 && value < length;\n\t}\n\n\tvar objectProto = Object.prototype;\n\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\tvar objectToString = objectProto.toString;\n\n\tvar getPrototypeOf = Object.getPrototypeOf,\n\t    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n\tvar nativeKeys = Object.keys;\n\n\tfunction baseHas(object, key) {\n\t  return hasOwnProperty.call(object, key) ||\n\t    (typeof object == 'object' && key in object && getPrototypeOf(object) === null);\n\t}\n\n\tfunction baseKeys(object) {\n\t  return nativeKeys(Object(object));\n\t}\n\n\tfunction baseProperty(key) {\n\t  return function(object) {\n\t    return object == null ? undefined : object[key];\n\t  };\n\t}\n\n\tvar getLength = baseProperty('length');\n\n\tfunction indexKeys(object) {\n\t  var length = object ? object.length : undefined;\n\t  if (isLength(length) &&\n\t      (isArray(object) || isString(object) || isArguments(object))) {\n\t    return baseTimes(length, String);\n\t  }\n\t  return null;\n\t}\n\n\tfunction isPrototype(value) {\n\t  var Ctor = value && value.constructor,\n\t      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n\t\t  return value === proto;\n\t}\n\n\tfunction isArguments(value) {\n\t  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n\t    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n\t}\n\n\tvar isArray = Array.isArray;\n\n\tfunction isArrayLike(value) {\n\t  return value != null &&\n\t    !(typeof value == 'function' && isFunction(value)) && isLength(getLength(value));\n\t}\n\n\tfunction isArrayLikeObject(value) {\n\t  return isObjectLike(value) && isArrayLike(value);\n\t}\n\n\tfunction isFunction(value) {\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\n\tfunction isLength(value) {\n\t  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\n\tfunction isObjectLike(value) {\n\t  return !!value && typeof value == 'object';\n\t}\n\n\tfunction isString(value) {\n\t  return typeof value == 'string' ||\n\t    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n\t}\n\n\tfunction keys(object) {\n\t  var isProto = isPrototype(object);\n\t  if (!(isProto || isArrayLike(object))) {\n\t    return baseKeys(object);\n\t  }\n\t  var indexes = indexKeys(object),\n\t      skipIndexes = !!indexes,\n\t      result = indexes || [],\n\t      length = result.length;\n\n\t\t  for (var key in object) {\n\t    if (baseHas(object, key) &&\n\t        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n\t        !(isProto && key == 'constructor')) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t\tmodule.exports = keys;\n\n\n },\n function(module, exports) {\n\n\n\tvar FUNC_ERROR_TEXT = 'Expected a function';\n\n\tvar INFINITY = 1 / 0,\n\t    MAX_INTEGER = 1.7976931348623157e+308,\n\t    NAN = 0 / 0;\n\n\tvar funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]';\n\n\tvar reTrim = /^\\s+|\\s+$/g;\n\n\tvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n\tvar reIsBinary = /^0b[01]+$/i;\n\n\tvar reIsOctal = /^0o[0-7]+$/i;\n\n\tvar freeParseInt = parseInt;\n\n\tfunction apply(func, thisArg, args) {\n\t  var length = args.length;\n\t  switch (length) {\n\t    case 0: return func.call(thisArg);\n\t    case 1: return func.call(thisArg, args[0]);\n\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t  }\n\t  return func.apply(thisArg, args);\n\t}\n\n\tvar objectProto = Object.prototype;\n\n\tvar objectToString = objectProto.toString;\n\n\tvar nativeMax = Math.max;\n\n\tfunction rest(func, start) {\n\t  if (typeof func != 'function') {\n\t    throw new TypeError(FUNC_ERROR_TEXT);\n\t  }\n\t  start = nativeMax(start === undefined ? (func.length - 1) : toInteger(start), 0);\n\t  return function() {\n\t    var args = arguments,\n\t        index = -1,\n\t        length = nativeMax(args.length - start, 0),\n\t        array = Array(length);\n\n\t\t    while (++index < length) {\n\t      array[index] = args[start + index];\n\t    }\n\t    switch (start) {\n\t      case 0: return func.call(this, array);\n\t      case 1: return func.call(this, args[0], array);\n\t      case 2: return func.call(this, args[0], args[1], array);\n\t    }\n\t    var otherArgs = Array(start + 1);\n\t    index = -1;\n\t    while (++index < start) {\n\t      otherArgs[index] = args[index];\n\t    }\n\t    otherArgs[start] = array;\n\t    return apply(func, this, otherArgs);\n\t  };\n\t}\n\n\tfunction isFunction(value) {\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\n\tfunction toInteger(value) {\n\t  if (!value) {\n\t    return value === 0 ? value : 0;\n\t  }\n\t  value = toNumber(value);\n\t  if (value === INFINITY || value === -INFINITY) {\n\t    var sign = (value < 0 ? -1 : 1);\n\t    return sign * MAX_INTEGER;\n\t  }\n\t  var remainder = value % 1;\n\t  return value === value ? (remainder ? value - remainder : value) : 0;\n\t}\n\n\tfunction toNumber(value) {\n\t  if (isObject(value)) {\n\t    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n\t    value = isObject(other) ? (other + '') : other;\n\t  }\n\t  if (typeof value != 'string') {\n\t    return value === 0 ? value : +value;\n\t  }\n\t  value = value.replace(reTrim, '');\n\t  var isBinary = reIsBinary.test(value);\n\t  return (isBinary || reIsOctal.test(value))\n\t    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n\t    : (reIsBadHex.test(value) ? NAN : +value);\n\t}\n\n\t\tmodule.exports = rest;\n\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _CRSEPSG3857 = __webpack_require__(7);\n\n\t\tvar _CRSEPSG38572 = _interopRequireDefault(_CRSEPSG3857);\n\n\t\tvar _CRSEPSG3395 = __webpack_require__(15);\n\n\t\tvar _CRSEPSG33952 = _interopRequireDefault(_CRSEPSG3395);\n\n\t\tvar _CRSEPSG4326 = __webpack_require__(17);\n\n\t\tvar _CRSEPSG43262 = _interopRequireDefault(_CRSEPSG4326);\n\n\t\tvar _CRSSimple = __webpack_require__(19);\n\n\t\tvar _CRSSimple2 = _interopRequireDefault(_CRSSimple);\n\n\t\tvar _CRSProj4 = __webpack_require__(20);\n\n\t\tvar _CRSProj42 = _interopRequireDefault(_CRSProj4);\n\n\t\tvar CRS = {};\n\n\t\tCRS.EPSG3857 = _CRSEPSG38572['default'];\n\tCRS.EPSG900913 = _CRSEPSG3857.EPSG900913;\n\tCRS.EPSG3395 = _CRSEPSG33952['default'];\n\tCRS.EPSG4326 = _CRSEPSG43262['default'];\n\tCRS.Simple = _CRSSimple2['default'];\n\tCRS.Proj4 = _CRSProj42['default'];\n\n\t\texports['default'] = CRS;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _CRSEarth = __webpack_require__(8);\n\n\t\tvar _CRSEarth2 = _interopRequireDefault(_CRSEarth);\n\n\t\tvar _projectionProjectionSphericalMercator = __webpack_require__(13);\n\n\t\tvar _projectionProjectionSphericalMercator2 = _interopRequireDefault(_projectionProjectionSphericalMercator);\n\n\t\tvar _utilTransformation = __webpack_require__(14);\n\n\t\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\n\t\tvar _EPSG3857 = {\n\t  code: 'EPSG:3857',\n\t  projection: _projectionProjectionSphericalMercator2['default'],\n\n\t  transformScale: 1 / (Math.PI * _projectionProjectionSphericalMercator2['default'].R),\n\n\t  transformation: (function () {\n\t    var scale = 1 / (Math.PI * _projectionProjectionSphericalMercator2['default'].R);\n\n\t\t    return new _utilTransformation2['default'](scale, 0, -scale, 0);\n\t  })()\n\t};\n\n\t\tvar EPSG3857 = (0, _lodashAssign2['default'])({}, _CRSEarth2['default'], _EPSG3857);\n\n\t\tvar EPSG900913 = (0, _lodashAssign2['default'])({}, EPSG3857, {\n\t  code: 'EPSG:900913'\n\t});\n\n\t\texports.EPSG900913 = EPSG900913;\n\texports['default'] = EPSG3857;\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _CRS = __webpack_require__(9);\n\n\t\tvar _CRS2 = _interopRequireDefault(_CRS);\n\n\t\tvar _LatLon = __webpack_require__(10);\n\n\t\tvar _LatLon2 = _interopRequireDefault(_LatLon);\n\n\t\tvar Earth = {\n\t  wrapLon: [-180, 180],\n\n\t\t  R: 6378137,\n\n\t  distance: function distance(latlon1, latlon2, accurate) {\n\t    var rad = Math.PI / 180;\n\n\t\t    var lat1;\n\t    var lat2;\n\n\t\t    var a;\n\n\t\t    if (!accurate) {\n\t      lat1 = latlon1.lat * rad;\n\t      lat2 = latlon2.lat * rad;\n\n\t\t      a = Math.sin(lat1) * Math.sin(lat2) + Math.cos(lat1) * Math.cos(lat2) * Math.cos((latlon2.lon - latlon1.lon) * rad);\n\n\t\t      return this.R * Math.acos(Math.min(a, 1));\n\t    } else {\n\t      lat1 = latlon1.lat * rad;\n\t      lat2 = latlon2.lat * rad;\n\n\t\t      var lon1 = latlon1.lon * rad;\n\t      var lon2 = latlon2.lon * rad;\n\n\t\t      var deltaLat = lat2 - lat1;\n\t      var deltaLon = lon2 - lon1;\n\n\t\t      var halfDeltaLat = deltaLat / 2;\n\t      var halfDeltaLon = deltaLon / 2;\n\n\t\t      a = Math.sin(halfDeltaLat) * Math.sin(halfDeltaLat) + Math.cos(lat1) * Math.cos(lat2) * Math.sin(halfDeltaLon) * Math.sin(halfDeltaLon);\n\n\t\t      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n\t\t      return this.R * c;\n\t    }\n\t  },\n\n\t  pointScale: function pointScale(latlon, accurate) {\n\t    return this.projection.pointScale ? this.projection.pointScale(latlon, accurate) : [1, 1];\n\t  },\n\n\t  metresToProjected: function metresToProjected(metres, pointScale) {\n\t    return metres * pointScale[1];\n\t  },\n\n\t  projectedToMetres: function projectedToMetres(projectedUnits, pointScale) {\n\t    return projectedUnits / pointScale[1];\n\t  },\n\n\t  metresToWorld: function metresToWorld(metres, pointScale, zoom) {\n\t    var projectedMetres = this.metresToProjected(metres, pointScale);\n\n\t\t    var scale = this.scale(zoom);\n\n\t    if (zoom) {\n\t      scale /= 2;\n\t    }\n\n\t    var scaledMetres = scale * (this.transformScale * projectedMetres);\n\n\t    if (zoom) {\n\t      scaledMetres /= pointScale[1];\n\t    }\n\n\t\t    return scaledMetres;\n\t  },\n\n\t  worldToMetres: function worldToMetres(worldUnits, pointScale, zoom) {\n\t    var scale = this.scale(zoom);\n\n\t    if (zoom) {\n\t      scale /= 2;\n\t    }\n\n\t\t    var projectedUnits = worldUnits / scale / this.transformScale;\n\t    var realMetres = this.projectedToMetres(projectedUnits, pointScale);\n\n\t    if (zoom) {\n\t      realMetres *= pointScale[1];\n\t    }\n\n\t\t    return realMetres;\n\t  }\n\t};\n\n\t\texports['default'] = (0, _lodashAssign2['default'])({}, _CRS2['default'], Earth);\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _LatLon = __webpack_require__(10);\n\n\t\tvar _LatLon2 = _interopRequireDefault(_LatLon);\n\n\t\tvar _Point = __webpack_require__(11);\n\n\t\tvar _Point2 = _interopRequireDefault(_Point);\n\n\t\tvar _utilWrapNum = __webpack_require__(12);\n\n\t\tvar _utilWrapNum2 = _interopRequireDefault(_utilWrapNum);\n\n\t\tvar CRS = {\n\t  scaleFactor: 1000000,\n\n\t  latLonToPoint: function latLonToPoint(latlon, zoom) {\n\t    var projectedPoint = this.projection.project(latlon);\n\t    var scale = this.scale(zoom);\n\n\t    if (zoom) {\n\t      scale /= 2;\n\t    }\n\n\t\t    return this.transformation._transform(projectedPoint, scale);\n\t  },\n\n\t  pointToLatLon: function pointToLatLon(point, zoom) {\n\t    var scale = this.scale(zoom);\n\n\t    if (zoom) {\n\t      scale /= 2;\n\t    }\n\n\t\t    var untransformedPoint = this.transformation.untransform(point, scale);\n\n\t\t    return this.projection.unproject(untransformedPoint);\n\t  },\n\n\t  project: function project(latlon) {\n\t    return this.projection.project(latlon);\n\t  },\n\n\t  unproject: function unproject(point) {\n\t    return this.projection.unproject(point);\n\t  },\n\n\t  scale: function scale(zoom) {\n\t    if (zoom >= 0) {\n\t      return 256 * Math.pow(2, zoom);\n\t    } else {\n\t        return this.scaleFactor;\n\t      }\n\t  },\n\n\t  zoom: function zoom(scale) {\n\t    return Math.log(scale / 256) / Math.LN2;\n\t  },\n\n\t  getProjectedBounds: function getProjectedBounds(zoom) {\n\t    if (this.infinite) {\n\t      return null;\n\t    }\n\n\t\t    var b = this.projection.bounds;\n\t    var s = this.scale(zoom);\n\n\t    if (zoom) {\n\t      s /= 2;\n\t    }\n\n\t    var min = this.transformation.transform((0, _Point2['default'])(b[0]), s);\n\n\t    var max = this.transformation.transform((0, _Point2['default'])(b[1]), s);\n\n\t\t    return [min, max];\n\t  },\n\n\n\n\t  wrapLatLon: function wrapLatLon(latlon) {\n\t    var lat = this.wrapLat ? (0, _utilWrapNum2['default'])(latlon.lat, this.wrapLat, true) : latlon.lat;\n\t    var lon = this.wrapLon ? (0, _utilWrapNum2['default'])(latlon.lon, this.wrapLon, true) : latlon.lon;\n\t    var alt = latlon.alt;\n\n\t\t    return (0, _LatLon2['default'])(lat, lon, alt);\n\t  }\n\t};\n\n\t\texports['default'] = CRS;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\n\t\tvar LatLon = (function () {\n\t  function LatLon(lat, lon, alt) {\n\t    _classCallCheck(this, LatLon);\n\n\t\t    if (isNaN(lat) || isNaN(lon)) {\n\t      throw new Error('Invalid LatLon object: (' + lat + ', ' + lon + ')');\n\t    }\n\n\t\t    this.lat = +lat;\n\t    this.lon = +lon;\n\n\t\t    if (alt !== undefined) {\n\t      this.alt = +alt;\n\t    }\n\t  }\n\n\n\t\t  _createClass(LatLon, [{\n\t    key: 'clone',\n\t    value: function clone() {\n\t      return new LatLon(this.lat, this.lon, this.alt);\n\t    }\n\t  }]);\n\n\t\t  return LatLon;\n\t})();\n\n\t\texports['default'] = function (a, b, c) {\n\t  if (a instanceof LatLon) {\n\t    return a;\n\t  }\n\t  if (Array.isArray(a) && typeof a[0] !== 'object') {\n\t    if (a.length === 3) {\n\t      return new LatLon(a[0], a[1], a[2]);\n\t    }\n\t    if (a.length === 2) {\n\t      return new LatLon(a[0], a[1]);\n\t    }\n\t    return null;\n\t  }\n\t  if (a === undefined || a === null) {\n\t    return a;\n\t  }\n\t  if (typeof a === 'object' && 'lat' in a) {\n\t    return new LatLon(a.lat, 'lng' in a ? a.lng : a.lon, a.alt);\n\t  }\n\t  if (b === undefined) {\n\t    return null;\n\t  }\n\t  return new LatLon(a, b, c);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\t\tvar Point = (function () {\n\t  function Point(x, y, round) {\n\t    _classCallCheck(this, Point);\n\n\t\t    this.x = round ? Math.round(x) : x;\n\t    this.y = round ? Math.round(y) : y;\n\t  }\n\n\n\t\t  _createClass(Point, [{\n\t    key: \"clone\",\n\t    value: function clone() {\n\t      return new Point(this.x, this.y);\n\t    }\n\n\t  }, {\n\t    key: \"add\",\n\t    value: function add(point) {\n\t      return this.clone()._add(_point(point));\n\t    }\n\n\t  }, {\n\t    key: \"_add\",\n\t    value: function _add(point) {\n\t      this.x += point.x;\n\t      this.y += point.y;\n\t      return this;\n\t    }\n\n\t  }, {\n\t    key: \"subtract\",\n\t    value: function subtract(point) {\n\t      return this.clone()._subtract(_point(point));\n\t    }\n\n\t  }, {\n\t    key: \"_subtract\",\n\t    value: function _subtract(point) {\n\t      this.x -= point.x;\n\t      this.y -= point.y;\n\t      return this;\n\t    }\n\t  }]);\n\n\t\t  return Point;\n\t})();\n\n\t\tvar _point = function _point(x, y, round) {\n\t  if (x instanceof Point) {\n\t    return x;\n\t  }\n\t  if (Array.isArray(x)) {\n\t    return new Point(x[0], x[1]);\n\t  }\n\t  if (x === undefined || x === null) {\n\t    return x;\n\t  }\n\t  return new Point(x, y, round);\n\t};\n\n\texports[\"default\"] = _point;\n\tmodule.exports = exports[\"default\"];\n\n },\n function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\t\tvar wrapNum = function wrapNum(x, range, includeMax) {\n\t  var max = range[1];\n\t  var min = range[0];\n\t  var d = max - min;\n\t  return x === max && includeMax ? x : ((x - min) % d + d) % d + min;\n\t};\n\n\t\texports[\"default\"] = wrapNum;\n\tmodule.exports = exports[\"default\"];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _LatLon = __webpack_require__(10);\n\n\t\tvar _LatLon2 = _interopRequireDefault(_LatLon);\n\n\t\tvar _Point = __webpack_require__(11);\n\n\t\tvar _Point2 = _interopRequireDefault(_Point);\n\n\t\tvar SphericalMercator = {\n\t  R: 6378137,\n\t  MAX_LATITUDE: 85.0511287798,\n\n\t  ECC: 0.081819191,\n\t  ECC2: 0.081819191 * 0.081819191,\n\n\t\t  project: function project(latlon) {\n\t    var d = Math.PI / 180;\n\t    var max = this.MAX_LATITUDE;\n\t    var lat = Math.max(Math.min(max, latlon.lat), -max);\n\t    var sin = Math.sin(lat * d);\n\n\t\t    return (0, _Point2['default'])(this.R * latlon.lon * d, this.R * Math.log((1 + sin) / (1 - sin)) / 2);\n\t  },\n\n\t\t  unproject: function unproject(point) {\n\t    var d = 180 / Math.PI;\n\n\t\t    return (0, _LatLon2['default'])((2 * Math.atan(Math.exp(point.y / this.R)) - Math.PI / 2) * d, point.x * d / this.R);\n\t  },\n\n\t  pointScale: function pointScale(latlon, accurate) {\n\t    var rad = Math.PI / 180;\n\n\t\t    var k;\n\n\t\t    if (!accurate) {\n\t      k = 1 / Math.cos(latlon.lat * rad);\n\n\t      return [k, k];\n\t    } else {\n\t      var lat = latlon.lat * rad;\n\t      var lon = latlon.lon * rad;\n\n\t\t      var a = this.R;\n\n\t\t      var sinLat = Math.sin(lat);\n\t      var sinLat2 = sinLat * sinLat;\n\n\t\t      var cosLat = Math.cos(lat);\n\n\t      var p = a * (1 - this.ECC2) / Math.pow(1 - this.ECC2 * sinLat2, 3 / 2);\n\n\t      var v = a / Math.sqrt(1 - this.ECC2 * sinLat2);\n\n\t      var h = a / p / cosLat;\n\n\t      k = a / v / cosLat;\n\n\t      return [k, h];\n\t    }\n\t  },\n\n\t  bounds: (function () {\n\t    var d = 6378137 * Math.PI;\n\t    return [[-d, -d], [d, d]];\n\t  })()\n\t};\n\n\t\texports['default'] = SphericalMercator;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\n\t\tvar _geoPoint = __webpack_require__(11);\n\n\t\tvar _geoPoint2 = _interopRequireDefault(_geoPoint);\n\n\t\tvar Transformation = (function () {\n\t  function Transformation(a, b, c, d) {\n\t    _classCallCheck(this, Transformation);\n\n\t\t    this._a = a;\n\t    this._b = b;\n\t    this._c = c;\n\t    this._d = d;\n\t  }\n\n\t\t  _createClass(Transformation, [{\n\t    key: 'transform',\n\t    value: function transform(point, scale) {\n\t      return this._transform(point.clone(), scale);\n\t    }\n\n\t  }, {\n\t    key: '_transform',\n\t    value: function _transform(point, scale) {\n\t      scale = scale || 1;\n\n\t\t      point.x = scale * (this._a * point.x + this._b);\n\t      point.y = scale * (this._c * point.y + this._d);\n\t      return point;\n\t    }\n\t  }, {\n\t    key: 'untransform',\n\t    value: function untransform(point, scale) {\n\t      scale = scale || 1;\n\t      return (0, _geoPoint2['default'])((point.x / scale - this._b) / this._a, (point.y / scale - this._d) / this._c);\n\t    }\n\t  }]);\n\n\t\t  return Transformation;\n\t})();\n\n\t\texports['default'] = Transformation;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _CRSEarth = __webpack_require__(8);\n\n\t\tvar _CRSEarth2 = _interopRequireDefault(_CRSEarth);\n\n\t\tvar _projectionProjectionMercator = __webpack_require__(16);\n\n\t\tvar _projectionProjectionMercator2 = _interopRequireDefault(_projectionProjectionMercator);\n\n\t\tvar _utilTransformation = __webpack_require__(14);\n\n\t\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\n\t\tvar _EPSG3395 = {\n\t  code: 'EPSG:3395',\n\t  projection: _projectionProjectionMercator2['default'],\n\n\t  transformScale: 1 / (Math.PI * _projectionProjectionMercator2['default'].R),\n\n\t  transformation: (function () {\n\t    var scale = 1 / (Math.PI * _projectionProjectionMercator2['default'].R);\n\n\t\t    return new _utilTransformation2['default'](scale, 0, -scale, 0);\n\t  })()\n\t};\n\n\t\tvar EPSG3395 = (0, _lodashAssign2['default'])({}, _CRSEarth2['default'], _EPSG3395);\n\n\t\texports['default'] = EPSG3395;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _LatLon = __webpack_require__(10);\n\n\t\tvar _LatLon2 = _interopRequireDefault(_LatLon);\n\n\t\tvar _Point = __webpack_require__(11);\n\n\t\tvar _Point2 = _interopRequireDefault(_Point);\n\n\t\tvar Mercator = {\n\t  R: 6378137,\n\t  R_MINOR: 6356752.314245179,\n\n\t  ECC: 0.081819191,\n\t  ECC2: 0.081819191 * 0.081819191,\n\n\t\t  project: function project(latlon) {\n\t    var d = Math.PI / 180;\n\t    var r = this.R;\n\t    var y = latlon.lat * d;\n\t    var tmp = this.R_MINOR / r;\n\t    var e = Math.sqrt(1 - tmp * tmp);\n\t    var con = e * Math.sin(y);\n\n\t\t    var ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);\n\t    y = -r * Math.log(Math.max(ts, 1E-10));\n\n\t\t    return (0, _Point2['default'])(latlon.lon * d * r, y);\n\t  },\n\n\t\t  unproject: function unproject(point) {\n\t    var d = 180 / Math.PI;\n\t    var r = this.R;\n\t    var tmp = this.R_MINOR / r;\n\t    var e = Math.sqrt(1 - tmp * tmp);\n\t    var ts = Math.exp(-point.y / r);\n\t    var phi = Math.PI / 2 - 2 * Math.atan(ts);\n\n\t\t    for (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {\n\t      con = e * Math.sin(phi);\n\t      con = Math.pow((1 - con) / (1 + con), e / 2);\n\t      dphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;\n\t      phi += dphi;\n\t    }\n\n\t\t    return (0, _LatLon2['default'])(phi * d, point.x * d / r);\n\t  },\n\n\t  pointScale: function pointScale(latlon) {\n\t    var rad = Math.PI / 180;\n\t    var lat = latlon.lat * rad;\n\t    var sinLat = Math.sin(lat);\n\t    var sinLat2 = sinLat * sinLat;\n\t    var cosLat = Math.cos(lat);\n\n\t\t    var k = Math.sqrt(1 - this.ECC2 * sinLat2) / cosLat;\n\n\t    return [k, k];\n\t  },\n\n\t\t  bounds: [[-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]]\n\t};\n\n\t\texports['default'] = Mercator;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _CRSEarth = __webpack_require__(8);\n\n\t\tvar _CRSEarth2 = _interopRequireDefault(_CRSEarth);\n\n\t\tvar _projectionProjectionLatLon = __webpack_require__(18);\n\n\t\tvar _projectionProjectionLatLon2 = _interopRequireDefault(_projectionProjectionLatLon);\n\n\t\tvar _utilTransformation = __webpack_require__(14);\n\n\t\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\n\t\tvar _EPSG4326 = {\n\t  code: 'EPSG:4326',\n\t  projection: _projectionProjectionLatLon2['default'],\n\n\t  transformScale: 1 / 180,\n\n\t  transformation: new _utilTransformation2['default'](1 / 180, 0, -1 / 180, 0)\n\t};\n\n\t\tvar EPSG4326 = (0, _lodashAssign2['default'])({}, _CRSEarth2['default'], _EPSG4326);\n\n\t\texports['default'] = EPSG4326;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _LatLon = __webpack_require__(10);\n\n\t\tvar _LatLon2 = _interopRequireDefault(_LatLon);\n\n\t\tvar _Point = __webpack_require__(11);\n\n\t\tvar _Point2 = _interopRequireDefault(_Point);\n\n\t\tvar ProjectionLatLon = {\n\t  project: function project(latlon) {\n\t    return (0, _Point2['default'])(latlon.lon, latlon.lat);\n\t  },\n\n\t\t  unproject: function unproject(point) {\n\t    return (0, _LatLon2['default'])(point.y, point.x);\n\t  },\n\n\t  pointScale: function pointScale(latlon) {\n\t    var m1 = 111132.92;\n\t    var m2 = -559.82;\n\t    var m3 = 1.175;\n\t    var m4 = -0.0023;\n\t    var p1 = 111412.84;\n\t    var p2 = -93.5;\n\t    var p3 = 0.118;\n\n\t\t    var rad = Math.PI / 180;\n\t    var lat = latlon.lat * rad;\n\n\t\t    var latlen = m1 + m2 * Math.cos(2 * lat) + m3 * Math.cos(4 * lat) + m4 * Math.cos(6 * lat);\n\t    var lonlen = p1 * Math.cos(lat) + p2 * Math.cos(3 * lat) + p3 * Math.cos(5 * lat);\n\n\t\t    return [1 / latlen, 1 / lonlen];\n\t  },\n\n\t\t  bounds: [[-180, -90], [180, 90]]\n\t};\n\n\t\texports['default'] = ProjectionLatLon;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _CRS = __webpack_require__(9);\n\n\t\tvar _CRS2 = _interopRequireDefault(_CRS);\n\n\t\tvar _projectionProjectionLatLon = __webpack_require__(18);\n\n\t\tvar _projectionProjectionLatLon2 = _interopRequireDefault(_projectionProjectionLatLon);\n\n\t\tvar _utilTransformation = __webpack_require__(14);\n\n\t\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\n\t\tvar _Simple = {\n\t  projection: _projectionProjectionLatLon2['default'],\n\n\t  transformation: new _utilTransformation2['default'](1, 0, 1, 0),\n\n\t\t  scale: function scale(zoom) {\n\t    if (zoom) {\n\t      return Math.pow(2, zoom);\n\t    } else {\n\t        return 1;\n\t      }\n\t  },\n\n\t\t  zoom: function zoom(scale) {\n\t    return Math.log(scale) / Math.LN2;\n\t  },\n\n\t\t  distance: function distance(latlon1, latlon2) {\n\t    var dx = latlon2.lon - latlon1.lon;\n\t    var dy = latlon2.lat - latlon1.lat;\n\n\t\t    return Math.sqrt(dx * dx + dy * dy);\n\t  },\n\n\t\t  infinite: true\n\t};\n\n\t\tvar Simple = (0, _lodashAssign2['default'])({}, _CRS2['default'], _Simple);\n\n\t\texports['default'] = Simple;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _CRSEarth = __webpack_require__(8);\n\n\t\tvar _CRSEarth2 = _interopRequireDefault(_CRSEarth);\n\n\t\tvar _projectionProjectionProj4 = __webpack_require__(21);\n\n\t\tvar _projectionProjectionProj42 = _interopRequireDefault(_projectionProjectionProj4);\n\n\t\tvar _utilTransformation = __webpack_require__(14);\n\n\t\tvar _utilTransformation2 = _interopRequireDefault(_utilTransformation);\n\n\t\tvar _Proj4 = function _Proj4(code, def, bounds) {\n\t  var projection = (0, _projectionProjectionProj42['default'])(def, bounds);\n\n\t  var diffX = projection.bounds[1][0] - projection.bounds[0][0];\n\t  var diffY = projection.bounds[1][1] - projection.bounds[0][1];\n\n\t\t  var halfX = diffX / 2;\n\t  var halfY = diffY / 2;\n\n\t  var scaleX = 1 / halfX;\n\t  var scaleY = 1 / halfY;\n\n\t  var scale = Math.min(scaleX, scaleY);\n\n\t  var offsetX = scale * (projection.bounds[0][0] + halfX);\n\t  var offsetY = scale * (projection.bounds[0][1] + halfY);\n\n\t\t  return {\n\t    code: code,\n\t    projection: projection,\n\n\t\t    transformScale: scale,\n\n\t    transformation: new _utilTransformation2['default'](scale, -offsetX, -scale, offsetY)\n\t  };\n\t};\n\n\t\tvar Proj4 = function Proj4(code, def, bounds) {\n\t  return (0, _lodashAssign2['default'])({}, _CRSEarth2['default'], _Proj4(code, def, bounds));\n\t};\n\n\t\texports['default'] = Proj4;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _proj4 = __webpack_require__(22);\n\n\t\tvar _proj42 = _interopRequireDefault(_proj4);\n\n\t\tvar _LatLon = __webpack_require__(10);\n\n\t\tvar _LatLon2 = _interopRequireDefault(_LatLon);\n\n\t\tvar _Point = __webpack_require__(11);\n\n\t\tvar _Point2 = _interopRequireDefault(_Point);\n\n\t\tvar Proj4 = function Proj4(def, bounds) {\n\t  var proj = (0, _proj42['default'])(def);\n\n\t\t  var project = function project(latlon) {\n\t    return (0, _Point2['default'])(proj.forward([latlon.lon, latlon.lat]));\n\t  };\n\n\t\t  var unproject = function unproject(point) {\n\t    var inverse = proj.inverse([point.x, point.y]);\n\t    return (0, _LatLon2['default'])(inverse[1], inverse[0]);\n\t  };\n\n\t\t  return {\n\t    project: project,\n\t    unproject: unproject,\n\n\t    pointScale: function pointScale(latlon, accurate) {\n\t      return [1, 1];\n\t    },\n\n\t    bounds: (function () {\n\t      if (bounds) {\n\t        return bounds;\n\t      } else {\n\t        var bottomLeft = project([-90, -180]);\n\t        var topRight = project([90, 180]);\n\n\t\t        return [bottomLeft, topRight];\n\t      }\n\t    })()\n\t  };\n\t};\n\n\t\texports['default'] = Proj4;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _eventemitter3 = __webpack_require__(2);\n\n\t\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _Scene = __webpack_require__(25);\n\n\t\tvar _Scene2 = _interopRequireDefault(_Scene);\n\n\t\tvar _Renderer = __webpack_require__(26);\n\n\t\tvar _Renderer2 = _interopRequireDefault(_Renderer);\n\n\t\tvar _Camera = __webpack_require__(27);\n\n\t\tvar _Camera2 = _interopRequireDefault(_Camera);\n\n\t\tvar _Picking = __webpack_require__(28);\n\n\t\tvar _Picking2 = _interopRequireDefault(_Picking);\n\n\t\tvar Engine = (function (_EventEmitter) {\n\t  _inherits(Engine, _EventEmitter);\n\n\t\t  function Engine(container, world) {\n\t    _classCallCheck(this, Engine);\n\n\t\t    console.log('Init Engine');\n\n\t\t    _get(Object.getPrototypeOf(Engine.prototype), 'constructor', this).call(this);\n\n\t\t    this._world = world;\n\t    this._scene = _Scene2['default'];\n\t    this._renderer = (0, _Renderer2['default'])(container);\n\t    this._camera = (0, _Camera2['default'])(container);\n\n\t    this._picking = (0, _Picking2['default'])(this._world, this._renderer, this._camera);\n\n\t\t    this.clock = new _three2['default'].Clock();\n\n\t\t    this._frustum = new _three2['default'].Frustum();\n\t  }\n\n\n\t\t  _createClass(Engine, [{\n\t    key: 'update',\n\t    value: function update(delta) {\n\t      this.emit('preRender');\n\n\t\t      this._renderer.render(this._scene, this._camera);\n\n\n\t\t      this.emit('postRender');\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      var child;\n\t      for (i = this._scene.children.length - 1; i >= 0; i--) {\n\t        child = this._scene.children[i];\n\n\t\t        if (!child) {\n\t          continue;\n\t        }\n\n\t\t        this._scene.remove(child);\n\n\t\t        if (child.geometry) {\n\t          child.geometry.dispose();\n\t          child.geometry = null;\n\t        }\n\n\t\t        if (child.material) {\n\t          if (child.material.map) {\n\t            child.material.map.dispose();\n\t            child.material.map = null;\n\t          }\n\n\t\t          child.material.dispose();\n\t          child.material = null;\n\t        }\n\t      };\n\n\t\t      this._picking.destroy();\n\t      this._picking = null;\n\n\t\t      this._world = null;\n\t      this._scene = null;\n\t      this._renderer = null;\n\t      this._camera = null;\n\t      this._clock = null;\n\t      this._frustum = null;\n\t    }\n\t  }]);\n\n\t\t  return Engine;\n\t})(_eventemitter32['default']);\n\n\t\texports['default'] = function (container, world) {\n\t  return new Engine(container, world);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\n\t\texports['default'] = (function () {\n\t  var scene = new _three2['default'].Scene();\n\n\t  return scene;\n\t})();\n\n\t\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _Scene = __webpack_require__(25);\n\n\t\tvar _Scene2 = _interopRequireDefault(_Scene);\n\n\n\t\texports['default'] = function (container) {\n\t  var renderer = new _three2['default'].WebGLRenderer({\n\t    antialias: true\n\t  });\n\n\n\t\t  renderer.setClearColor(0xffffff, 1);\n\t  renderer.setPixelRatio(window.devicePixelRatio);\n\n\t  renderer.gammaInput = true;\n\t  renderer.gammaOutput = true;\n\n\t\t  renderer.shadowMap.enabled = true;\n\t  renderer.shadowMap.cullFace = _three2['default'].CullFaceBack;\n\n\t\t  container.appendChild(renderer.domElement);\n\n\t\t  var updateSize = function updateSize() {\n\t    renderer.setSize(container.clientWidth, container.clientHeight);\n\t  };\n\n\t\t  window.addEventListener('resize', updateSize, false);\n\t  updateSize();\n\n\t\t  return renderer;\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\n\n\t\texports['default'] = function (container) {\n\t  var camera = new _three2['default'].PerspectiveCamera(45, 1, 1, 200000);\n\t  camera.position.y = 400;\n\t  camera.position.z = 400;\n\n\t\t  var updateSize = function updateSize() {\n\t    camera.aspect = container.clientWidth / container.clientHeight;\n\t    camera.updateProjectionMatrix();\n\t  };\n\n\t\t  window.addEventListener('resize', updateSize, false);\n\t  updateSize();\n\n\t\t  return camera;\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _geoPoint = __webpack_require__(11);\n\n\t\tvar _geoPoint2 = _interopRequireDefault(_geoPoint);\n\n\t\tvar _PickingScene = __webpack_require__(29);\n\n\t\tvar _PickingScene2 = _interopRequireDefault(_PickingScene);\n\n\n\n\t\tvar nextId = 1;\n\n\t\tvar Picking = (function () {\n\t  function Picking(world, renderer, camera) {\n\t    _classCallCheck(this, Picking);\n\n\t\t    this._world = world;\n\t    this._renderer = renderer;\n\t    this._camera = camera;\n\n\t\t    this._raycaster = new _three2['default'].Raycaster();\n\n\t    this._raycaster.linePrecision = 3;\n\n\t\t    this._pickingScene = _PickingScene2['default'];\n\t    this._pickingTexture = new _three2['default'].WebGLRenderTarget();\n\t    this._pickingTexture.texture.minFilter = _three2['default'].LinearFilter;\n\t    this._pickingTexture.texture.generateMipmaps = false;\n\n\t\t    this._nextId = 1;\n\n\t\t    this._resizeTexture();\n\t    this._initEvents();\n\t  }\n\n\n\t\t  _createClass(Picking, [{\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      window.addEventListener('resize', this._resizeTexture.bind(this), false);\n\n\t      this._renderer.domElement.addEventListener('mouseup', this._onMouseUp.bind(this), false);\n\n\t\t      this._world.on('move', this._onWorldMove, this);\n\t    }\n\t  }, {\n\t    key: '_onMouseUp',\n\t    value: function _onMouseUp(event) {\n\t      if (event.button !== 0) {\n\t        return;\n\t      }\n\n\t\t      var point = VIZI.Point(event.clientX, event.clientY);\n\n\t\t      var normalisedPoint = VIZI.Point(0, 0);\n\t      normalisedPoint.x = point.x / this._width * 2 - 1;\n\t      normalisedPoint.y = -(point.y / this._height) * 2 + 1;\n\n\t\t      this._pick(point, normalisedPoint);\n\t    }\n\t  }, {\n\t    key: '_onWorldMove',\n\t    value: function _onWorldMove() {\n\t      this._needUpdate = true;\n\t    }\n\n\t  }, {\n\t    key: '_resizeTexture',\n\t    value: function _resizeTexture() {\n\t      var size = this._renderer.getSize();\n\n\t\t      this._width = size.width;\n\t      this._height = size.height;\n\n\t\t      this._pickingTexture.setSize(this._width, this._height);\n\t      this._pixelBuffer = new Uint8Array(4 * this._width * this._height);\n\n\t\t      this._needUpdate = true;\n\t    }\n\n\t  }, {\n\t    key: '_update',\n\t    value: function _update() {\n\t      if (this._needUpdate) {\n\t        var texture = this._pickingTexture;\n\n\t\t        this._renderer.render(this._pickingScene, this._camera, this._pickingTexture);\n\n\t        this._renderer.readRenderTargetPixels(texture, 0, 0, texture.width, texture.height, this._pixelBuffer);\n\n\t\t        this._needUpdate = false;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_pick',\n\t    value: function _pick(point, normalisedPoint) {\n\t      this._update();\n\n\t\t      var index = point.x + (this._pickingTexture.height - point.y) * this._pickingTexture.width;\n\n\t      var id = this._pixelBuffer[index * 4 + 2] * 255 * 255 + this._pixelBuffer[index * 4 + 1] * 255 + this._pixelBuffer[index * 4 + 0];\n\n\t      if (id === 16646655) {\n\t        return;\n\t      }\n\n\t\t      this._raycaster.setFromCamera(normalisedPoint, this._camera);\n\n\t      var intersects = this._raycaster.intersectObjects(this._pickingScene.children, true);\n\n\t\t      var _point2d = point.clone();\n\n\t\t      var _point3d;\n\t      if (intersects.length > 0) {\n\t        _point3d = intersects[0].point.clone();\n\t      }\n\n\t      this._world.emit('pick', id, _point2d, _point3d, intersects);\n\t      this._world.emit('pick-' + id, _point2d, _point3d, intersects);\n\t    }\n\n\t  }, {\n\t    key: 'add',\n\t    value: function add(mesh) {\n\t      this._pickingScene.add(mesh);\n\t      this._needUpdate = true;\n\t    }\n\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove(mesh) {\n\t      this._pickingScene.remove(mesh);\n\t      this._needUpdate = true;\n\t    }\n\n\t  }, {\n\t    key: 'getNextId',\n\t    value: function getNextId() {\n\t      return nextId++;\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      window.removeEventListener('resize', this._resizeTexture, false);\n\t      this._renderer.domElement.removeEventListener('mouseup', this._onMouseUp, false);\n\t      this._world.off('move', this._onWorldMove);\n\n\t\t      if (this._pickingScene.children) {\n\t        var child;\n\t        for (var i = this._pickingScene.children.length - 1; i >= 0; i--) {\n\t          child = this._pickingScene.children[i];\n\n\t\t          if (!child) {\n\t            continue;\n\t          }\n\n\t\t          this._pickingScene.remove(child);\n\n\n\t\t          if (child.material) {\n\t            if (child.material.map) {\n\t              child.material.map.dispose();\n\t              child.material.map = null;\n\t            }\n\n\t\t            child.material.dispose();\n\t            child.material = null;\n\t          }\n\t        }\n\t      }\n\n\t\t      this._pickingScene = null;\n\t      this._pickingTexture = null;\n\t      this._pixelBuffer = null;\n\n\t\t      this._world = null;\n\t      this._renderer = null;\n\t      this._camera = null;\n\t    }\n\t  }]);\n\n\t\t  return Picking;\n\t})();\n\n\t\texports['default'] = function (world, renderer, camera) {\n\t  return new Picking(world, renderer, camera);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\n\t\texports['default'] = (function () {\n\t  var scene = new _three2['default'].Scene();\n\t  return scene;\n\t})();\n\n\t\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _ControlsOrbit = __webpack_require__(31);\n\n\t\tvar _ControlsOrbit2 = _interopRequireDefault(_ControlsOrbit);\n\n\t\tvar Controls = {\n\t  Orbit: _ControlsOrbit2['default']\n\t};\n\n\t\texports['default'] = Controls;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _eventemitter3 = __webpack_require__(2);\n\n\t\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _vendorOrbitControls = __webpack_require__(32);\n\n\t\tvar _vendorOrbitControls2 = _interopRequireDefault(_vendorOrbitControls);\n\n\t\tvar Orbit = (function (_EventEmitter) {\n\t  _inherits(Orbit, _EventEmitter);\n\n\t\t  function Orbit() {\n\t    _classCallCheck(this, Orbit);\n\n\t\t    _get(Object.getPrototypeOf(Orbit.prototype), 'constructor', this).call(this);\n\t  }\n\n\n\n\t\t  _createClass(Orbit, [{\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      var _this = this;\n\n\t\t      this._controls.addEventListener('start', function (event) {\n\t        _this._world.emit('controlsMoveStart', event.target.target);\n\t      });\n\n\t\t      this._controls.addEventListener('change', function (event) {\n\t        _this._world.emit('controlsMove', event.target.target);\n\t      });\n\n\t\t      this._controls.addEventListener('end', function (event) {\n\t        _this._world.emit('controlsMoveEnd', event.target.target);\n\t      });\n\t    }\n\n\t  }, {\n\t    key: '_panTo',\n\t    value: function _panTo(point, animate) {}\n\t  }, {\n\t    key: '_panBy',\n\t    value: function _panBy(pointDelta, animate) {}\n\n\t  }, {\n\t    key: '_zoomTo',\n\t    value: function _zoomTo(metres, animate) {}\n\t  }, {\n\t    key: '_zoomBy',\n\t    value: function _zoomBy(metresDelta, animate) {}\n\n\t  }, {\n\t    key: '_lookAt',\n\t    value: function _lookAt(point, animate) {}\n\n\t  }, {\n\t    key: '_lookAtTarget',\n\t    value: function _lookAtTarget() {}\n\n\t  }, {\n\t    key: '_tiltTo',\n\t    value: function _tiltTo(angle, animate) {}\n\t  }, {\n\t    key: '_tiltBy',\n\t    value: function _tiltBy(angleDelta, animate) {}\n\n\t  }, {\n\t    key: '_rotateTo',\n\t    value: function _rotateTo(angle, animate) {}\n\t  }, {\n\t    key: '_rotateBy',\n\t    value: function _rotateBy(angleDelta, animate) {}\n\n\t  }, {\n\t    key: '_flyTo',\n\t    value: function _flyTo(point, noZoom) {}\n\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      this._controls.update();\n\t    }\n\n\t  }, {\n\t    key: 'addTo',\n\t    value: function addTo(world) {\n\t      world.addControls(this);\n\t      return this;\n\t    }\n\n\t  }, {\n\t    key: '_addToWorld',\n\t    value: function _addToWorld(world) {\n\t      this._world = world;\n\n\t      this._controls = new _vendorOrbitControls2['default'](world._engine._camera, world._container);\n\n\t      this._controls.keys = false;\n\n\t      this._controls.maxPolarAngle = 1.5533;\n\n\n\t\t      this._initEvents();\n\n\t\t      this.emit('added');\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\n\t\t      this._controls.dispose();\n\n\t\t      this._world = null;\n\t      this._controls = null;\n\t    }\n\t  }]);\n\n\t\t  return Orbit;\n\t})(_eventemitter32['default']);\n\n\t\texports['default'] = function () {\n\t  return new Orbit();\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _hammerjs = __webpack_require__(33);\n\n\t\tvar _hammerjs2 = _interopRequireDefault(_hammerjs);\n\n\n\n\t\tvar OrbitControls = function OrbitControls(object, domElement) {\n\n\t\t\tthis.object = object;\n\n\t\t\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\t\tthis.enabled = true;\n\n\t\tthis.target = new _three2['default'].Vector3();\n\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\tthis.minPolarAngle = 0; \n\t\tthis.maxPolarAngle = Math.PI; \n\n\t\tthis.minAzimuthAngle = -Infinity; \n\t\tthis.maxAzimuthAngle = Infinity; \n\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.25;\n\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\tthis.enablePan = true;\n\t\tthis.keyPanSpeed = 7.0; \n\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; \n\n\t\tthis.enableKeys = true;\n\n\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t\tthis.mouseButtons = { ORBIT: _three2['default'].MOUSE.LEFT, ZOOM: _three2['default'].MOUSE.MIDDLE, PAN: _three2['default'].MOUSE.RIGHT };\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\n\t\t\tthis.getPolarAngle = function () {\n\n\t\t\t\treturn phi;\n\t\t};\n\n\t\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\t\treturn theta;\n\t\t};\n\n\t\t\tthis.reset = function () {\n\n\t\t\t\tscope.target.copy(scope.target0);\n\t\t\tscope.object.position.copy(scope.position0);\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\tscope.update();\n\n\t\t\t\tstate = STATE.NONE;\n\t\t};\n\n\t\tthis.update = (function () {\n\n\t\t\t\tvar offset = new _three2['default'].Vector3();\n\n\t\t\tvar quat = new _three2['default'].Quaternion().setFromUnitVectors(object.up, new _three2['default'].Vector3(0, 1, 0));\n\t\t\tvar quatInverse = quat.clone().inverse();\n\n\t\t\t\tvar lastPosition = new _three2['default'].Vector3();\n\t\t\tvar lastQuaternion = new _three2['default'].Quaternion();\n\n\t\t\t\treturn function () {\n\n\t\t\t\t\tvar position = scope.object.position;\n\n\t\t\t\t\toffset.copy(position).sub(scope.target);\n\n\t\t\t\toffset.applyQuaternion(quat);\n\n\n\t\t\t\t\ttheta = Math.atan2(offset.x, offset.z);\n\n\n\t\t\t\t\tphi = Math.atan2(Math.sqrt(offset.x * offset.x + offset.z * offset.z), offset.y);\n\n\t\t\t\t\tif (scope.autoRotate && state === STATE.NONE) {\n\n\t\t\t\t\t\trotateLeft(getAutoRotationAngle());\n\t\t\t\t}\n\n\t\t\t\t\ttheta += thetaDelta;\n\t\t\t\tphi += phiDelta;\n\n\t\t\t\ttheta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, theta));\n\n\t\t\t\tphi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, phi));\n\n\t\t\t\tphi = Math.max(EPS, Math.min(Math.PI - EPS, phi));\n\n\t\t\t\t\tvar radius = offset.length() * scale;\n\n\t\t\t\tradius = Math.max(scope.minDistance, Math.min(scope.maxDistance, radius));\n\n\t\t\t\tscope.target.add(panOffset);\n\n\t\t\t\t\toffset.x = radius * Math.sin(phi) * Math.sin(theta);\n\t\t\t\toffset.y = radius * Math.cos(phi);\n\t\t\t\toffset.z = radius * Math.sin(phi) * Math.cos(theta);\n\n\t\t\t\toffset.applyQuaternion(quatInverse);\n\n\t\t\t\t\tposition.copy(scope.target).add(offset);\n\n\t\t\t\t\tscope.object.lookAt(scope.target);\n\n\t\t\t\t\tif (scope.enableDamping === true) {\n\n\t\t\t\t\t\tthetaDelta *= 1 - scope.dampingFactor;\n\t\t\t\t\tphiDelta *= 1 - scope.dampingFactor;\n\t\t\t\t} else {\n\n\t\t\t\t\t\tthetaDelta = 0;\n\t\t\t\t\tphiDelta = 0;\n\t\t\t\t}\n\n\t\t\t\t\tscale = 1;\n\t\t\t\tpanOffset.set(0, 0, 0);\n\n\n\t\t\t\t\tif (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n\t\t\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\t\t\tlastPosition.copy(scope.object.position);\n\t\t\t\t\tlastQuaternion.copy(scope.object.quaternion);\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t};\n\t\t})();\n\n\t\t\tthis.dispose = function () {\n\n\t\t\t\tscope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n\t\t\tscope.domElement.removeEventListener('mousedown', onMouseDown, false);\n\t\t\tscope.domElement.removeEventListener('mousewheel', onMouseWheel, false);\n\t\t\tscope.domElement.removeEventListener('MozMousePixelScroll', onMouseWheel, false); \n\n\t\t\t\tscope.domElement.removeEventListener('touchstart', onTouchStart, false);\n\t\t\tscope.domElement.removeEventListener('touchend', onTouchEnd, false);\n\t\t\tscope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n\t\t\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\t\t\tdocument.removeEventListener('mouseout', onMouseUp, false);\n\n\t\t\t\twindow.removeEventListener('keydown', onKeyDown, false);\n\n\t\t};\n\n\n\t\t\tvar scope = this;\n\n\t\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\t\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\t\t\tvar state = STATE.NONE;\n\n\t\t\tvar EPS = 0.000001;\n\n\t\tvar theta;\n\t\tvar phi;\n\n\t\t\tvar phiDelta = 0;\n\t\tvar thetaDelta = 0;\n\t\tvar scale = 1;\n\t\tvar panOffset = new _three2['default'].Vector3();\n\t\tvar zoomChanged = false;\n\n\t\t\tvar rotateStart = new _three2['default'].Vector2();\n\t\tvar rotateEnd = new _three2['default'].Vector2();\n\t\tvar rotateDelta = new _three2['default'].Vector2();\n\n\t\t\tvar panStart = new _three2['default'].Vector2();\n\t\tvar panEnd = new _three2['default'].Vector2();\n\t\tvar panDelta = new _three2['default'].Vector2();\n\n\t\t\tvar dollyStart = new _three2['default'].Vector2();\n\t\tvar dollyEnd = new _three2['default'].Vector2();\n\t\tvar dollyDelta = new _three2['default'].Vector2();\n\n\t\t\tfunction getAutoRotationAngle() {\n\n\t\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t\t}\n\n\t\t\tfunction getZoomScale() {\n\n\t\t\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t\t}\n\n\t\t\tfunction rotateLeft(angle) {\n\n\t\t\t\tthetaDelta -= angle;\n\t\t}\n\n\t\t\tfunction rotateUp(angle) {\n\n\t\t\t\tphiDelta -= angle;\n\t\t}\n\n\t\t\tvar panLeft = (function () {\n\n\t\t\t\tvar v = new _three2['default'].Vector3();\n\n\n\t\t\treturn function panLeft(distance, objectMatrix) {\n\t\t\t\tvar te = objectMatrix.elements;\n\n\t\t\t\t\tv.set(te[0], 0, te[2]);\n\t\t\t\tv.multiplyScalar(-distance);\n\n\t\t\t\t\tpanOffset.add(v);\n\t\t\t};\n\t\t})();\n\n\t\tvar panUp = (function () {\n\n\t\t\t\tvar v = new _three2['default'].Vector3();\n\n\n\t\t\t\treturn function panUp(distance, objectMatrix) {\n\t\t\t\tvar te = objectMatrix.elements;\n\t\t\t\tvar adjDist = distance / Math.cos(phi);\n\n\t\t\t\t\tv.set(te[4], 0, te[6]);\n\t\t\t\tv.multiplyScalar(adjDist);\n\n\t\t\t\t\tpanOffset.add(v);\n\t\t\t};\n\t\t})();\n\n\t\tvar pan = (function () {\n\n\t\t\t\tvar offset = new _three2['default'].Vector3();\n\n\t\t\t\treturn function (deltaX, deltaY) {\n\n\t\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\t\tif (scope.object instanceof _three2['default'].PerspectiveCamera) {\n\n\t\t\t\t\tvar position = scope.object.position;\n\t\t\t\t\toffset.copy(position).sub(scope.target);\n\t\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\t\t\tpanLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\t\tpanUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\t} else if (scope.object instanceof _three2['default'].OrthographicCamera) {\n\n\t\t\t\t\tpanLeft(deltaX * (scope.object.right - scope.object.left) / element.clientWidth, scope.object.matrix);\n\t\t\t\t\tpanUp(deltaY * (scope.object.top - scope.object.bottom) / element.clientHeight, scope.object.matrix);\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t\t\t\tscope.enablePan = false;\n\t\t\t\t}\n\t\t\t};\n\t\t})();\n\n\t\t\tfunction dollyIn(dollyScale) {\n\n\t\t\t\tif (scope.object instanceof _three2['default'].PerspectiveCamera) {\n\n\t\t\t\t\tscale /= dollyScale;\n\t\t\t} else if (scope.object instanceof _three2['default'].OrthographicCamera) {\n\n\t\t\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\t\t\t} else {\n\n\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\t\tscope.enableZoom = false;\n\t\t\t}\n\t\t}\n\n\t\t\tfunction dollyOut(dollyScale) {\n\n\t\t\t\tif (scope.object instanceof _three2['default'].PerspectiveCamera) {\n\n\t\t\t\t\tscale *= dollyScale;\n\t\t\t} else if (scope.object instanceof _three2['default'].OrthographicCamera) {\n\n\t\t\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\t\t\t} else {\n\n\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\t\tscope.enableZoom = false;\n\t\t\t}\n\t\t}\n\n\n\t\t\tfunction handleMouseDownRotate(event) {\n\n\n\t\t\t\trotateStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\t\tfunction handleMouseDownDolly(event) {\n\n\n\t\t\t\tdollyStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\t\tfunction handleMouseDownPan(event) {\n\n\n\t\t\t\tpanStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\t\tfunction handleMouseMoveRotate(event) {\n\n\n\t\t\t\trotateEnd.set(event.clientX, event.clientY);\n\t\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\t\t\trotateStart.copy(rotateEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\t\tfunction handleMouseMoveDolly(event) {\n\n\n\t\t\t\tdollyEnd.set(event.clientX, event.clientY);\n\n\t\t\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\t\t\tif (dollyDelta.y > 0) {\n\n\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t}\n\n\t\t\t\tdollyStart.copy(dollyEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\t\tfunction handleMouseMovePan(event) {\n\n\n\t\t\t\tpanEnd.set(event.clientX, event.clientY);\n\n\t\t\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\t\t\tpan(panDelta.x, panDelta.y);\n\n\t\t\t\tpanStart.copy(panEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\t\tfunction handleMouseUp(event) {\n\n\n\t\t\t}\n\n\t\t\tfunction handleMouseWheel(event) {\n\n\n\t\t\t\tvar delta = 0;\n\n\t\t\t\tif (event.wheelDelta !== undefined) {\n\n\n\t\t\t\t\tdelta = event.wheelDelta;\n\t\t\t} else if (event.detail !== undefined) {\n\n\n\t\t\t\t\tdelta = -event.detail;\n\t\t\t}\n\n\t\t\t\tif (delta > 0) {\n\n\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t} else if (delta < 0) {\n\n\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t}\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\t\tfunction handleKeyDown(event) {\n\n\n\t\t\t\tswitch (event.keyCode) {\n\n\t\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan(0, scope.keyPanSpeed);\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan(0, -scope.keyPanSpeed);\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan(scope.keyPanSpeed, 0);\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan(-scope.keyPanSpeed, 0);\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\t\t}\n\n\t\t\tfunction handleTouchStartRotate(event) {\n\n\n\t\t\t\trotateStart.set(event.pointers[0].pageX, event.pointers[0].pageY);\n\t\t}\n\n\t\t\tfunction handleTouchStartDolly(event) {\n\n\n\t\t\t\tvar dx = event.pointers[0].pageX - event.pointers[1].pageX;\n\t\t\tvar dy = event.pointers[0].pageY - event.pointers[1].pageY;\n\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tdollyStart.set(0, distance);\n\t\t}\n\n\t\t\tfunction handleTouchStartPan(event) {\n\n\n\t\t\t\tpanStart.set(event.deltaX, event.deltaY);\n\t\t}\n\n\t\t\tfunction handleTouchMoveRotate(event) {\n\n\n\t\t\t\trotateEnd.set(event.pointers[0].pageX, event.pointers[0].pageY);\n\t\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\t\t\trotateStart.copy(rotateEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\t\tfunction handleTouchMoveDolly(event) {\n\n\n\t\t\t\tvar dx = event.pointers[0].pageX - event.pointers[1].pageX;\n\t\t\tvar dy = event.pointers[0].pageY - event.pointers[1].pageY;\n\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tdollyEnd.set(0, distance);\n\n\t\t\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\t\t\tif (dollyDelta.y > 0) {\n\n\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t}\n\n\t\t\t\tdollyStart.copy(dollyEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\t\tfunction handleTouchMovePan(event) {\n\n\n\t\t\t\tpanEnd.set(event.deltaX, event.deltaY);\n\n\t\t\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\t\t\tpan(panDelta.x, panDelta.y);\n\n\t\t\t\tpanStart.copy(panEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\t\tfunction handleTouchEnd(event) {}\n\n\n\n\t\t\tfunction onMouseDown(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (event.button === scope.mouseButtons.ORBIT) {\n\n\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\thandleMouseDownRotate(event);\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\t\t\t} else if (event.button === scope.mouseButtons.ZOOM) {\n\n\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\thandleMouseDownDolly(event);\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\t\t\t} else if (event.button === scope.mouseButtons.PAN) {\n\n\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\thandleMouseDownPan(event);\n\n\t\t\t\t\tstate = STATE.PAN;\n\t\t\t}\n\n\t\t\t\tif (state !== STATE.NONE) {\n\n\t\t\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\t\t\t\tdocument.addEventListener('mouseout', onMouseUp, false);\n\n\t\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t}\n\t\t}\n\n\t\t\tfunction onMouseMove(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (state === STATE.ROTATE) {\n\n\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\thandleMouseMoveRotate(event);\n\t\t\t} else if (state === STATE.DOLLY) {\n\n\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\thandleMouseMoveDolly(event);\n\t\t\t} else if (state === STATE.PAN) {\n\n\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\thandleMouseMovePan(event);\n\t\t\t}\n\t\t}\n\n\t\t\tfunction onMouseUp(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\thandleMouseUp(event);\n\n\t\t\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\t\t\tdocument.removeEventListener('mouseout', onMouseUp, false);\n\n\t\t\t\tscope.dispatchEvent(endEvent);\n\n\t\t\t\tstate = STATE.NONE;\n\t\t}\n\n\t\t\tfunction onMouseWheel(event) {\n\n\t\t\t\tif (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\t\thandleMouseWheel(event);\n\n\t\t\t\tscope.dispatchEvent(startEvent); \n\t\t\tscope.dispatchEvent(endEvent);\n\t\t}\n\n\t\t\tfunction onKeyDown(event) {\n\n\t\t\t\tif (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n\t\t\t\thandleKeyDown(event);\n\t\t}\n\n\t\t\tfunction onTouchStart(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\tcase 1:\n\n\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2:\n\n\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 3:\n\n\t\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tif (state !== STATE.NONE) {\n\n\t\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t}\n\t\t}\n\n\t\t\tfunction onTouchMove(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\tcase 1:\n\n\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return; \n\n\t\t\t\t\t\thandleTouchMoveRotate(event);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2:\n\n\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return; \n\n\t\t\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 3:\n\n\t\t\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\t\tif (state !== STATE.TOUCH_PAN) return; \n\n\t\t\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\t\t}\n\n\t\t\tfunction onTouchEnd(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\thandleTouchEnd(event);\n\n\t\t\t\tscope.dispatchEvent(endEvent);\n\n\t\t\t\tstate = STATE.NONE;\n\t\t}\n\n\t\t\tfunction onContextMenu(event) {\n\n\t\t\t\tevent.preventDefault();\n\t\t}\n\n\n\t\t\tscope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n\t\t\tscope.domElement.addEventListener('mousedown', onMouseDown, false);\n\t\tscope.domElement.addEventListener('mousewheel', onMouseWheel, false);\n\t\tscope.domElement.addEventListener('MozMousePixelScroll', onMouseWheel, false); \n\n\n\t\t\tscope.hammer = new _hammerjs2['default'](scope.domElement);\n\n\t\t\tscope.hammer.get('pan').set({\n\t\t\tpointers: 0,\n\t\t\tdirection: _hammerjs2['default'].DIRECTION_ALL\n\t\t});\n\n\t\t\tscope.hammer.get('pinch').set({\n\t\t\tenable: true,\n\t\t\tthreshold: 0.1\n\t\t});\n\n\t\t\tscope.hammer.on('panstart', function (event) {\n\t\t\tif (scope.enabled === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t\tif (event.pointerType === 'mouse') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t\tif (event.pointers.length === 1) {\n\t\t\t\tif (scope.enablePan === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\t\t\t} else if (event.pointers.length === 2) {\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\t\t\t}\n\n\t\t\t\tif (state !== STATE.NONE) {\n\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t}\n\t\t});\n\n\t\t\tscope.hammer.on('panend', function (event) {\n\t\t\tif (event.pointerType === 'mouse') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t\tonTouchEnd(event);\n\t\t});\n\n\t\t\tscope.hammer.on('panmove', function (event) {\n\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tif (event.pointerType === 'mouse') {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t\tif (event.pointers.length === 1) {\n\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_PAN) return; \n\n\t\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t} else if (event.pointers.length === 2) {\n\t\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return; \n\n\t\t\t\t\t\thandleTouchMoveRotate(event);\n\t\t\t\t}\n\t\t});\n\n\t\t\tscope.hammer.on('pinchstart', function (event) {\n\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tif (event.pointerType === 'mouse') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tif (state !== STATE.NONE) {\n\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t}\n\t\t});\n\n\t\t\tscope.hammer.on('pinchend', function (event) {\n\t\t\tif (event.pointerType === 'mouse') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t\tonTouchEnd(event);\n\t\t});\n\n\t\t\tscope.hammer.on('pinchmove', function (event) {\n\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tif (event.pointerType === 'mouse') {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\tif (state !== STATE.TOUCH_DOLLY) return; \n\n\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t});\n\n\t\t\twindow.addEventListener('keydown', onKeyDown, false);\n\n\n\t\t\tthis.update();\n\t};\n\n\t\tOrbitControls.prototype = Object.create(_three2['default'].EventDispatcher.prototype);\n\tOrbitControls.prototype.constructor = _three2['default'].OrbitControls;\n\n\t\tObject.defineProperties(OrbitControls.prototype, {\n\n\t\t\tcenter: {\n\n\t\t\t\tget: function get() {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .center has been renamed to .target');\n\t\t\t\treturn this.target;\n\t\t\t}\n\n\t\t\t},\n\n\n\t\t\tnoZoom: {\n\n\t\t\t\tget: function get() {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\t\treturn !this.enableZoom;\n\t\t\t},\n\n\t\t\t\tset: function set(value) {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\t\tthis.enableZoom = !value;\n\t\t\t}\n\n\t\t\t},\n\n\t\t\tnoRotate: {\n\n\t\t\t\tget: function get() {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\t\treturn !this.enableRotate;\n\t\t\t},\n\n\t\t\t\tset: function set(value) {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\t\tthis.enableRotate = !value;\n\t\t\t}\n\n\t\t\t},\n\n\t\t\tnoPan: {\n\n\t\t\t\tget: function get() {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\t\treturn !this.enablePan;\n\t\t\t},\n\n\t\t\t\tset: function set(value) {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\t\tthis.enablePan = !value;\n\t\t\t}\n\n\t\t\t},\n\n\t\t\tnoKeys: {\n\n\t\t\t\tget: function get() {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\t\treturn !this.enableKeys;\n\t\t\t},\n\n\t\t\t\tset: function set(value) {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\t\tthis.enableKeys = !value;\n\t\t\t}\n\n\t\t\t},\n\n\t\t\tstaticMoving: {\n\n\t\t\t\tget: function get() {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\t\treturn !this.constraint.enableDamping;\n\t\t\t},\n\n\t\t\t\tset: function set(value) {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\t\tthis.constraint.enableDamping = !value;\n\t\t\t}\n\n\t\t\t},\n\n\t\t\tdynamicDampingFactor: {\n\n\t\t\t\tget: function get() {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\t\treturn this.constraint.dampingFactor;\n\t\t\t},\n\n\t\t\t\tset: function set(value) {\n\n\t\t\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\t\tthis.constraint.dampingFactor = value;\n\t\t\t}\n\n\t\t\t}\n\n\t\t});\n\n\t\texports['default'] = OrbitControls;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;\n\t(function(window, document, exportName, undefined) {\n\t  'use strict';\n\n\t\tvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n\tvar TEST_ELEMENT = document.createElement('div');\n\n\t\tvar TYPE_FUNCTION = 'function';\n\n\t\tvar round = Math.round;\n\tvar abs = Math.abs;\n\tvar now = Date.now;\n\n\tfunction setTimeoutContext(fn, timeout, context) {\n\t    return setTimeout(bindFn(fn, context), timeout);\n\t}\n\n\tfunction invokeArrayArg(arg, fn, context) {\n\t    if (Array.isArray(arg)) {\n\t        each(arg, context[fn], context);\n\t        return true;\n\t    }\n\t    return false;\n\t}\n\n\tfunction each(obj, iterator, context) {\n\t    var i;\n\n\t\t    if (!obj) {\n\t        return;\n\t    }\n\n\t\t    if (obj.forEach) {\n\t        obj.forEach(iterator, context);\n\t    } else if (obj.length !== undefined) {\n\t        i = 0;\n\t        while (i < obj.length) {\n\t            iterator.call(context, obj[i], i, obj);\n\t            i++;\n\t        }\n\t    } else {\n\t        for (i in obj) {\n\t            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n\t        }\n\t    }\n\t}\n\n\tfunction deprecate(method, name, message) {\n\t    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n\t    return function() {\n\t        var e = new Error('get-stack-trace');\n\t        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n\t            .replace(/^\\s+at\\s+/gm, '')\n\t            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n\t\t        var log = window.console && (window.console.warn || window.console.log);\n\t        if (log) {\n\t            log.call(window.console, deprecationMessage, stack);\n\t        }\n\t        return method.apply(this, arguments);\n\t    };\n\t}\n\n\tvar assign;\n\tif (typeof Object.assign !== 'function') {\n\t    assign = function assign(target) {\n\t        if (target === undefined || target === null) {\n\t            throw new TypeError('Cannot convert undefined or null to object');\n\t        }\n\n\t\t        var output = Object(target);\n\t        for (var index = 1; index < arguments.length; index++) {\n\t            var source = arguments[index];\n\t            if (source !== undefined && source !== null) {\n\t                for (var nextKey in source) {\n\t                    if (source.hasOwnProperty(nextKey)) {\n\t                        output[nextKey] = source[nextKey];\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        return output;\n\t    };\n\t} else {\n\t    assign = Object.assign;\n\t}\n\n\tvar extend = deprecate(function extend(dest, src, merge) {\n\t    var keys = Object.keys(src);\n\t    var i = 0;\n\t    while (i < keys.length) {\n\t        if (!merge || (merge && dest[keys[i]] === undefined)) {\n\t            dest[keys[i]] = src[keys[i]];\n\t        }\n\t        i++;\n\t    }\n\t    return dest;\n\t}, 'extend', 'Use `assign`.');\n\n\tvar merge = deprecate(function merge(dest, src) {\n\t    return extend(dest, src, true);\n\t}, 'merge', 'Use `assign`.');\n\n\tfunction inherit(child, base, properties) {\n\t    var baseP = base.prototype,\n\t        childP;\n\n\t\t    childP = child.prototype = Object.create(baseP);\n\t    childP.constructor = child;\n\t    childP._super = baseP;\n\n\t\t    if (properties) {\n\t        assign(childP, properties);\n\t    }\n\t}\n\n\tfunction bindFn(fn, context) {\n\t    return function boundFn() {\n\t        return fn.apply(context, arguments);\n\t    };\n\t}\n\n\tfunction boolOrFn(val, args) {\n\t    if (typeof val == TYPE_FUNCTION) {\n\t        return val.apply(args ? args[0] || undefined : undefined, args);\n\t    }\n\t    return val;\n\t}\n\n\tfunction ifUndefined(val1, val2) {\n\t    return (val1 === undefined) ? val2 : val1;\n\t}\n\n\tfunction addEventListeners(target, types, handler) {\n\t    each(splitStr(types), function(type) {\n\t        target.addEventListener(type, handler, false);\n\t    });\n\t}\n\n\tfunction removeEventListeners(target, types, handler) {\n\t    each(splitStr(types), function(type) {\n\t        target.removeEventListener(type, handler, false);\n\t    });\n\t}\n\n\tfunction hasParent(node, parent) {\n\t    while (node) {\n\t        if (node == parent) {\n\t            return true;\n\t        }\n\t        node = node.parentNode;\n\t    }\n\t    return false;\n\t}\n\n\tfunction inStr(str, find) {\n\t    return str.indexOf(find) > -1;\n\t}\n\n\tfunction splitStr(str) {\n\t    return str.trim().split(/\\s+/g);\n\t}\n\n\tfunction inArray(src, find, findByKey) {\n\t    if (src.indexOf && !findByKey) {\n\t        return src.indexOf(find);\n\t    } else {\n\t        var i = 0;\n\t        while (i < src.length) {\n\t            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n\t                return i;\n\t            }\n\t            i++;\n\t        }\n\t        return -1;\n\t    }\n\t}\n\n\tfunction toArray(obj) {\n\t    return Array.prototype.slice.call(obj, 0);\n\t}\n\n\tfunction uniqueArray(src, key, sort) {\n\t    var results = [];\n\t    var values = [];\n\t    var i = 0;\n\n\t\t    while (i < src.length) {\n\t        var val = key ? src[i][key] : src[i];\n\t        if (inArray(values, val) < 0) {\n\t            results.push(src[i]);\n\t        }\n\t        values[i] = val;\n\t        i++;\n\t    }\n\n\t\t    if (sort) {\n\t        if (!key) {\n\t            results = results.sort();\n\t        } else {\n\t            results = results.sort(function sortUniqueArray(a, b) {\n\t                return a[key] > b[key];\n\t            });\n\t        }\n\t    }\n\n\t\t    return results;\n\t}\n\n\tfunction prefixed(obj, property) {\n\t    var prefix, prop;\n\t    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n\t\t    var i = 0;\n\t    while (i < VENDOR_PREFIXES.length) {\n\t        prefix = VENDOR_PREFIXES[i];\n\t        prop = (prefix) ? prefix + camelProp : property;\n\n\t\t        if (prop in obj) {\n\t            return prop;\n\t        }\n\t        i++;\n\t    }\n\t    return undefined;\n\t}\n\n\tvar _uniqueId = 1;\n\tfunction uniqueId() {\n\t    return _uniqueId++;\n\t}\n\n\tfunction getWindowForElement(element) {\n\t    var doc = element.ownerDocument || element;\n\t    return (doc.defaultView || doc.parentWindow || window);\n\t}\n\n\t\tvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\n\t\tvar SUPPORT_TOUCH = ('ontouchstart' in window);\n\tvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n\tvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\n\t\tvar INPUT_TYPE_TOUCH = 'touch';\n\tvar INPUT_TYPE_PEN = 'pen';\n\tvar INPUT_TYPE_MOUSE = 'mouse';\n\tvar INPUT_TYPE_KINECT = 'kinect';\n\n\t\tvar COMPUTE_INTERVAL = 25;\n\n\t\tvar INPUT_START = 1;\n\tvar INPUT_MOVE = 2;\n\tvar INPUT_END = 4;\n\tvar INPUT_CANCEL = 8;\n\n\t\tvar DIRECTION_NONE = 1;\n\tvar DIRECTION_LEFT = 2;\n\tvar DIRECTION_RIGHT = 4;\n\tvar DIRECTION_UP = 8;\n\tvar DIRECTION_DOWN = 16;\n\n\t\tvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n\tvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n\tvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\n\t\tvar PROPS_XY = ['x', 'y'];\n\tvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n\tfunction Input(manager, callback) {\n\t    var self = this;\n\t    this.manager = manager;\n\t    this.callback = callback;\n\t    this.element = manager.element;\n\t    this.target = manager.options.inputTarget;\n\n\t    this.domHandler = function(ev) {\n\t        if (boolOrFn(manager.options.enable, [manager])) {\n\t            self.handler(ev);\n\t        }\n\t    };\n\n\t\t    this.init();\n\n\t\t}\n\n\t\tInput.prototype = {\n\t    handler: function() { },\n\n\t    init: function() {\n\t        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n\t        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n\t        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n\t    },\n\n\t    destroy: function() {\n\t        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n\t        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n\t        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n\t    }\n\t};\n\n\tfunction createInputInstance(manager) {\n\t    var Type;\n\t    var inputClass = manager.options.inputClass;\n\n\t\t    if (inputClass) {\n\t        Type = inputClass;\n\t    } else if (SUPPORT_POINTER_EVENTS) {\n\t        Type = PointerEventInput;\n\t    } else if (SUPPORT_ONLY_TOUCH) {\n\t        Type = TouchInput;\n\t    } else if (!SUPPORT_TOUCH) {\n\t        Type = MouseInput;\n\t    } else {\n\t        Type = TouchMouseInput;\n\t    }\n\t    return new (Type)(manager, inputHandler);\n\t}\n\n\tfunction inputHandler(manager, eventType, input) {\n\t    var pointersLen = input.pointers.length;\n\t    var changedPointersLen = input.changedPointers.length;\n\t    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n\t    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n\t\t    input.isFirst = !!isFirst;\n\t    input.isFinal = !!isFinal;\n\n\t\t    if (isFirst) {\n\t        manager.session = {};\n\t    }\n\n\t    input.eventType = eventType;\n\n\t    computeInputData(manager, input);\n\n\t    manager.emit('hammer.input', input);\n\n\t\t    manager.recognize(input);\n\t    manager.session.prevInput = input;\n\t}\n\n\tfunction computeInputData(manager, input) {\n\t    var session = manager.session;\n\t    var pointers = input.pointers;\n\t    var pointersLength = pointers.length;\n\n\t    if (!session.firstInput) {\n\t        session.firstInput = simpleCloneInputData(input);\n\t    }\n\n\t    if (pointersLength > 1 && !session.firstMultiple) {\n\t        session.firstMultiple = simpleCloneInputData(input);\n\t    } else if (pointersLength === 1) {\n\t        session.firstMultiple = false;\n\t    }\n\n\t\t    var firstInput = session.firstInput;\n\t    var firstMultiple = session.firstMultiple;\n\t    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n\t\t    var center = input.center = getCenter(pointers);\n\t    input.timeStamp = now();\n\t    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n\t\t    input.angle = getAngle(offsetCenter, center);\n\t    input.distance = getDistance(offsetCenter, center);\n\n\t\t    computeDeltaXY(session, input);\n\t    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n\t\t    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n\t    input.overallVelocityX = overallVelocity.x;\n\t    input.overallVelocityY = overallVelocity.y;\n\t    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n\t\t    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n\t    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n\t\t    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n\t        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n\t\t    computeIntervalInputData(session, input);\n\n\t    var target = manager.element;\n\t    if (hasParent(input.srcEvent.target, target)) {\n\t        target = input.srcEvent.target;\n\t    }\n\t    input.target = target;\n\t}\n\n\t\tfunction computeDeltaXY(session, input) {\n\t    var center = input.center;\n\t    var offset = session.offsetDelta || {};\n\t    var prevDelta = session.prevDelta || {};\n\t    var prevInput = session.prevInput || {};\n\n\t\t    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n\t        prevDelta = session.prevDelta = {\n\t            x: prevInput.deltaX || 0,\n\t            y: prevInput.deltaY || 0\n\t        };\n\n\t\t        offset = session.offsetDelta = {\n\t            x: center.x,\n\t            y: center.y\n\t        };\n\t    }\n\n\t\t    input.deltaX = prevDelta.x + (center.x - offset.x);\n\t    input.deltaY = prevDelta.y + (center.y - offset.y);\n\t}\n\n\tfunction computeIntervalInputData(session, input) {\n\t    var last = session.lastInterval || input,\n\t        deltaTime = input.timeStamp - last.timeStamp,\n\t        velocity, velocityX, velocityY, direction;\n\n\t\t    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n\t        var deltaX = input.deltaX - last.deltaX;\n\t        var deltaY = input.deltaY - last.deltaY;\n\n\t\t        var v = getVelocity(deltaTime, deltaX, deltaY);\n\t        velocityX = v.x;\n\t        velocityY = v.y;\n\t        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n\t        direction = getDirection(deltaX, deltaY);\n\n\t\t        session.lastInterval = input;\n\t    } else {\n\t        velocity = last.velocity;\n\t        velocityX = last.velocityX;\n\t        velocityY = last.velocityY;\n\t        direction = last.direction;\n\t    }\n\n\t\t    input.velocity = velocity;\n\t    input.velocityX = velocityX;\n\t    input.velocityY = velocityY;\n\t    input.direction = direction;\n\t}\n\n\tfunction simpleCloneInputData(input) {\n\t    var pointers = [];\n\t    var i = 0;\n\t    while (i < input.pointers.length) {\n\t        pointers[i] = {\n\t            clientX: round(input.pointers[i].clientX),\n\t            clientY: round(input.pointers[i].clientY)\n\t        };\n\t        i++;\n\t    }\n\n\t\t    return {\n\t        timeStamp: now(),\n\t        pointers: pointers,\n\t        center: getCenter(pointers),\n\t        deltaX: input.deltaX,\n\t        deltaY: input.deltaY\n\t    };\n\t}\n\n\tfunction getCenter(pointers) {\n\t    var pointersLength = pointers.length;\n\n\t    if (pointersLength === 1) {\n\t        return {\n\t            x: round(pointers[0].clientX),\n\t            y: round(pointers[0].clientY)\n\t        };\n\t    }\n\n\t\t    var x = 0, y = 0, i = 0;\n\t    while (i < pointersLength) {\n\t        x += pointers[i].clientX;\n\t        y += pointers[i].clientY;\n\t        i++;\n\t    }\n\n\t\t    return {\n\t        x: round(x / pointersLength),\n\t        y: round(y / pointersLength)\n\t    };\n\t}\n\n\tfunction getVelocity(deltaTime, x, y) {\n\t    return {\n\t        x: x / deltaTime || 0,\n\t        y: y / deltaTime || 0\n\t    };\n\t}\n\n\tfunction getDirection(x, y) {\n\t    if (x === y) {\n\t        return DIRECTION_NONE;\n\t    }\n\n\t\t    if (abs(x) >= abs(y)) {\n\t        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n\t    }\n\t    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n\t}\n\n\tfunction getDistance(p1, p2, props) {\n\t    if (!props) {\n\t        props = PROPS_XY;\n\t    }\n\t    var x = p2[props[0]] - p1[props[0]],\n\t        y = p2[props[1]] - p1[props[1]];\n\n\t\t    return Math.sqrt((x * x) + (y * y));\n\t}\n\n\tfunction getAngle(p1, p2, props) {\n\t    if (!props) {\n\t        props = PROPS_XY;\n\t    }\n\t    var x = p2[props[0]] - p1[props[0]],\n\t        y = p2[props[1]] - p1[props[1]];\n\t    return Math.atan2(y, x) * 180 / Math.PI;\n\t}\n\n\tfunction getRotation(start, end) {\n\t    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n\t}\n\n\tfunction getScale(start, end) {\n\t    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n\t}\n\n\t\tvar MOUSE_INPUT_MAP = {\n\t    mousedown: INPUT_START,\n\t    mousemove: INPUT_MOVE,\n\t    mouseup: INPUT_END\n\t};\n\n\t\tvar MOUSE_ELEMENT_EVENTS = 'mousedown';\n\tvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n\tfunction MouseInput() {\n\t    this.evEl = MOUSE_ELEMENT_EVENTS;\n\t    this.evWin = MOUSE_WINDOW_EVENTS;\n\n\t\t    this.allow = true; \n\t    this.pressed = false; \n\n\t\t    Input.apply(this, arguments);\n\t}\n\n\t\tinherit(MouseInput, Input, {\n\t    handler: function MEhandler(ev) {\n\t        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n\t        if (eventType & INPUT_START && ev.button === 0) {\n\t            this.pressed = true;\n\t        }\n\n\t\t        if (eventType & INPUT_MOVE && ev.which !== 1) {\n\t            eventType = INPUT_END;\n\t        }\n\n\t        if (!this.pressed || !this.allow) {\n\t            return;\n\t        }\n\n\t\t        if (eventType & INPUT_END) {\n\t            this.pressed = false;\n\t        }\n\n\t\t        this.callback(this.manager, eventType, {\n\t            pointers: [ev],\n\t            changedPointers: [ev],\n\t            pointerType: INPUT_TYPE_MOUSE,\n\t            srcEvent: ev\n\t        });\n\t    }\n\t});\n\n\t\tvar POINTER_INPUT_MAP = {\n\t    pointerdown: INPUT_START,\n\t    pointermove: INPUT_MOVE,\n\t    pointerup: INPUT_END,\n\t    pointercancel: INPUT_CANCEL,\n\t    pointerout: INPUT_CANCEL\n\t};\n\n\tvar IE10_POINTER_TYPE_ENUM = {\n\t    2: INPUT_TYPE_TOUCH,\n\t    3: INPUT_TYPE_PEN,\n\t    4: INPUT_TYPE_MOUSE,\n\t    5: INPUT_TYPE_KINECT \n\t};\n\n\t\tvar POINTER_ELEMENT_EVENTS = 'pointerdown';\n\tvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n\tif (window.MSPointerEvent && !window.PointerEvent) {\n\t    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n\t    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n\t}\n\n\tfunction PointerEventInput() {\n\t    this.evEl = POINTER_ELEMENT_EVENTS;\n\t    this.evWin = POINTER_WINDOW_EVENTS;\n\n\t\t    Input.apply(this, arguments);\n\n\t\t    this.store = (this.manager.session.pointerEvents = []);\n\t}\n\n\t\tinherit(PointerEventInput, Input, {\n\t    handler: function PEhandler(ev) {\n\t        var store = this.store;\n\t        var removePointer = false;\n\n\t\t        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n\t        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n\t        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n\t\t        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n\t        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n\t        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n\t            if (storeIndex < 0) {\n\t                store.push(ev);\n\t                storeIndex = store.length - 1;\n\t            }\n\t        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n\t            removePointer = true;\n\t        }\n\n\t        if (storeIndex < 0) {\n\t            return;\n\t        }\n\n\t        store[storeIndex] = ev;\n\n\t\t        this.callback(this.manager, eventType, {\n\t            pointers: store,\n\t            changedPointers: [ev],\n\t            pointerType: pointerType,\n\t            srcEvent: ev\n\t        });\n\n\t\t        if (removePointer) {\n\t            store.splice(storeIndex, 1);\n\t        }\n\t    }\n\t});\n\n\t\tvar SINGLE_TOUCH_INPUT_MAP = {\n\t    touchstart: INPUT_START,\n\t    touchmove: INPUT_MOVE,\n\t    touchend: INPUT_END,\n\t    touchcancel: INPUT_CANCEL\n\t};\n\n\t\tvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n\tvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n\tfunction SingleTouchInput() {\n\t    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n\t    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n\t    this.started = false;\n\n\t\t    Input.apply(this, arguments);\n\t}\n\n\t\tinherit(SingleTouchInput, Input, {\n\t    handler: function TEhandler(ev) {\n\t        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n\t        if (type === INPUT_START) {\n\t            this.started = true;\n\t        }\n\n\t\t        if (!this.started) {\n\t            return;\n\t        }\n\n\t\t        var touches = normalizeSingleTouches.call(this, ev, type);\n\n\t        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n\t            this.started = false;\n\t        }\n\n\t\t        this.callback(this.manager, type, {\n\t            pointers: touches[0],\n\t            changedPointers: touches[1],\n\t            pointerType: INPUT_TYPE_TOUCH,\n\t            srcEvent: ev\n\t        });\n\t    }\n\t});\n\n\tfunction normalizeSingleTouches(ev, type) {\n\t    var all = toArray(ev.touches);\n\t    var changed = toArray(ev.changedTouches);\n\n\t\t    if (type & (INPUT_END | INPUT_CANCEL)) {\n\t        all = uniqueArray(all.concat(changed), 'identifier', true);\n\t    }\n\n\t\t    return [all, changed];\n\t}\n\n\t\tvar TOUCH_INPUT_MAP = {\n\t    touchstart: INPUT_START,\n\t    touchmove: INPUT_MOVE,\n\t    touchend: INPUT_END,\n\t    touchcancel: INPUT_CANCEL\n\t};\n\n\t\tvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n\tfunction TouchInput() {\n\t    this.evTarget = TOUCH_TARGET_EVENTS;\n\t    this.targetIds = {};\n\n\t\t    Input.apply(this, arguments);\n\t}\n\n\t\tinherit(TouchInput, Input, {\n\t    handler: function MTEhandler(ev) {\n\t        var type = TOUCH_INPUT_MAP[ev.type];\n\t        var touches = getTouches.call(this, ev, type);\n\t        if (!touches) {\n\t            return;\n\t        }\n\n\t\t        this.callback(this.manager, type, {\n\t            pointers: touches[0],\n\t            changedPointers: touches[1],\n\t            pointerType: INPUT_TYPE_TOUCH,\n\t            srcEvent: ev\n\t        });\n\t    }\n\t});\n\n\tfunction getTouches(ev, type) {\n\t    var allTouches = toArray(ev.touches);\n\t    var targetIds = this.targetIds;\n\n\t    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n\t        targetIds[allTouches[0].identifier] = true;\n\t        return [allTouches, allTouches];\n\t    }\n\n\t\t    var i,\n\t        targetTouches,\n\t        changedTouches = toArray(ev.changedTouches),\n\t        changedTargetTouches = [],\n\t        target = this.target;\n\n\t    targetTouches = allTouches.filter(function(touch) {\n\t        return hasParent(touch.target, target);\n\t    });\n\n\t    if (type === INPUT_START) {\n\t        i = 0;\n\t        while (i < targetTouches.length) {\n\t            targetIds[targetTouches[i].identifier] = true;\n\t            i++;\n\t        }\n\t    }\n\n\t    i = 0;\n\t    while (i < changedTouches.length) {\n\t        if (targetIds[changedTouches[i].identifier]) {\n\t            changedTargetTouches.push(changedTouches[i]);\n\t        }\n\n\t        if (type & (INPUT_END | INPUT_CANCEL)) {\n\t            delete targetIds[changedTouches[i].identifier];\n\t        }\n\t        i++;\n\t    }\n\n\t\t    if (!changedTargetTouches.length) {\n\t        return;\n\t    }\n\n\t\t    return [\n\t        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n\t        changedTargetTouches\n\t    ];\n\t}\n\n\tfunction TouchMouseInput() {\n\t    Input.apply(this, arguments);\n\n\t\t    var handler = bindFn(this.handler, this);\n\t    this.touch = new TouchInput(this.manager, handler);\n\t    this.mouse = new MouseInput(this.manager, handler);\n\t}\n\n\t\tinherit(TouchMouseInput, Input, {\n\t    handler: function TMEhandler(manager, inputEvent, inputData) {\n\t        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n\t            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n\t        if (isTouch) {\n\t            this.mouse.allow = false;\n\t        } else if (isMouse && !this.mouse.allow) {\n\t            return;\n\t        }\n\n\t        if (inputEvent & (INPUT_END | INPUT_CANCEL)) {\n\t            this.mouse.allow = true;\n\t        }\n\n\t\t        this.callback(manager, inputEvent, inputData);\n\t    },\n\n\t    destroy: function destroy() {\n\t        this.touch.destroy();\n\t        this.mouse.destroy();\n\t    }\n\t});\n\n\t\tvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n\tvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n\tvar TOUCH_ACTION_COMPUTE = 'compute';\n\tvar TOUCH_ACTION_AUTO = 'auto';\n\tvar TOUCH_ACTION_MANIPULATION = 'manipulation'; \n\tvar TOUCH_ACTION_NONE = 'none';\n\tvar TOUCH_ACTION_PAN_X = 'pan-x';\n\tvar TOUCH_ACTION_PAN_Y = 'pan-y';\n\n\tfunction TouchAction(manager, value) {\n\t    this.manager = manager;\n\t    this.set(value);\n\t}\n\n\t\tTouchAction.prototype = {\n\t    set: function(value) {\n\t        if (value == TOUCH_ACTION_COMPUTE) {\n\t            value = this.compute();\n\t        }\n\n\t\t        if (NATIVE_TOUCH_ACTION && this.manager.element.style) {\n\t            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n\t        }\n\t        this.actions = value.toLowerCase().trim();\n\t    },\n\n\t    update: function() {\n\t        this.set(this.manager.options.touchAction);\n\t    },\n\n\t    compute: function() {\n\t        var actions = [];\n\t        each(this.manager.recognizers, function(recognizer) {\n\t            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n\t                actions = actions.concat(recognizer.getTouchAction());\n\t            }\n\t        });\n\t        return cleanTouchActions(actions.join(' '));\n\t    },\n\n\t    preventDefaults: function(input) {\n\t        if (NATIVE_TOUCH_ACTION) {\n\t            return;\n\t        }\n\n\t\t        var srcEvent = input.srcEvent;\n\t        var direction = input.offsetDirection;\n\n\t        if (this.manager.session.prevented) {\n\t            srcEvent.preventDefault();\n\t            return;\n\t        }\n\n\t\t        var actions = this.actions;\n\t        var hasNone = inStr(actions, TOUCH_ACTION_NONE);\n\t        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\t        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n\n\t\t        if (hasNone) {\n\n\t\t            var isTapPointer = input.pointers.length === 1;\n\t            var isTapMovement = input.distance < 2;\n\t            var isTapTouchTime = input.deltaTime < 250;\n\n\t\t            if (isTapPointer && isTapMovement && isTapTouchTime) {\n\t                return;\n\t            }\n\t        }\n\n\t\t        if (hasPanX && hasPanY) {\n\t            return;\n\t        }\n\n\t\t        if (hasNone ||\n\t            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n\t            (hasPanX && direction & DIRECTION_VERTICAL)) {\n\t            return this.preventSrc(srcEvent);\n\t        }\n\t    },\n\n\t    preventSrc: function(srcEvent) {\n\t        this.manager.session.prevented = true;\n\t        srcEvent.preventDefault();\n\t    }\n\t};\n\n\tfunction cleanTouchActions(actions) {\n\t    if (inStr(actions, TOUCH_ACTION_NONE)) {\n\t        return TOUCH_ACTION_NONE;\n\t    }\n\n\t\t    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n\t    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n\t    if (hasPanX && hasPanY) {\n\t        return TOUCH_ACTION_NONE;\n\t    }\n\n\t    if (hasPanX || hasPanY) {\n\t        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n\t    }\n\n\t    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n\t        return TOUCH_ACTION_MANIPULATION;\n\t    }\n\n\t\t    return TOUCH_ACTION_AUTO;\n\t}\n\n\tvar STATE_POSSIBLE = 1;\n\tvar STATE_BEGAN = 2;\n\tvar STATE_CHANGED = 4;\n\tvar STATE_ENDED = 8;\n\tvar STATE_RECOGNIZED = STATE_ENDED;\n\tvar STATE_CANCELLED = 16;\n\tvar STATE_FAILED = 32;\n\n\tfunction Recognizer(options) {\n\t    this.options = assign({}, this.defaults, options || {});\n\n\t\t    this.id = uniqueId();\n\n\t\t    this.manager = null;\n\n\t    this.options.enable = ifUndefined(this.options.enable, true);\n\n\t\t    this.state = STATE_POSSIBLE;\n\n\t\t    this.simultaneous = {};\n\t    this.requireFail = [];\n\t}\n\n\t\tRecognizer.prototype = {\n\t    defaults: {},\n\n\t    set: function(options) {\n\t        assign(this.options, options);\n\n\t        this.manager && this.manager.touchAction.update();\n\t        return this;\n\t    },\n\n\t    recognizeWith: function(otherRecognizer) {\n\t        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n\t            return this;\n\t        }\n\n\t\t        var simultaneous = this.simultaneous;\n\t        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\t        if (!simultaneous[otherRecognizer.id]) {\n\t            simultaneous[otherRecognizer.id] = otherRecognizer;\n\t            otherRecognizer.recognizeWith(this);\n\t        }\n\t        return this;\n\t    },\n\n\t    dropRecognizeWith: function(otherRecognizer) {\n\t        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n\t            return this;\n\t        }\n\n\t\t        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\t        delete this.simultaneous[otherRecognizer.id];\n\t        return this;\n\t    },\n\n\t    requireFailure: function(otherRecognizer) {\n\t        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n\t            return this;\n\t        }\n\n\t\t        var requireFail = this.requireFail;\n\t        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\t        if (inArray(requireFail, otherRecognizer) === -1) {\n\t            requireFail.push(otherRecognizer);\n\t            otherRecognizer.requireFailure(this);\n\t        }\n\t        return this;\n\t    },\n\n\t    dropRequireFailure: function(otherRecognizer) {\n\t        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n\t            return this;\n\t        }\n\n\t\t        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\t        var index = inArray(this.requireFail, otherRecognizer);\n\t        if (index > -1) {\n\t            this.requireFail.splice(index, 1);\n\t        }\n\t        return this;\n\t    },\n\n\t    hasRequireFailures: function() {\n\t        return this.requireFail.length > 0;\n\t    },\n\n\t    canRecognizeWith: function(otherRecognizer) {\n\t        return !!this.simultaneous[otherRecognizer.id];\n\t    },\n\n\t    emit: function(input) {\n\t        var self = this;\n\t        var state = this.state;\n\n\t\t        function emit(event) {\n\t            self.manager.emit(event, input);\n\t        }\n\n\t        if (state < STATE_ENDED) {\n\t            emit(self.options.event + stateStr(state));\n\t        }\n\n\t\t        emit(self.options.event); \n\n\t\t        if (input.additionalEvent) { \n\t            emit(input.additionalEvent);\n\t        }\n\n\t        if (state >= STATE_ENDED) {\n\t            emit(self.options.event + stateStr(state));\n\t        }\n\t    },\n\n\t    tryEmit: function(input) {\n\t        if (this.canEmit()) {\n\t            return this.emit(input);\n\t        }\n\t        this.state = STATE_FAILED;\n\t    },\n\n\t    canEmit: function() {\n\t        var i = 0;\n\t        while (i < this.requireFail.length) {\n\t            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n\t                return false;\n\t            }\n\t            i++;\n\t        }\n\t        return true;\n\t    },\n\n\t    recognize: function(inputData) {\n\t        var inputDataClone = assign({}, inputData);\n\n\t        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n\t            this.reset();\n\t            this.state = STATE_FAILED;\n\t            return;\n\t        }\n\n\t        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n\t            this.state = STATE_POSSIBLE;\n\t        }\n\n\t\t        this.state = this.process(inputDataClone);\n\n\t        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n\t            this.tryEmit(inputDataClone);\n\t        }\n\t    },\n\n\t    process: function(inputData) { }, \n\n\t    getTouchAction: function() { },\n\n\t    reset: function() { }\n\t};\n\n\tfunction stateStr(state) {\n\t    if (state & STATE_CANCELLED) {\n\t        return 'cancel';\n\t    } else if (state & STATE_ENDED) {\n\t        return 'end';\n\t    } else if (state & STATE_CHANGED) {\n\t        return 'move';\n\t    } else if (state & STATE_BEGAN) {\n\t        return 'start';\n\t    }\n\t    return '';\n\t}\n\n\tfunction directionStr(direction) {\n\t    if (direction == DIRECTION_DOWN) {\n\t        return 'down';\n\t    } else if (direction == DIRECTION_UP) {\n\t        return 'up';\n\t    } else if (direction == DIRECTION_LEFT) {\n\t        return 'left';\n\t    } else if (direction == DIRECTION_RIGHT) {\n\t        return 'right';\n\t    }\n\t    return '';\n\t}\n\n\tfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n\t    var manager = recognizer.manager;\n\t    if (manager) {\n\t        return manager.get(otherRecognizer);\n\t    }\n\t    return otherRecognizer;\n\t}\n\n\tfunction AttrRecognizer() {\n\t    Recognizer.apply(this, arguments);\n\t}\n\n\t\tinherit(AttrRecognizer, Recognizer, {\n\t    defaults: {\n\t        pointers: 1\n\t    },\n\n\t    attrTest: function(input) {\n\t        var optionPointers = this.options.pointers;\n\t        return optionPointers === 0 || input.pointers.length === optionPointers;\n\t    },\n\n\t    process: function(input) {\n\t        var state = this.state;\n\t        var eventType = input.eventType;\n\n\t\t        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n\t        var isValid = this.attrTest(input);\n\n\t        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n\t            return state | STATE_CANCELLED;\n\t        } else if (isRecognized || isValid) {\n\t            if (eventType & INPUT_END) {\n\t                return state | STATE_ENDED;\n\t            } else if (!(state & STATE_BEGAN)) {\n\t                return STATE_BEGAN;\n\t            }\n\t            return state | STATE_CHANGED;\n\t        }\n\t        return STATE_FAILED;\n\t    }\n\t});\n\n\tfunction PanRecognizer() {\n\t    AttrRecognizer.apply(this, arguments);\n\n\t\t    this.pX = null;\n\t    this.pY = null;\n\t}\n\n\t\tinherit(PanRecognizer, AttrRecognizer, {\n\t    defaults: {\n\t        event: 'pan',\n\t        threshold: 10,\n\t        pointers: 1,\n\t        direction: DIRECTION_ALL\n\t    },\n\n\t\t    getTouchAction: function() {\n\t        var direction = this.options.direction;\n\t        var actions = [];\n\t        if (direction & DIRECTION_HORIZONTAL) {\n\t            actions.push(TOUCH_ACTION_PAN_Y);\n\t        }\n\t        if (direction & DIRECTION_VERTICAL) {\n\t            actions.push(TOUCH_ACTION_PAN_X);\n\t        }\n\t        return actions;\n\t    },\n\n\t\t    directionTest: function(input) {\n\t        var options = this.options;\n\t        var hasMoved = true;\n\t        var distance = input.distance;\n\t        var direction = input.direction;\n\t        var x = input.deltaX;\n\t        var y = input.deltaY;\n\n\t        if (!(direction & options.direction)) {\n\t            if (options.direction & DIRECTION_HORIZONTAL) {\n\t                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n\t                hasMoved = x != this.pX;\n\t                distance = Math.abs(input.deltaX);\n\t            } else {\n\t                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n\t                hasMoved = y != this.pY;\n\t                distance = Math.abs(input.deltaY);\n\t            }\n\t        }\n\t        input.direction = direction;\n\t        return hasMoved && distance > options.threshold && direction & options.direction;\n\t    },\n\n\t\t    attrTest: function(input) {\n\t        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n\t            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n\t    },\n\n\t\t    emit: function(input) {\n\n\t\t        this.pX = input.deltaX;\n\t        this.pY = input.deltaY;\n\n\t\t        var direction = directionStr(input.direction);\n\n\t\t        if (direction) {\n\t            input.additionalEvent = this.options.event + direction;\n\t        }\n\t        this._super.emit.call(this, input);\n\t    }\n\t});\n\n\tfunction PinchRecognizer() {\n\t    AttrRecognizer.apply(this, arguments);\n\t}\n\n\t\tinherit(PinchRecognizer, AttrRecognizer, {\n\t    defaults: {\n\t        event: 'pinch',\n\t        threshold: 0,\n\t        pointers: 2\n\t    },\n\n\t\t    getTouchAction: function() {\n\t        return [TOUCH_ACTION_NONE];\n\t    },\n\n\t\t    attrTest: function(input) {\n\t        return this._super.attrTest.call(this, input) &&\n\t            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n\t    },\n\n\t\t    emit: function(input) {\n\t        if (input.scale !== 1) {\n\t            var inOut = input.scale < 1 ? 'in' : 'out';\n\t            input.additionalEvent = this.options.event + inOut;\n\t        }\n\t        this._super.emit.call(this, input);\n\t    }\n\t});\n\n\tfunction PressRecognizer() {\n\t    Recognizer.apply(this, arguments);\n\n\t\t    this._timer = null;\n\t    this._input = null;\n\t}\n\n\t\tinherit(PressRecognizer, Recognizer, {\n\t    defaults: {\n\t        event: 'press',\n\t        pointers: 1,\n\t        time: 251, \n\t        threshold: 9 \n\t    },\n\n\t\t    getTouchAction: function() {\n\t        return [TOUCH_ACTION_AUTO];\n\t    },\n\n\t\t    process: function(input) {\n\t        var options = this.options;\n\t        var validPointers = input.pointers.length === options.pointers;\n\t        var validMovement = input.distance < options.threshold;\n\t        var validTime = input.deltaTime > options.time;\n\n\t\t        this._input = input;\n\n\t        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n\t            this.reset();\n\t        } else if (input.eventType & INPUT_START) {\n\t            this.reset();\n\t            this._timer = setTimeoutContext(function() {\n\t                this.state = STATE_RECOGNIZED;\n\t                this.tryEmit();\n\t            }, options.time, this);\n\t        } else if (input.eventType & INPUT_END) {\n\t            return STATE_RECOGNIZED;\n\t        }\n\t        return STATE_FAILED;\n\t    },\n\n\t\t    reset: function() {\n\t        clearTimeout(this._timer);\n\t    },\n\n\t\t    emit: function(input) {\n\t        if (this.state !== STATE_RECOGNIZED) {\n\t            return;\n\t        }\n\n\t\t        if (input && (input.eventType & INPUT_END)) {\n\t            this.manager.emit(this.options.event + 'up', input);\n\t        } else {\n\t            this._input.timeStamp = now();\n\t            this.manager.emit(this.options.event, this._input);\n\t        }\n\t    }\n\t});\n\n\tfunction RotateRecognizer() {\n\t    AttrRecognizer.apply(this, arguments);\n\t}\n\n\t\tinherit(RotateRecognizer, AttrRecognizer, {\n\t    defaults: {\n\t        event: 'rotate',\n\t        threshold: 0,\n\t        pointers: 2\n\t    },\n\n\t\t    getTouchAction: function() {\n\t        return [TOUCH_ACTION_NONE];\n\t    },\n\n\t\t    attrTest: function(input) {\n\t        return this._super.attrTest.call(this, input) &&\n\t            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n\t    }\n\t});\n\n\tfunction SwipeRecognizer() {\n\t    AttrRecognizer.apply(this, arguments);\n\t}\n\n\t\tinherit(SwipeRecognizer, AttrRecognizer, {\n\t    defaults: {\n\t        event: 'swipe',\n\t        threshold: 10,\n\t        velocity: 0.3,\n\t        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n\t        pointers: 1\n\t    },\n\n\t\t    getTouchAction: function() {\n\t        return PanRecognizer.prototype.getTouchAction.call(this);\n\t    },\n\n\t\t    attrTest: function(input) {\n\t        var direction = this.options.direction;\n\t        var velocity;\n\n\t\t        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n\t            velocity = input.overallVelocity;\n\t        } else if (direction & DIRECTION_HORIZONTAL) {\n\t            velocity = input.overallVelocityX;\n\t        } else if (direction & DIRECTION_VERTICAL) {\n\t            velocity = input.overallVelocityY;\n\t        }\n\n\t\t        return this._super.attrTest.call(this, input) &&\n\t            direction & input.offsetDirection &&\n\t            input.distance > this.options.threshold &&\n\t            input.maxPointers == this.options.pointers &&\n\t            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n\t    },\n\n\t\t    emit: function(input) {\n\t        var direction = directionStr(input.offsetDirection);\n\t        if (direction) {\n\t            this.manager.emit(this.options.event + direction, input);\n\t        }\n\n\t\t        this.manager.emit(this.options.event, input);\n\t    }\n\t});\n\n\tfunction TapRecognizer() {\n\t    Recognizer.apply(this, arguments);\n\n\t    this.pTime = false;\n\t    this.pCenter = false;\n\n\t\t    this._timer = null;\n\t    this._input = null;\n\t    this.count = 0;\n\t}\n\n\t\tinherit(TapRecognizer, Recognizer, {\n\t    defaults: {\n\t        event: 'tap',\n\t        pointers: 1,\n\t        taps: 1,\n\t        interval: 300, \n\t        time: 250, \n\t        threshold: 9, \n\t        posThreshold: 10 \n\t    },\n\n\t\t    getTouchAction: function() {\n\t        return [TOUCH_ACTION_MANIPULATION];\n\t    },\n\n\t\t    process: function(input) {\n\t        var options = this.options;\n\n\t\t        var validPointers = input.pointers.length === options.pointers;\n\t        var validMovement = input.distance < options.threshold;\n\t        var validTouchTime = input.deltaTime < options.time;\n\n\t\t        this.reset();\n\n\t\t        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n\t            return this.failTimeout();\n\t        }\n\n\t        if (validMovement && validTouchTime && validPointers) {\n\t            if (input.eventType != INPUT_END) {\n\t                return this.failTimeout();\n\t            }\n\n\t\t            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n\t            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n\t\t            this.pTime = input.timeStamp;\n\t            this.pCenter = input.center;\n\n\t\t            if (!validMultiTap || !validInterval) {\n\t                this.count = 1;\n\t            } else {\n\t                this.count += 1;\n\t            }\n\n\t\t            this._input = input;\n\n\t            var tapCount = this.count % options.taps;\n\t            if (tapCount === 0) {\n\t                if (!this.hasRequireFailures()) {\n\t                    return STATE_RECOGNIZED;\n\t                } else {\n\t                    this._timer = setTimeoutContext(function() {\n\t                        this.state = STATE_RECOGNIZED;\n\t                        this.tryEmit();\n\t                    }, options.interval, this);\n\t                    return STATE_BEGAN;\n\t                }\n\t            }\n\t        }\n\t        return STATE_FAILED;\n\t    },\n\n\t\t    failTimeout: function() {\n\t        this._timer = setTimeoutContext(function() {\n\t            this.state = STATE_FAILED;\n\t        }, this.options.interval, this);\n\t        return STATE_FAILED;\n\t    },\n\n\t\t    reset: function() {\n\t        clearTimeout(this._timer);\n\t    },\n\n\t\t    emit: function() {\n\t        if (this.state == STATE_RECOGNIZED) {\n\t            this._input.tapCount = this.count;\n\t            this.manager.emit(this.options.event, this._input);\n\t        }\n\t    }\n\t});\n\n\tfunction Hammer(element, options) {\n\t    options = options || {};\n\t    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n\t    return new Manager(element, options);\n\t}\n\n\tHammer.VERSION = '2.0.6';\n\n\tHammer.defaults = {\n\t    domEvents: false,\n\n\t    touchAction: TOUCH_ACTION_COMPUTE,\n\n\t    enable: true,\n\n\t    inputTarget: null,\n\n\t    inputClass: null,\n\n\t    preset: [\n\t        [RotateRecognizer, {enable: false}],\n\t        [PinchRecognizer, {enable: false}, ['rotate']],\n\t        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n\t        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n\t        [TapRecognizer],\n\t        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n\t        [PressRecognizer]\n\t    ],\n\n\t    cssProps: {\n\t        userSelect: 'none',\n\n\t        touchSelect: 'none',\n\n\t        touchCallout: 'none',\n\n\t        contentZooming: 'none',\n\n\t        userDrag: 'none',\n\n\t        tapHighlightColor: 'rgba(0,0,0,0)'\n\t    }\n\t};\n\n\t\tvar STOP = 1;\n\tvar FORCED_STOP = 2;\n\n\tfunction Manager(element, options) {\n\t    this.options = assign({}, Hammer.defaults, options || {});\n\n\t\t    this.options.inputTarget = this.options.inputTarget || element;\n\n\t\t    this.handlers = {};\n\t    this.session = {};\n\t    this.recognizers = [];\n\n\t\t    this.element = element;\n\t    this.input = createInputInstance(this);\n\t    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n\t\t    toggleCssProps(this, true);\n\n\t\t    each(this.options.recognizers, function(item) {\n\t        var recognizer = this.add(new (item[0])(item[1]));\n\t        item[2] && recognizer.recognizeWith(item[2]);\n\t        item[3] && recognizer.requireFailure(item[3]);\n\t    }, this);\n\t}\n\n\t\tManager.prototype = {\n\t    set: function(options) {\n\t        assign(this.options, options);\n\n\t        if (options.touchAction) {\n\t            this.touchAction.update();\n\t        }\n\t        if (options.inputTarget) {\n\t            this.input.destroy();\n\t            this.input.target = options.inputTarget;\n\t            this.input.init();\n\t        }\n\t        return this;\n\t    },\n\n\t    stop: function(force) {\n\t        this.session.stopped = force ? FORCED_STOP : STOP;\n\t    },\n\n\t    recognize: function(inputData) {\n\t        var session = this.session;\n\t        if (session.stopped) {\n\t            return;\n\t        }\n\n\t        this.touchAction.preventDefaults(inputData);\n\n\t\t        var recognizer;\n\t        var recognizers = this.recognizers;\n\n\t        var curRecognizer = session.curRecognizer;\n\n\t        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n\t            curRecognizer = session.curRecognizer = null;\n\t        }\n\n\t\t        var i = 0;\n\t        while (i < recognizers.length) {\n\t            recognizer = recognizers[i];\n\n\t            if (session.stopped !== FORCED_STOP && ( \n\t                    !curRecognizer || recognizer == curRecognizer || \n\t                    recognizer.canRecognizeWith(curRecognizer))) { \n\t                recognizer.recognize(inputData);\n\t            } else {\n\t                recognizer.reset();\n\t            }\n\n\t            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n\t                curRecognizer = session.curRecognizer = recognizer;\n\t            }\n\t            i++;\n\t        }\n\t    },\n\n\t    get: function(recognizer) {\n\t        if (recognizer instanceof Recognizer) {\n\t            return recognizer;\n\t        }\n\n\t\t        var recognizers = this.recognizers;\n\t        for (var i = 0; i < recognizers.length; i++) {\n\t            if (recognizers[i].options.event == recognizer) {\n\t                return recognizers[i];\n\t            }\n\t        }\n\t        return null;\n\t    },\n\n\t    add: function(recognizer) {\n\t        if (invokeArrayArg(recognizer, 'add', this)) {\n\t            return this;\n\t        }\n\n\t        var existing = this.get(recognizer.options.event);\n\t        if (existing) {\n\t            this.remove(existing);\n\t        }\n\n\t\t        this.recognizers.push(recognizer);\n\t        recognizer.manager = this;\n\n\t\t        this.touchAction.update();\n\t        return recognizer;\n\t    },\n\n\t    remove: function(recognizer) {\n\t        if (invokeArrayArg(recognizer, 'remove', this)) {\n\t            return this;\n\t        }\n\n\t\t        recognizer = this.get(recognizer);\n\n\t        if (recognizer) {\n\t            var recognizers = this.recognizers;\n\t            var index = inArray(recognizers, recognizer);\n\n\t\t            if (index !== -1) {\n\t                recognizers.splice(index, 1);\n\t                this.touchAction.update();\n\t            }\n\t        }\n\n\t\t        return this;\n\t    },\n\n\t    on: function(events, handler) {\n\t        var handlers = this.handlers;\n\t        each(splitStr(events), function(event) {\n\t            handlers[event] = handlers[event] || [];\n\t            handlers[event].push(handler);\n\t        });\n\t        return this;\n\t    },\n\n\t    off: function(events, handler) {\n\t        var handlers = this.handlers;\n\t        each(splitStr(events), function(event) {\n\t            if (!handler) {\n\t                delete handlers[event];\n\t            } else {\n\t                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n\t            }\n\t        });\n\t        return this;\n\t    },\n\n\t    emit: function(event, data) {\n\t        if (this.options.domEvents) {\n\t            triggerDomEvent(event, data);\n\t        }\n\n\t        var handlers = this.handlers[event] && this.handlers[event].slice();\n\t        if (!handlers || !handlers.length) {\n\t            return;\n\t        }\n\n\t\t        data.type = event;\n\t        data.preventDefault = function() {\n\t            data.srcEvent.preventDefault();\n\t        };\n\n\t\t        var i = 0;\n\t        while (i < handlers.length) {\n\t            handlers[i](data);\n\t            i++;\n\t        }\n\t    },\n\n\t    destroy: function() {\n\t        this.element && toggleCssProps(this, false);\n\n\t\t        this.handlers = {};\n\t        this.session = {};\n\t        this.input.destroy();\n\t        this.element = null;\n\t    }\n\t};\n\n\tfunction toggleCssProps(manager, add) {\n\t    var element = manager.element;\n\t    if (!element.style) {\n\t        return;\n\t    }\n\t    each(manager.options.cssProps, function(value, name) {\n\t        element.style[prefixed(element.style, name)] = add ? value : '';\n\t    });\n\t}\n\n\tfunction triggerDomEvent(event, data) {\n\t    var gestureEvent = document.createEvent('Event');\n\t    gestureEvent.initEvent(event, true, true);\n\t    gestureEvent.gesture = data;\n\t    data.target.dispatchEvent(gestureEvent);\n\t}\n\n\t\tassign(Hammer, {\n\t    INPUT_START: INPUT_START,\n\t    INPUT_MOVE: INPUT_MOVE,\n\t    INPUT_END: INPUT_END,\n\t    INPUT_CANCEL: INPUT_CANCEL,\n\n\t\t    STATE_POSSIBLE: STATE_POSSIBLE,\n\t    STATE_BEGAN: STATE_BEGAN,\n\t    STATE_CHANGED: STATE_CHANGED,\n\t    STATE_ENDED: STATE_ENDED,\n\t    STATE_RECOGNIZED: STATE_RECOGNIZED,\n\t    STATE_CANCELLED: STATE_CANCELLED,\n\t    STATE_FAILED: STATE_FAILED,\n\n\t\t    DIRECTION_NONE: DIRECTION_NONE,\n\t    DIRECTION_LEFT: DIRECTION_LEFT,\n\t    DIRECTION_RIGHT: DIRECTION_RIGHT,\n\t    DIRECTION_UP: DIRECTION_UP,\n\t    DIRECTION_DOWN: DIRECTION_DOWN,\n\t    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n\t    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n\t    DIRECTION_ALL: DIRECTION_ALL,\n\n\t\t    Manager: Manager,\n\t    Input: Input,\n\t    TouchAction: TouchAction,\n\n\t\t    TouchInput: TouchInput,\n\t    MouseInput: MouseInput,\n\t    PointerEventInput: PointerEventInput,\n\t    TouchMouseInput: TouchMouseInput,\n\t    SingleTouchInput: SingleTouchInput,\n\n\t\t    Recognizer: Recognizer,\n\t    AttrRecognizer: AttrRecognizer,\n\t    Tap: TapRecognizer,\n\t    Pan: PanRecognizer,\n\t    Swipe: SwipeRecognizer,\n\t    Pinch: PinchRecognizer,\n\t    Rotate: RotateRecognizer,\n\t    Press: PressRecognizer,\n\n\t\t    on: addEventListeners,\n\t    off: removeEventListeners,\n\t    each: each,\n\t    merge: merge,\n\t    extend: extend,\n\t    assign: assign,\n\t    inherit: inherit,\n\t    bindFn: bindFn,\n\t    prefixed: prefixed\n\t});\n\n\tvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); \n\tfreeGlobal.Hammer = Hammer;\n\n\t\tif (true) {\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t        return Hammer;\n\t    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (typeof module != 'undefined' && module.exports) {\n\t    module.exports = Hammer;\n\t} else {\n\t    window[exportName] = Hammer;\n\t}\n\n\t\t})(window, document, 'Hammer');\n\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _Layer2 = __webpack_require__(35);\n\n\t\tvar _Layer3 = _interopRequireDefault(_Layer2);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _Skybox = __webpack_require__(36);\n\n\t\tvar _Skybox2 = _interopRequireDefault(_Skybox);\n\n\n\t\tvar EnvironmentLayer = (function (_Layer) {\n\t  _inherits(EnvironmentLayer, _Layer);\n\n\t\t  function EnvironmentLayer(options) {\n\t    _classCallCheck(this, EnvironmentLayer);\n\n\t\t    _get(Object.getPrototypeOf(EnvironmentLayer.prototype), 'constructor', this).call(this);\n\n\t\t    var defaults = {\n\t      skybox: false\n\t    };\n\n\t\t    this._options = (0, _lodashAssign2['default'])(defaults, options);\n\t  }\n\n\n\t\t  _createClass(EnvironmentLayer, [{\n\t    key: '_onAdd',\n\t    value: function _onAdd() {\n\t      this._initLights();\n\n\t\t      if (this._options.skybox) {\n\t        this._initSkybox();\n\t      }\n\n\t    }\n\n\t  }, {\n\t    key: '_initLights',\n\t    value: function _initLights() {\n\n\t\t      if (!this._options.skybox) {\n\t        var directionalLight = new _three2['default'].DirectionalLight(0x999999);\n\t        directionalLight.intesity = 0.1;\n\t        directionalLight.position.x = 100;\n\t        directionalLight.position.y = 100;\n\t        directionalLight.position.z = 100;\n\n\t\t        var directionalLight2 = new _three2['default'].DirectionalLight(0x999999);\n\t        directionalLight2.intesity = 0.1;\n\t        directionalLight2.position.x = -100;\n\t        directionalLight2.position.y = 100;\n\t        directionalLight2.position.z = -100;\n\n\t\t        var helper = new _three2['default'].DirectionalLightHelper(directionalLight, 10);\n\t        var helper2 = new _three2['default'].DirectionalLightHelper(directionalLight2, 10);\n\n\t\t        this.add(directionalLight);\n\t        this.add(directionalLight2);\n\n\t\t        this.add(helper);\n\t        this.add(helper2);\n\t      } else {\n\t        this._skyboxLight = new _three2['default'].DirectionalLight(0xffffff, 1);\n\n\t\t        this._skyboxLight.castShadow = true;\n\n\t\t        var d = 1000;\n\t        this._skyboxLight.shadow.camera.left = -d;\n\t        this._skyboxLight.shadow.camera.right = d;\n\t        this._skyboxLight.shadow.camera.top = d;\n\t        this._skyboxLight.shadow.camera.bottom = -d;\n\n\t\t        this._skyboxLight.shadow.camera.near = 10000;\n\t        this._skyboxLight.shadow.camera.far = 70000;\n\n\t        this._skyboxLight.shadow.mapSize.width = 2048;\n\t        this._skyboxLight.shadow.mapSize.height = 2048;\n\n\n\n\t\t        this.add(this._skyboxLight);\n\t      }\n\t    }\n\t  }, {\n\t    key: '_initSkybox',\n\t    value: function _initSkybox() {\n\t      this._skybox = (0, _Skybox2['default'])(this._world, this._skyboxLight);\n\t      this.add(this._skybox._mesh);\n\t    }\n\n\t  }, {\n\t    key: '_initGrid',\n\t    value: function _initGrid() {\n\t      var size = 4000;\n\t      var step = 100;\n\n\t\t      var gridHelper = new _three2['default'].GridHelper(size, step);\n\t      this.add(gridHelper);\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._skyboxLight = null;\n\n\t\t      this.remove(this._skybox._mesh);\n\t      this._skybox.destroy();\n\t      this._skybox = null;\n\n\t\t      _get(Object.getPrototypeOf(EnvironmentLayer.prototype), 'destroy', this).call(this);\n\t    }\n\t  }]);\n\n\t\t  return EnvironmentLayer;\n\t})(_Layer3['default']);\n\n\t\texports['default'] = function (options) {\n\t  return new EnvironmentLayer(options);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _eventemitter3 = __webpack_require__(2);\n\n\t\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _engineScene = __webpack_require__(25);\n\n\t\tvar _engineScene2 = _interopRequireDefault(_engineScene);\n\n\n\t\tvar Layer = (function (_EventEmitter) {\n\t  _inherits(Layer, _EventEmitter);\n\n\t\t  function Layer() {\n\t    _classCallCheck(this, Layer);\n\n\t\t    _get(Object.getPrototypeOf(Layer.prototype), 'constructor', this).call(this);\n\n\t\t    this._layer = new _three2['default'].Object3D();\n\t  }\n\n\n\t\t  _createClass(Layer, [{\n\t    key: 'add',\n\t    value: function add(object) {\n\t      this._layer.add(object);\n\t    }\n\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove(object) {\n\t      this._layer.remove(object);\n\t    }\n\n\t  }, {\n\t    key: 'addTo',\n\t    value: function addTo(world) {\n\t      world.addLayer(this);\n\t      return this;\n\t    }\n\n\t  }, {\n\t    key: '_addToWorld',\n\t    value: function _addToWorld(world) {\n\t      this._world = world;\n\t      this._onAdd(world);\n\t      this.emit('added');\n\t    }\n\t  }, {\n\t    key: 'getPickingId',\n\t    value: function getPickingId() {\n\t      if (this._world._engine._picking) {\n\t        return this._world._engine._picking.getNextId();\n\t      }\n\n\t\t      return false;\n\t    }\n\n\t  }, {\n\t    key: 'addToPicking',\n\t    value: function addToPicking(mesh) {\n\t      if (!this._world._engine._picking) {\n\t        return;\n\t      }\n\n\t\t      this._world._engine._picking.add(mesh);\n\t    }\n\t  }, {\n\t    key: 'removeFromPicking',\n\t    value: function removeFromPicking(mesh) {\n\t      if (!this._world._engine._picking) {\n\t        return;\n\t      }\n\n\t\t      this._world._engine._picking.remove(mesh);\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      if (this._layer.children) {\n\t        var child;\n\t        for (var i = this._layer.children.length - 1; i >= 0; i--) {\n\t          child = this._layer.children[i];\n\n\t\t          if (!child) {\n\t            continue;\n\t          }\n\n\t\t          this.remove(child);\n\n\t\t          if (child.geometry) {\n\t            child.geometry.dispose();\n\t            child.geometry = null;\n\t          }\n\n\t\t          if (child.material) {\n\t            if (child.material.map) {\n\t              child.material.map.dispose();\n\t              child.material.map = null;\n\t            }\n\n\t\t            child.material.dispose();\n\t            child.material = null;\n\t          }\n\t        }\n\t      }\n\n\t\t      this._world = null;\n\t      this._layer = null;\n\t    }\n\t  }]);\n\n\t\t  return Layer;\n\t})(_eventemitter32['default']);\n\n\t\texports['default'] = Layer;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _Sky = __webpack_require__(37);\n\n\t\tvar _Sky2 = _interopRequireDefault(_Sky);\n\n\t\tvar _lodashThrottle = __webpack_require__(38);\n\n\t\tvar _lodashThrottle2 = _interopRequireDefault(_lodashThrottle);\n\n\n\t\tvar cubemap = {\n\t  vertexShader: ['varying vec3 vPosition;', 'void main() {', 'vPosition = position;', 'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n\n\t\t  fragmentShader: ['uniform samplerCube cubemap;', 'varying vec3 vPosition;', 'void main() {', 'gl_FragColor = textureCube(cubemap, normalize(vPosition));', '}'].join('\\n')\n\t};\n\n\t\tvar Skybox = (function () {\n\t  function Skybox(world, light) {\n\t    _classCallCheck(this, Skybox);\n\n\t\t    this._world = world;\n\t    this._light = light;\n\n\t\t    this._settings = {\n\t      distance: 38000,\n\t      turbidity: 10,\n\t      reileigh: 2,\n\t      mieCoefficient: 0.005,\n\t      mieDirectionalG: 0.8,\n\t      luminance: 1,\n\t      inclination: 0.48, \n\t      azimuth: 0.25 };\n\n\t    this._initSkybox();\n\t    this._updateUniforms();\n\t    this._initEvents();\n\t  }\n\n\n\t\t  _createClass(Skybox, [{\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      this._throttledWorldUpdate = (0, _lodashThrottle2['default'])(this._update, 100);\n\t      this._world.on('preUpdate', this._throttledWorldUpdate, this);\n\t    }\n\t  }, {\n\t    key: '_initSkybox',\n\t    value: function _initSkybox() {\n\t      this._cubeCamera = new _three2['default'].CubeCamera(1, 2000000, 128);\n\n\t      var cubeTarget = this._cubeCamera.renderTarget;\n\n\t      this._sky = new _Sky2['default']();\n\t      this._skyScene = new _three2['default'].Scene();\n\t      this._skyScene.add(this._sky.mesh);\n\n\t      this._sunSphere = new _three2['default'].Mesh(new _three2['default'].SphereBufferGeometry(2000, 16, 8), new _three2['default'].MeshBasicMaterial({\n\t        color: 0xffffff\n\t      }));\n\n\n\t\t      var skyboxUniforms = {\n\t        cubemap: { type: 't', value: cubeTarget }\n\t      };\n\n\t\t      var skyboxMat = new _three2['default'].ShaderMaterial({\n\t        uniforms: skyboxUniforms,\n\t        vertexShader: cubemap.vertexShader,\n\t        fragmentShader: cubemap.fragmentShader,\n\t        side: _three2['default'].BackSide\n\t      });\n\n\t\t      this._mesh = new _three2['default'].Mesh(new _three2['default'].BoxGeometry(190000, 190000, 190000), skyboxMat);\n\n\t\t      this._updateSkybox = true;\n\t    }\n\t  }, {\n\t    key: '_updateUniforms',\n\t    value: function _updateUniforms() {\n\t      var settings = this._settings;\n\t      var uniforms = this._sky.uniforms;\n\t      uniforms.turbidity.value = settings.turbidity;\n\t      uniforms.reileigh.value = settings.reileigh;\n\t      uniforms.luminance.value = settings.luminance;\n\t      uniforms.mieCoefficient.value = settings.mieCoefficient;\n\t      uniforms.mieDirectionalG.value = settings.mieDirectionalG;\n\n\t\t      var theta = Math.PI * (settings.inclination - 0.5);\n\t      var phi = 2 * Math.PI * (settings.azimuth - 0.5);\n\n\t\t      this._sunSphere.position.x = settings.distance * Math.cos(phi);\n\t      this._sunSphere.position.y = settings.distance * Math.sin(phi) * Math.sin(theta);\n\t      this._sunSphere.position.z = settings.distance * Math.sin(phi) * Math.cos(theta);\n\n\t      this._light.position.copy(this._sunSphere.position);\n\n\t\t      this._sky.uniforms.sunPosition.value.copy(this._sunSphere.position);\n\t    }\n\t  }, {\n\t    key: '_update',\n\t    value: function _update(delta) {\n\t      if (this._updateSkybox) {\n\t        this._updateSkybox = false;\n\t      } else {\n\t        return;\n\t      }\n\n\n\t      this._light.intensity = 1 - 0.95 * (this._settings.inclination / 0.5);\n\n\t      this._updateUniforms();\n\n\t      this._cubeCamera.updateCubeMap(this._world._engine._renderer, this._skyScene);\n\t    }\n\t  }, {\n\t    key: 'getRenderTarget',\n\t    value: function getRenderTarget() {\n\t      return this._cubeCamera.renderTarget;\n\t    }\n\t  }, {\n\t    key: 'setInclination',\n\t    value: function setInclination(inclination) {\n\t      this._settings.inclination = inclination;\n\t      this._updateSkybox = true;\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._world.off('preUpdate', this._throttledWorldUpdate);\n\t      this._throttledWorldUpdate = null;\n\n\t\t      this._world = null;\n\t      this._light = null;\n\n\t\t      this._cubeCamera = null;\n\n\t\t      this._sky.mesh.geometry.dispose();\n\t      this._sky.mesh.geometry = null;\n\n\t\t      if (this._sky.mesh.material.map) {\n\t        this._sky.mesh.material.map.dispose();\n\t        this._sky.mesh.material.map = null;\n\t      }\n\n\t\t      this._sky.mesh.material.dispose();\n\t      this._sky.mesh.material = null;\n\n\t\t      this._sky.mesh = null;\n\t      this._sky = null;\n\n\t\t      this._skyScene = null;\n\n\t\t      this._sunSphere.geometry.dispose();\n\t      this._sunSphere.geometry = null;\n\n\t\t      if (this._sunSphere.material.map) {\n\t        this._sunSphere.material.map.dispose();\n\t        this._sunSphere.material.map = null;\n\t      }\n\n\t\t      this._sunSphere.material.dispose();\n\t      this._sunSphere.material = null;\n\n\t\t      this._sunSphere = null;\n\n\t\t      this._mesh.geometry.dispose();\n\t      this._mesh.geometry = null;\n\n\t\t      if (this._mesh.material.map) {\n\t        this._mesh.material.map.dispose();\n\t        this._mesh.material.map = null;\n\t      }\n\n\t\t      this._mesh.material.dispose();\n\t      this._mesh.material = null;\n\t    }\n\t  }]);\n\n\t\t  return Skybox;\n\t})();\n\n\t\texports['default'] = function (world, light) {\n\t  return new Skybox(world, light);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\t_three2['default'].ShaderLib['sky'] = {\n\n\t\t\tuniforms: {\n\n\t\t\t\tluminance: { type: 'f', value: 1 },\n\t\t\tturbidity: { type: 'f', value: 2 },\n\t\t\treileigh: { type: 'f', value: 1 },\n\t\t\tmieCoefficient: { type: 'f', value: 0.005 },\n\t\t\tmieDirectionalG: { type: 'f', value: 0.8 },\n\t\t\tsunPosition: { type: 'v3', value: new _three2['default'].Vector3() }\n\n\t\t\t},\n\n\t\t\tvertexShader: ['varying vec3 vWorldPosition;', 'void main() {', 'vec4 worldPosition = modelMatrix * vec4( position, 1.0 );', 'vWorldPosition = worldPosition.xyz;', 'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n\n\t\t\tfragmentShader: ['uniform sampler2D skySampler;', 'uniform vec3 sunPosition;', 'varying vec3 vWorldPosition;', 'vec3 cameraPos = vec3(0., 0., 0.);', '// uniform sampler2D sDiffuse;', '// const float turbidity = 10.0; //', '// const float reileigh = 2.; //', '// const float luminance = 1.0; //', '// const float mieCoefficient = 0.005;', '// const float mieDirectionalG = 0.8;', 'uniform float luminance;', 'uniform float turbidity;', 'uniform float reileigh;', 'uniform float mieCoefficient;', 'uniform float mieDirectionalG;', '// constants for atmospheric scattering', 'const float e = 2.71828182845904523536028747135266249775724709369995957;', 'const float pi = 3.141592653589793238462643383279502884197169;', 'const float n = 1.0003; // refractive index of air', 'const float N = 2.545E25; // number of molecules per unit volume for air at', '// 288.15K and 1013mb (sea level -45 celsius)', 'const float pn = 0.035;\t// depolatization factor for standard air', '// wavelength of used primaries, according to preetham', 'const vec3 lambda = vec3(680E-9, 550E-9, 450E-9);', '// mie stuff', '// K coefficient for the primaries', 'const vec3 K = vec3(0.686, 0.678, 0.666);', 'const float v = 4.0;', '// optical length at zenith for molecules', 'const float rayleighZenithLength = 8.4E3;', 'const float mieZenithLength = 1.25E3;', 'const vec3 up = vec3(0.0, 1.0, 0.0);', 'const float EE = 1000.0;', 'const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;', '// 66 arc seconds -> degrees, and the cosine of that', '// earth shadow hack', 'const float cutoffAngle = pi/1.95;', 'const float steepness = 1.5;', 'vec3 totalRayleigh(vec3 lambda)', '{', 'return (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));', '}',\n\n\t\t'// A simplied version of the total Reayleigh scattering to works on browsers that use ANGLE', 'vec3 simplifiedRayleigh()', '{', 'return 0.0005 / vec3(94, 40, 18);',\n\t\t'}', 'float rayleighPhase(float cosTheta)', '{\t ', 'return (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));', '//\treturn (1.0 / (3.0*pi)) * (1.0 + pow(cosTheta, 2.0));', '//\treturn (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));', '}', 'vec3 totalMie(vec3 lambda, vec3 K, float T)', '{', 'float c = (0.2 * T ) * 10E-18;', 'return 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;', '}', 'float hgPhase(float cosTheta, float g)', '{', 'return (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));', '}', 'float sunIntensity(float zenithAngleCos)', '{', 'return EE * max(0.0, 1.0 - exp(-((cutoffAngle - acos(zenithAngleCos))/steepness)));', '}', '// float logLuminance(vec3 c)', '// {', '// \treturn log(c.r * 0.2126 + c.g * 0.7152 + c.b * 0.0722);', '// }', '// Filmic ToneMapping http://filmicgames.com/archives/75', 'float A = 0.15;', 'float B = 0.50;', 'float C = 0.10;', 'float D = 0.20;', 'float E = 0.02;', 'float F = 0.30;', 'float W = 1000.0;', 'vec3 Uncharted2Tonemap(vec3 x)', '{', 'return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;', '}', 'void main() ', '{', 'float sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);', '// luminance =  1.0 ;// vWorldPosition.y / 450000. + 0.5; //sunPosition.y / 450000. * 1. + 0.5;', '// gl_FragColor = vec4(sunfade, sunfade, sunfade, 1.0);', 'float reileighCoefficient = reileigh - (1.0* (1.0-sunfade));', 'vec3 sunDirection = normalize(sunPosition);', 'float sunE = sunIntensity(dot(sunDirection, up));', '// extinction (absorbtion + out scattering) ', '// rayleigh coefficients',\n\n\t\t'vec3 betaR = simplifiedRayleigh() * reileighCoefficient;', '// mie coefficients', 'vec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;', '// optical length', '// cutoff angle at 90 to avoid singularity in next formula.', 'float zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));', 'float sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));', 'float sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));', '// combined extinction factor\t', 'vec3 Fex = exp(-(betaR * sR + betaM * sM));', '// in scattering', 'float cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);', 'float rPhase = rayleighPhase(cosTheta*0.5+0.5);', 'vec3 betaRTheta = betaR * rPhase;', 'float mPhase = hgPhase(cosTheta, mieDirectionalG);', 'vec3 betaMTheta = betaM * mPhase;', 'vec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));', 'Lin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));', '//nightsky', 'vec3 direction = normalize(vWorldPosition - cameraPos);', 'float theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]', 'float phi = atan(direction.z, direction.x); // azimuth --> x-axis [-pi/2, pi/2]', 'vec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);', '// vec3 L0 = texture2D(skySampler, uv).rgb+0.1 * Fex;', 'vec3 L0 = vec3(0.1) * Fex;', '// composition + solar disc', '//if (cosTheta > sunAngularDiameterCos)', 'float sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);', '// if (normalize(vWorldPosition - cameraPos).y>0.0)', 'L0 += (sunE * 19000.0 * Fex)*sundisk;', 'vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));', 'vec3 texColor = (Lin+L0);   ', 'texColor *= 0.04 ;', 'texColor += vec3(0.0,0.001,0.0025)*0.3;', 'float g_fMaxLuminance = 1.0;', 'float fLumScaled = 0.1 / luminance;     ', 'float fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); ', 'float ExposureBias = fLumCompressed;', 'vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);', 'vec3 color = curr*whiteScale;', 'vec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));', 'gl_FragColor.rgb = retColor;', 'gl_FragColor.a = 1.0;', '}'].join('\\n')\n\n\t\t};\n\n\t\tvar Sky = function Sky() {\n\n\t\t\tvar skyShader = _three2['default'].ShaderLib['sky'];\n\t\tvar skyUniforms = _three2['default'].UniformsUtils.clone(skyShader.uniforms);\n\n\t\t\tvar skyMat = new _three2['default'].ShaderMaterial({\n\t\t\tfragmentShader: skyShader.fragmentShader,\n\t\t\tvertexShader: skyShader.vertexShader,\n\t\t\tuniforms: skyUniforms,\n\t\t\tside: _three2['default'].BackSide\n\t\t});\n\n\t\t\tvar skyGeo = new _three2['default'].SphereBufferGeometry(450000, 32, 15);\n\t\tvar skyMesh = new _three2['default'].Mesh(skyGeo, skyMat);\n\n\t\tthis.mesh = skyMesh;\n\t\tthis.uniforms = skyUniforms;\n\t};\n\n\t\texports['default'] = Sky;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tvar debounce = __webpack_require__(39);\n\n\tvar FUNC_ERROR_TEXT = 'Expected a function';\n\n\tfunction throttle(func, wait, options) {\n\t  var leading = true,\n\t      trailing = true;\n\n\t\t  if (typeof func != 'function') {\n\t    throw new TypeError(FUNC_ERROR_TEXT);\n\t  }\n\t  if (isObject(options)) {\n\t    leading = 'leading' in options ? !!options.leading : leading;\n\t    trailing = 'trailing' in options ? !!options.trailing : trailing;\n\t  }\n\t  return debounce(func, wait, { 'leading': leading, 'maxWait': wait, 'trailing': trailing });\n\t}\n\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\n\t\tmodule.exports = throttle;\n\n\n },\n function(module, exports) {\n\n\n\tvar FUNC_ERROR_TEXT = 'Expected a function';\n\n\tvar NAN = 0 / 0;\n\n\tvar funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]';\n\n\tvar reTrim = /^\\s+|\\s+$/g;\n\n\tvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n\tvar reIsBinary = /^0b[01]+$/i;\n\n\tvar reIsOctal = /^0o[0-7]+$/i;\n\n\tvar freeParseInt = parseInt;\n\n\tvar objectProto = Object.prototype;\n\n\tvar objectToString = objectProto.toString;\n\n\tvar nativeMax = Math.max;\n\n\tvar now = Date.now;\n\n\tfunction debounce(func, wait, options) {\n\t  var args,\n\t      maxTimeoutId,\n\t      result,\n\t      stamp,\n\t      thisArg,\n\t      timeoutId,\n\t      trailingCall,\n\t      lastCalled = 0,\n\t      leading = false,\n\t      maxWait = false,\n\t      trailing = true;\n\n\t\t  if (typeof func != 'function') {\n\t    throw new TypeError(FUNC_ERROR_TEXT);\n\t  }\n\t  wait = toNumber(wait) || 0;\n\t  if (isObject(options)) {\n\t    leading = !!options.leading;\n\t    maxWait = 'maxWait' in options && nativeMax(toNumber(options.maxWait) || 0, wait);\n\t    trailing = 'trailing' in options ? !!options.trailing : trailing;\n\t  }\n\n\t\t  function cancel() {\n\t    if (timeoutId) {\n\t      clearTimeout(timeoutId);\n\t    }\n\t    if (maxTimeoutId) {\n\t      clearTimeout(maxTimeoutId);\n\t    }\n\t    lastCalled = 0;\n\t    args = maxTimeoutId = thisArg = timeoutId = trailingCall = undefined;\n\t  }\n\n\t\t  function complete(isCalled, id) {\n\t    if (id) {\n\t      clearTimeout(id);\n\t    }\n\t    maxTimeoutId = timeoutId = trailingCall = undefined;\n\t    if (isCalled) {\n\t      lastCalled = now();\n\t      result = func.apply(thisArg, args);\n\t      if (!timeoutId && !maxTimeoutId) {\n\t        args = thisArg = undefined;\n\t      }\n\t    }\n\t  }\n\n\t\t  function delayed() {\n\t    var remaining = wait - (now() - stamp);\n\t    if (remaining <= 0 || remaining > wait) {\n\t      complete(trailingCall, maxTimeoutId);\n\t    } else {\n\t      timeoutId = setTimeout(delayed, remaining);\n\t    }\n\t  }\n\n\t\t  function flush() {\n\t    if ((timeoutId && trailingCall) || (maxTimeoutId && trailing)) {\n\t      result = func.apply(thisArg, args);\n\t    }\n\t    cancel();\n\t    return result;\n\t  }\n\n\t\t  function maxDelayed() {\n\t    complete(trailing, timeoutId);\n\t  }\n\n\t\t  function debounced() {\n\t    args = arguments;\n\t    stamp = now();\n\t    thisArg = this;\n\t    trailingCall = trailing && (timeoutId || !leading);\n\n\t\t    if (maxWait === false) {\n\t      var leadingCall = leading && !timeoutId;\n\t    } else {\n\t      if (!maxTimeoutId && !leading) {\n\t        lastCalled = stamp;\n\t      }\n\t      var remaining = maxWait - (stamp - lastCalled),\n\t          isCalled = remaining <= 0 || remaining > maxWait;\n\n\t\t      if (isCalled) {\n\t        if (maxTimeoutId) {\n\t          maxTimeoutId = clearTimeout(maxTimeoutId);\n\t        }\n\t        lastCalled = stamp;\n\t        result = func.apply(thisArg, args);\n\t      }\n\t      else if (!maxTimeoutId) {\n\t        maxTimeoutId = setTimeout(maxDelayed, remaining);\n\t      }\n\t    }\n\t    if (isCalled && timeoutId) {\n\t      timeoutId = clearTimeout(timeoutId);\n\t    }\n\t    else if (!timeoutId && wait !== maxWait) {\n\t      timeoutId = setTimeout(delayed, wait);\n\t    }\n\t    if (leadingCall) {\n\t      isCalled = true;\n\t      result = func.apply(thisArg, args);\n\t    }\n\t    if (isCalled && !timeoutId && !maxTimeoutId) {\n\t      args = thisArg = undefined;\n\t    }\n\t    return result;\n\t  }\n\t  debounced.cancel = cancel;\n\t  debounced.flush = flush;\n\t  return debounced;\n\t}\n\n\tfunction isFunction(value) {\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\n\tfunction toNumber(value) {\n\t  if (isObject(value)) {\n\t    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n\t    value = isObject(other) ? (other + '') : other;\n\t  }\n\t  if (typeof value != 'string') {\n\t    return value === 0 ? value : +value;\n\t  }\n\t  value = value.replace(reTrim, '');\n\t  var isBinary = reIsBinary.test(value);\n\t  return (isBinary || reIsOctal.test(value))\n\t    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n\t    : (reIsBadHex.test(value) ? NAN : +value);\n\t}\n\n\t\tmodule.exports = debounce;\n\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _TileLayer2 = __webpack_require__(41);\n\n\t\tvar _TileLayer3 = _interopRequireDefault(_TileLayer2);\n\n\t\tvar _ImageTile = __webpack_require__(51);\n\n\t\tvar _ImageTile2 = _interopRequireDefault(_ImageTile);\n\n\t\tvar _ImageTileLayerBaseMaterial = __webpack_require__(54);\n\n\t\tvar _ImageTileLayerBaseMaterial2 = _interopRequireDefault(_ImageTileLayerBaseMaterial);\n\n\t\tvar _lodashThrottle = __webpack_require__(38);\n\n\t\tvar _lodashThrottle2 = _interopRequireDefault(_lodashThrottle);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\n\n\n\n\n\n\n\n\t\tvar ImageTileLayer = (function (_TileLayer) {\n\t  _inherits(ImageTileLayer, _TileLayer);\n\n\t\t  function ImageTileLayer(path, options) {\n\t    _classCallCheck(this, ImageTileLayer);\n\n\t\t    var defaults = {\n\t      distance: 40000\n\t    };\n\n\t\t    options = (0, _lodashAssign2['default'])({}, defaults, options);\n\n\t\t    _get(Object.getPrototypeOf(ImageTileLayer.prototype), 'constructor', this).call(this, options);\n\n\t\t    this._path = path;\n\t  }\n\n\n\t\t  _createClass(ImageTileLayer, [{\n\t    key: '_onAdd',\n\t    value: function _onAdd(world) {\n\t      var _this = this;\n\n\t\t      _get(Object.getPrototypeOf(ImageTileLayer.prototype), '_onAdd', this).call(this, world);\n\n\t      var geom = new _three2['default'].PlaneBufferGeometry(200000, 200000, 1);\n\n\t\t      var baseMaterial;\n\t      if (this._world._environment._skybox) {\n\t        baseMaterial = (0, _ImageTileLayerBaseMaterial2['default'])('#f5f5f3', this._world._environment._skybox.getRenderTarget());\n\t      } else {\n\t        baseMaterial = (0, _ImageTileLayerBaseMaterial2['default'])('#f5f5f3');\n\t      }\n\n\t\t      var mesh = new _three2['default'].Mesh(geom, baseMaterial);\n\t      mesh.renderOrder = 0;\n\t      mesh.rotation.x = -90 * Math.PI / 180;\n\n\t      mesh.receiveShadow = true;\n\n\t\t      this._baseLayer = mesh;\n\t      this.add(mesh);\n\n\t      setTimeout(function () {\n\t        _this._calculateLOD();\n\t        _this._initEvents();\n\t      }, 0);\n\t    }\n\t  }, {\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      this._throttledWorldUpdate = (0, _lodashThrottle2['default'])(this._onWorldUpdate, 100);\n\n\t\t      this._world.on('preUpdate', this._throttledWorldUpdate, this);\n\t      this._world.on('move', this._onWorldMove, this);\n\t    }\n\t  }, {\n\t    key: '_onWorldUpdate',\n\t    value: function _onWorldUpdate() {\n\t      this._calculateLOD();\n\t      this._outputTiles();\n\t    }\n\t  }, {\n\t    key: '_onWorldMove',\n\t    value: function _onWorldMove(latlon, point) {\n\t      this._moveBaseLayer(point);\n\t    }\n\t  }, {\n\t    key: '_moveBaseLayer',\n\t    value: function _moveBaseLayer(point) {\n\t      this._baseLayer.position.x = point.x;\n\t      this._baseLayer.position.z = point.y;\n\t    }\n\t  }, {\n\t    key: '_createTile',\n\t    value: function _createTile(quadcode, layer) {\n\t      return (0, _ImageTile2['default'])(quadcode, this._path, layer);\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._world.off('preUpdate', this._throttledWorldUpdate);\n\t      this._world.off('move', this._onWorldMove);\n\n\t\t      this._throttledWorldUpdate = null;\n\n\t      this._baseLayer.geometry.dispose();\n\t      this._baseLayer.geometry = null;\n\n\t\t      if (this._baseLayer.material.map) {\n\t        this._baseLayer.material.map.dispose();\n\t        this._baseLayer.material.map = null;\n\t      }\n\n\t\t      this._baseLayer.material.dispose();\n\t      this._baseLayer.material = null;\n\n\t\t      this._baseLayer = null;\n\n\t      _get(Object.getPrototypeOf(ImageTileLayer.prototype), 'destroy', this).call(this);\n\t    }\n\t  }]);\n\n\t\t  return ImageTileLayer;\n\t})(_TileLayer3['default']);\n\n\t\texports['default'] = function (path, options) {\n\t  return new ImageTileLayer(path, options);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _Layer2 = __webpack_require__(35);\n\n\t\tvar _Layer3 = _interopRequireDefault(_Layer2);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _TileCache = __webpack_require__(42);\n\n\t\tvar _TileCache2 = _interopRequireDefault(_TileCache);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\n\n\n\n\n\n\n\n\n\n\n\t\tvar TileLayer = (function (_Layer) {\n\t  _inherits(TileLayer, _Layer);\n\n\t\t  function TileLayer(options) {\n\t    var _this = this;\n\n\t\t    _classCallCheck(this, TileLayer);\n\n\t\t    _get(Object.getPrototypeOf(TileLayer.prototype), 'constructor', this).call(this, options);\n\n\t\t    var defaults = {\n\t      picking: false,\n\t      maxCache: 1000,\n\t      maxLOD: 18\n\t    };\n\n\t\t    this._options = (0, _lodashAssign2['default'])({}, defaults, options);\n\n\t\t    this._tileCache = (0, _TileCache2['default'])(this._options.maxCache, function (tile) {\n\t      _this._destroyTile(tile);\n\t    });\n\n\t    this._tileList = [];\n\n\t    this._minLOD = 3;\n\t    this._maxLOD = this._options.maxLOD;\n\n\t\t    this._frustum = new _three2['default'].Frustum();\n\t    this._tiles = new _three2['default'].Object3D();\n\t    this._tilesPicking = new _three2['default'].Object3D();\n\t  }\n\n\t\t  _createClass(TileLayer, [{\n\t    key: '_onAdd',\n\t    value: function _onAdd(world) {\n\t      this.addToPicking(this._tilesPicking);\n\t      this.add(this._tiles);\n\t    }\n\t  }, {\n\t    key: '_updateFrustum',\n\t    value: function _updateFrustum() {\n\t      var camera = this._world.getCamera();\n\t      var projScreenMatrix = new _three2['default'].Matrix4();\n\t      projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n\t\t      this._frustum.setFromMatrix(camera.projectionMatrix);\n\t      this._frustum.setFromMatrix(new _three2['default'].Matrix4().multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse));\n\t    }\n\t  }, {\n\t    key: '_tileInFrustum',\n\t    value: function _tileInFrustum(tile) {\n\t      var bounds = tile.getBounds();\n\t      return this._frustum.intersectsBox(new _three2['default'].Box3(new _three2['default'].Vector3(bounds[0], 0, bounds[3]), new _three2['default'].Vector3(bounds[2], 0, bounds[1])));\n\t    }\n\n\t  }, {\n\t    key: '_outputTiles',\n\t    value: function _outputTiles() {\n\t      var _this2 = this;\n\n\t\t      if (!this._tiles) {\n\t        return;\n\t      }\n\n\t      this._removeTiles();\n\n\t      this._tileList.forEach(function (tile) {\n\t        if (!tile.isReady()) {\n\t          return;\n\t        }\n\n\t        _this2._tiles.add(tile.getMesh());\n\n\t\t        if (tile.getPickingMesh()) {\n\t          _this2._tilesPicking.add(tile.getPickingMesh());\n\t        }\n\t      });\n\t    }\n\n\t  }, {\n\t    key: '_calculateLOD',\n\t    value: function _calculateLOD() {\n\t      var _this3 = this;\n\n\t\t      if (this._stop || !this._world) {\n\t        return;\n\t      }\n\n\n\t\t      var camera = this._world.getCamera();\n\n\t      this._updateFrustum(this._frustum, camera);\n\n\t      var checkList = this._checklist;\n\t      checkList = [];\n\t      checkList.push(this._requestTile('0', this));\n\t      checkList.push(this._requestTile('1', this));\n\t      checkList.push(this._requestTile('2', this));\n\t      checkList.push(this._requestTile('3', this));\n\n\t      this._divide(checkList);\n\n\n\t      this._tileList = checkList.filter(function (tile, index) {\n\t        if (!_this3._tileInFrustum(tile)) {\n\t          return false;\n\t        }\n\n\t\t        if (_this3._options.distance && _this3._options.distance > 0) {\n\t          var center = tile.getCenter();\n\t          var dist = new _three2['default'].Vector3(center[0], 0, center[1]).sub(camera.position).length();\n\n\t          if (dist > _this3._options.distance) {\n\t            return false;\n\t          }\n\t        }\n\n\t        if (!tile.getMesh()) {\n\t          tile.requestTileAsync();\n\t        }\n\n\t\t        return true;\n\n\t      });\n\n\t    }\n\t  }, {\n\t    key: '_divide',\n\t    value: function _divide(checkList) {\n\t      var count = 0;\n\t      var currentItem;\n\t      var quadcode;\n\n\t      while (count != checkList.length) {\n\t        currentItem = checkList[count];\n\t        quadcode = currentItem.getQuadcode();\n\n\t        if (currentItem.length === this._maxLOD) {\n\t          count++;\n\t          continue;\n\t        }\n\n\t        if (this._screenSpaceError(currentItem)) {\n\n\t          checkList.splice(count, 1);\n\n\t          checkList.push(this._requestTile(quadcode + '0', this));\n\t          checkList.push(this._requestTile(quadcode + '1', this));\n\t          checkList.push(this._requestTile(quadcode + '2', this));\n\t          checkList.push(this._requestTile(quadcode + '3', this));\n\n\t          continue;\n\t        } else {\n\t          count++;\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: '_screenSpaceError',\n\t    value: function _screenSpaceError(tile) {\n\t      var minDepth = this._minLOD;\n\t      var maxDepth = this._maxLOD;\n\n\t\t      var quadcode = tile.getQuadcode();\n\n\t\t      var camera = this._world.getCamera();\n\n\t      var quality = 3.0;\n\n\t      if (quadcode.length === maxDepth) {\n\t        return false;\n\t      }\n\n\t      if (quadcode.length < minDepth) {\n\t        return true;\n\t      }\n\n\t      if (!this._tileInFrustum(tile)) {\n\t        return false;\n\t      }\n\n\t\t      var center = tile.getCenter();\n\n\t      var dist = new _three2['default'].Vector3(center[0], 0, center[1]).sub(camera.position).length();\n\n\t\t      var error = quality * tile.getSide() / dist;\n\n\t      return error > 1.0;\n\t    }\n\t  }, {\n\t    key: '_removeTiles',\n\t    value: function _removeTiles() {\n\t      if (!this._tiles || !this._tiles.children) {\n\t        return;\n\t      }\n\n\t\t      for (var i = this._tiles.children.length - 1; i >= 0; i--) {\n\t        this._tiles.remove(this._tiles.children[i]);\n\t      }\n\n\t\t      if (!this._tilesPicking || !this._tilesPicking.children) {\n\t        return;\n\t      }\n\n\t\t      for (var i = this._tilesPicking.children.length - 1; i >= 0; i--) {\n\t        this._tilesPicking.remove(this._tilesPicking.children[i]);\n\t      }\n\t    }\n\n\t  }, {\n\t    key: '_createTile',\n\t    value: function _createTile(quadcode, layer) {}\n\n\t  }, {\n\t    key: '_requestTile',\n\t    value: function _requestTile(quadcode, layer) {\n\t      var tile = this._tileCache.getTile(quadcode);\n\n\t\t      if (!tile) {\n\t        tile = this._createTile(quadcode, layer);\n\n\t        this._tileCache.setTile(quadcode, tile);\n\t      }\n\n\t\t      return tile;\n\t    }\n\t  }, {\n\t    key: '_destroyTile',\n\t    value: function _destroyTile(tile) {\n\t      this._tiles.remove(tile.getMesh());\n\n\n\t      tile.destroy();\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      if (this._tiles.children) {\n\t        for (var i = this._tiles.children.length - 1; i >= 0; i--) {\n\t          this._tiles.remove(this._tiles.children[i]);\n\t        }\n\t      }\n\n\t      this.removeFromPicking(this._tilesPicking);\n\n\t\t      if (this._tilesPicking.children) {\n\t        for (var i = this._tilesPicking.children.length - 1; i >= 0; i--) {\n\t          this._tilesPicking.remove(this._tilesPicking.children[i]);\n\t        }\n\t      }\n\n\t\t      this._tileCache.destroy();\n\t      this._tileCache = null;\n\n\t\t      this._tiles = null;\n\t      this._tilesPicking = null;\n\t      this._frustum = null;\n\n\t\t      _get(Object.getPrototypeOf(TileLayer.prototype), 'destroy', this).call(this);\n\t    }\n\t  }]);\n\n\t\t  return TileLayer;\n\t})(_Layer3['default']);\n\n\t\texports['default'] = TileLayer;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tvar _lruCache = __webpack_require__(43);\n\n\t\tvar _lruCache2 = _interopRequireDefault(_lruCache);\n\n\n\n\t\tvar TileCache = (function () {\n\t  function TileCache(cacheLimit, onDestroyTile) {\n\t    _classCallCheck(this, TileCache);\n\n\t\t    this._cache = (0, _lruCache2['default'])({\n\t      max: cacheLimit,\n\t      dispose: function dispose(key, tile) {\n\t        onDestroyTile(tile);\n\t      }\n\t    });\n\t  }\n\n\n\n\t\t  _createClass(TileCache, [{\n\t    key: 'isReady',\n\t    value: function isReady() {\n\t      return false;\n\t    }\n\n\t  }, {\n\t    key: 'getTile',\n\t    value: function getTile(quadcode) {\n\t      return this._cache.get(quadcode);\n\t    }\n\n\t  }, {\n\t    key: 'setTile',\n\t    value: function setTile(quadcode, tile) {\n\t      this._cache.set(quadcode, tile);\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._cache.reset();\n\t      this._cache = null;\n\t    }\n\t  }]);\n\n\t\t  return TileCache;\n\t})();\n\n\t\texports['default'] = function (cacheLimit, onDestroyTile) {\n\t  return new TileCache(cacheLimit, onDestroyTile);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tmodule.exports = LRUCache\n\n\tvar Map = __webpack_require__(44)\n\tvar util = __webpack_require__(47)\n\n\tvar Yallist = __webpack_require__(50)\n\n\tvar symbols = {}\n\tvar hasSymbol = typeof Symbol === 'function'\n\tvar makeSymbol\n\tif (hasSymbol) {\n\t  makeSymbol = function (key) {\n\t    return Symbol.for(key)\n\t  }\n\t} else {\n\t  makeSymbol = function (key) {\n\t    return '_' + key\n\t  }\n\t}\n\n\t\tfunction priv (obj, key, val) {\n\t  var sym\n\t  if (symbols[key]) {\n\t    sym = symbols[key]\n\t  } else {\n\t    sym = makeSymbol(key)\n\t    symbols[key] = sym\n\t  }\n\t  if (arguments.length === 2) {\n\t    return obj[sym]\n\t  } else {\n\t    obj[sym] = val\n\t    return val\n\t  }\n\t}\n\n\t\tfunction naiveLength () { return 1 }\n\n\tfunction LRUCache (options) {\n\t  if (!(this instanceof LRUCache)) {\n\t    return new LRUCache(options)\n\t  }\n\n\t\t  if (typeof options === 'number') {\n\t    options = { max: options }\n\t  }\n\n\t\t  if (!options) {\n\t    options = {}\n\t  }\n\n\t\t  var max = priv(this, 'max', options.max)\n\t  if (!max ||\n\t      !(typeof max === 'number') ||\n\t      max <= 0) {\n\t    priv(this, 'max', Infinity)\n\t  }\n\n\t\t  var lc = options.length || naiveLength\n\t  if (typeof lc !== 'function') {\n\t    lc = naiveLength\n\t  }\n\t  priv(this, 'lengthCalculator', lc)\n\n\t\t  priv(this, 'allowStale', options.stale || false)\n\t  priv(this, 'maxAge', options.maxAge || 0)\n\t  priv(this, 'dispose', options.dispose)\n\t  this.reset()\n\t}\n\n\tObject.defineProperty(LRUCache.prototype, 'max', {\n\t  set: function (mL) {\n\t    if (!mL || !(typeof mL === 'number') || mL <= 0) {\n\t      mL = Infinity\n\t    }\n\t    priv(this, 'max', mL)\n\t    trim(this)\n\t  },\n\t  get: function () {\n\t    return priv(this, 'max')\n\t  },\n\t  enumerable: true\n\t})\n\n\t\tObject.defineProperty(LRUCache.prototype, 'allowStale', {\n\t  set: function (allowStale) {\n\t    priv(this, 'allowStale', !!allowStale)\n\t  },\n\t  get: function () {\n\t    return priv(this, 'allowStale')\n\t  },\n\t  enumerable: true\n\t})\n\n\t\tObject.defineProperty(LRUCache.prototype, 'maxAge', {\n\t  set: function (mA) {\n\t    if (!mA || !(typeof mA === 'number') || mA < 0) {\n\t      mA = 0\n\t    }\n\t    priv(this, 'maxAge', mA)\n\t    trim(this)\n\t  },\n\t  get: function () {\n\t    return priv(this, 'maxAge')\n\t  },\n\t  enumerable: true\n\t})\n\n\tObject.defineProperty(LRUCache.prototype, 'lengthCalculator', {\n\t  set: function (lC) {\n\t    if (typeof lC !== 'function') {\n\t      lC = naiveLength\n\t    }\n\t    if (lC !== priv(this, 'lengthCalculator')) {\n\t      priv(this, 'lengthCalculator', lC)\n\t      priv(this, 'length', 0)\n\t      priv(this, 'lruList').forEach(function (hit) {\n\t        hit.length = priv(this, 'lengthCalculator').call(this, hit.value, hit.key)\n\t        priv(this, 'length', priv(this, 'length') + hit.length)\n\t      }, this)\n\t    }\n\t    trim(this)\n\t  },\n\t  get: function () { return priv(this, 'lengthCalculator') },\n\t  enumerable: true\n\t})\n\n\t\tObject.defineProperty(LRUCache.prototype, 'length', {\n\t  get: function () { return priv(this, 'length') },\n\t  enumerable: true\n\t})\n\n\t\tObject.defineProperty(LRUCache.prototype, 'itemCount', {\n\t  get: function () { return priv(this, 'lruList').length },\n\t  enumerable: true\n\t})\n\n\t\tLRUCache.prototype.rforEach = function (fn, thisp) {\n\t  thisp = thisp || this\n\t  for (var walker = priv(this, 'lruList').tail; walker !== null;) {\n\t    var prev = walker.prev\n\t    forEachStep(this, fn, walker, thisp)\n\t    walker = prev\n\t  }\n\t}\n\n\t\tfunction forEachStep (self, fn, node, thisp) {\n\t  var hit = node.value\n\t  if (isStale(self, hit)) {\n\t    del(self, node)\n\t    if (!priv(self, 'allowStale')) {\n\t      hit = undefined\n\t    }\n\t  }\n\t  if (hit) {\n\t    fn.call(thisp, hit.value, hit.key, self)\n\t  }\n\t}\n\n\t\tLRUCache.prototype.forEach = function (fn, thisp) {\n\t  thisp = thisp || this\n\t  for (var walker = priv(this, 'lruList').head; walker !== null;) {\n\t    var next = walker.next\n\t    forEachStep(this, fn, walker, thisp)\n\t    walker = next\n\t  }\n\t}\n\n\t\tLRUCache.prototype.keys = function () {\n\t  return priv(this, 'lruList').toArray().map(function (k) {\n\t    return k.key\n\t  }, this)\n\t}\n\n\t\tLRUCache.prototype.values = function () {\n\t  return priv(this, 'lruList').toArray().map(function (k) {\n\t    return k.value\n\t  }, this)\n\t}\n\n\t\tLRUCache.prototype.reset = function () {\n\t  if (priv(this, 'dispose') &&\n\t      priv(this, 'lruList') &&\n\t      priv(this, 'lruList').length) {\n\t    priv(this, 'lruList').forEach(function (hit) {\n\t      priv(this, 'dispose').call(this, hit.key, hit.value)\n\t    }, this)\n\t  }\n\n\t\t  priv(this, 'cache', new Map()) \n\t  priv(this, 'lruList', new Yallist()) \n\t  priv(this, 'length', 0) \n\t}\n\n\t\tLRUCache.prototype.dump = function () {\n\t  return priv(this, 'lruList').map(function (hit) {\n\t    if (!isStale(this, hit)) {\n\t      return {\n\t        k: hit.key,\n\t        v: hit.value,\n\t        e: hit.now + (hit.maxAge || 0)\n\t      }\n\t    }\n\t  }, this).toArray().filter(function (h) {\n\t    return h\n\t  })\n\t}\n\n\t\tLRUCache.prototype.dumpLru = function () {\n\t  return priv(this, 'lruList')\n\t}\n\n\t\tLRUCache.prototype.inspect = function (n, opts) {\n\t  var str = 'LRUCache {'\n\t  var extras = false\n\n\t\t  var as = priv(this, 'allowStale')\n\t  if (as) {\n\t    str += '\\n  allowStale: true'\n\t    extras = true\n\t  }\n\n\t\t  var max = priv(this, 'max')\n\t  if (max && max !== Infinity) {\n\t    if (extras) {\n\t      str += ','\n\t    }\n\t    str += '\\n  max: ' + util.inspect(max, opts)\n\t    extras = true\n\t  }\n\n\t\t  var maxAge = priv(this, 'maxAge')\n\t  if (maxAge) {\n\t    if (extras) {\n\t      str += ','\n\t    }\n\t    str += '\\n  maxAge: ' + util.inspect(maxAge, opts)\n\t    extras = true\n\t  }\n\n\t\t  var lc = priv(this, 'lengthCalculator')\n\t  if (lc && lc !== naiveLength) {\n\t    if (extras) {\n\t      str += ','\n\t    }\n\t    str += '\\n  length: ' + util.inspect(priv(this, 'length'), opts)\n\t    extras = true\n\t  }\n\n\t\t  var didFirst = false\n\t  priv(this, 'lruList').forEach(function (item) {\n\t    if (didFirst) {\n\t      str += ',\\n  '\n\t    } else {\n\t      if (extras) {\n\t        str += ',\\n'\n\t      }\n\t      didFirst = true\n\t      str += '\\n  '\n\t    }\n\t    var key = util.inspect(item.key).split('\\n').join('\\n  ')\n\t    var val = { value: item.value }\n\t    if (item.maxAge !== maxAge) {\n\t      val.maxAge = item.maxAge\n\t    }\n\t    if (lc !== naiveLength) {\n\t      val.length = item.length\n\t    }\n\t    if (isStale(this, item)) {\n\t      val.stale = true\n\t    }\n\n\t\t    val = util.inspect(val, opts).split('\\n').join('\\n  ')\n\t    str += key + ' => ' + val\n\t  })\n\n\t\t  if (didFirst || extras) {\n\t    str += '\\n'\n\t  }\n\t  str += '}'\n\n\t\t  return str\n\t}\n\n\t\tLRUCache.prototype.set = function (key, value, maxAge) {\n\t  maxAge = maxAge || priv(this, 'maxAge')\n\n\t\t  var now = maxAge ? Date.now() : 0\n\t  var len = priv(this, 'lengthCalculator').call(this, value, key)\n\n\t\t  if (priv(this, 'cache').has(key)) {\n\t    if (len > priv(this, 'max')) {\n\t      del(this, priv(this, 'cache').get(key))\n\t      return false\n\t    }\n\n\t\t    var node = priv(this, 'cache').get(key)\n\t    var item = node.value\n\n\t    if (priv(this, 'dispose')) {\n\t      priv(this, 'dispose').call(this, key, item.value)\n\t    }\n\n\t\t    item.now = now\n\t    item.maxAge = maxAge\n\t    item.value = value\n\t    priv(this, 'length', priv(this, 'length') + (len - item.length))\n\t    item.length = len\n\t    this.get(key)\n\t    trim(this)\n\t    return true\n\t  }\n\n\t\t  var hit = new Entry(key, value, len, now, maxAge)\n\n\t  if (hit.length > priv(this, 'max')) {\n\t    if (priv(this, 'dispose')) {\n\t      priv(this, 'dispose').call(this, key, value)\n\t    }\n\t    return false\n\t  }\n\n\t\t  priv(this, 'length', priv(this, 'length') + hit.length)\n\t  priv(this, 'lruList').unshift(hit)\n\t  priv(this, 'cache').set(key, priv(this, 'lruList').head)\n\t  trim(this)\n\t  return true\n\t}\n\n\t\tLRUCache.prototype.has = function (key) {\n\t  if (!priv(this, 'cache').has(key)) return false\n\t  var hit = priv(this, 'cache').get(key).value\n\t  if (isStale(this, hit)) {\n\t    return false\n\t  }\n\t  return true\n\t}\n\n\t\tLRUCache.prototype.get = function (key) {\n\t  return get(this, key, true)\n\t}\n\n\t\tLRUCache.prototype.peek = function (key) {\n\t  return get(this, key, false)\n\t}\n\n\t\tLRUCache.prototype.pop = function () {\n\t  var node = priv(this, 'lruList').tail\n\t  if (!node) return null\n\t  del(this, node)\n\t  return node.value\n\t}\n\n\t\tLRUCache.prototype.del = function (key) {\n\t  del(this, priv(this, 'cache').get(key))\n\t}\n\n\t\tLRUCache.prototype.load = function (arr) {\n\t  this.reset()\n\n\t\t  var now = Date.now()\n\t  for (var l = arr.length - 1; l >= 0; l--) {\n\t    var hit = arr[l]\n\t    var expiresAt = hit.e || 0\n\t    if (expiresAt === 0) {\n\t      this.set(hit.k, hit.v)\n\t    } else {\n\t      var maxAge = expiresAt - now\n\t      if (maxAge > 0) {\n\t        this.set(hit.k, hit.v, maxAge)\n\t      }\n\t    }\n\t  }\n\t}\n\n\t\tLRUCache.prototype.prune = function () {\n\t  var self = this\n\t  priv(this, 'cache').forEach(function (value, key) {\n\t    get(self, key, false)\n\t  })\n\t}\n\n\t\tfunction get (self, key, doUse) {\n\t  var node = priv(self, 'cache').get(key)\n\t  if (node) {\n\t    var hit = node.value\n\t    if (isStale(self, hit)) {\n\t      del(self, node)\n\t      if (!priv(self, 'allowStale')) hit = undefined\n\t    } else {\n\t      if (doUse) {\n\t        priv(self, 'lruList').unshiftNode(node)\n\t      }\n\t    }\n\t    if (hit) hit = hit.value\n\t  }\n\t  return hit\n\t}\n\n\t\tfunction isStale (self, hit) {\n\t  if (!hit || (!hit.maxAge && !priv(self, 'maxAge'))) {\n\t    return false\n\t  }\n\t  var stale = false\n\t  var diff = Date.now() - hit.now\n\t  if (hit.maxAge) {\n\t    stale = diff > hit.maxAge\n\t  } else {\n\t    stale = priv(self, 'maxAge') && (diff > priv(self, 'maxAge'))\n\t  }\n\t  return stale\n\t}\n\n\t\tfunction trim (self) {\n\t  if (priv(self, 'length') > priv(self, 'max')) {\n\t    for (var walker = priv(self, 'lruList').tail;\n\t         priv(self, 'length') > priv(self, 'max') && walker !== null;) {\n\t      var prev = walker.prev\n\t      del(self, walker)\n\t      walker = prev\n\t    }\n\t  }\n\t}\n\n\t\tfunction del (self, node) {\n\t  if (node) {\n\t    var hit = node.value\n\t    if (priv(self, 'dispose')) {\n\t      priv(self, 'dispose').call(this, hit.key, hit.value)\n\t    }\n\t    priv(self, 'length', priv(self, 'length') - hit.length)\n\t    priv(self, 'cache').delete(hit.key)\n\t    priv(self, 'lruList').removeNode(node)\n\t  }\n\t}\n\n\tfunction Entry (key, value, length, now, maxAge) {\n\t  this.key = key\n\t  this.value = value\n\t  this.length = length\n\t  this.now = now\n\t  this.maxAge = maxAge || 0\n\t}\n\n\n },\n function(module, exports, __webpack_require__) {\n\n(function(process) {if (process.env.npm_package_name === 'pseudomap' &&\n\t    process.env.npm_lifecycle_script === 'test')\n\t  process.env.TEST_PSEUDOMAP = 'true'\n\n\t\tif (typeof Map === 'function' && !process.env.TEST_PSEUDOMAP) {\n\t  module.exports = Map\n\t} else {\n\t  module.exports = __webpack_require__(46)\n\t}\n\n}.call(exports, __webpack_require__(45)))\n\n },\n function(module, exports) {\n\n\n\t\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\n\t\tfunction cleanUpNextTick() {\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\n\t\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\n\t\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\n\t\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; \n\tprocess.versions = {};\n\n\t\tfunction noop() {}\n\n\t\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\n\t\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\n\t\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n },\n function(module, exports) {\n\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty\n\n\t\tmodule.exports = PseudoMap\n\n\t\tfunction PseudoMap (set) {\n\t  if (!(this instanceof PseudoMap)) \n\t    throw new TypeError(\"Constructor PseudoMap requires 'new'\")\n\n\t\t  this.clear()\n\n\t\t  if (set) {\n\t    if ((set instanceof PseudoMap) ||\n\t        (typeof Map === 'function' && set instanceof Map))\n\t      set.forEach(function (value, key) {\n\t        this.set(key, value)\n\t      }, this)\n\t    else if (Array.isArray(set))\n\t      set.forEach(function (kv) {\n\t        this.set(kv[0], kv[1])\n\t      }, this)\n\t    else\n\t      throw new TypeError('invalid argument')\n\t  }\n\t}\n\n\t\tPseudoMap.prototype.forEach = function (fn, thisp) {\n\t  thisp = thisp || this\n\t  Object.keys(this._data).forEach(function (k) {\n\t    if (k !== 'size')\n\t      fn.call(thisp, this._data[k].value, this._data[k].key)\n\t  }, this)\n\t}\n\n\t\tPseudoMap.prototype.has = function (k) {\n\t  return !!find(this._data, k)\n\t}\n\n\t\tPseudoMap.prototype.get = function (k) {\n\t  var res = find(this._data, k)\n\t  return res && res.value\n\t}\n\n\t\tPseudoMap.prototype.set = function (k, v) {\n\t  set(this._data, k, v)\n\t}\n\n\t\tPseudoMap.prototype.delete = function (k) {\n\t  var res = find(this._data, k)\n\t  if (res) {\n\t    delete this._data[res._index]\n\t    this._data.size--\n\t  }\n\t}\n\n\t\tPseudoMap.prototype.clear = function () {\n\t  var data = Object.create(null)\n\t  data.size = 0\n\n\t\t  Object.defineProperty(this, '_data', {\n\t    value: data,\n\t    enumerable: false,\n\t    configurable: true,\n\t    writable: false\n\t  })\n\t}\n\n\t\tObject.defineProperty(PseudoMap.prototype, 'size', {\n\t  get: function () {\n\t    return this._data.size\n\t  },\n\t  set: function (n) {},\n\t  enumerable: true,\n\t  configurable: true\n\t})\n\n\t\tPseudoMap.prototype.values =\n\tPseudoMap.prototype.keys =\n\tPseudoMap.prototype.entries = function () {\n\t  throw new Error('iterators are not implemented in this version')\n\t}\n\n\tfunction same (a, b) {\n\t  return a === b || a !== a && b !== b\n\t}\n\n\t\tfunction Entry (k, v, i) {\n\t  this.key = k\n\t  this.value = v\n\t  this._index = i\n\t}\n\n\t\tfunction find (data, k) {\n\t  for (var i = 0, s = '_' + k, key = s;\n\t       hasOwnProperty.call(data, key);\n\t       key = s + i++) {\n\t    if (same(data[key].key, k))\n\t      return data[key]\n\t  }\n\t}\n\n\t\tfunction set (data, k, v) {\n\t  for (var i = 0, s = '_' + k, key = s;\n\t       hasOwnProperty.call(data, key);\n\t       key = s + i++) {\n\t    if (same(data[key].key, k)) {\n\t      data[key].value = v\n\t      return\n\t    }\n\t  }\n\t  data.size++\n\t  data[key] = new Entry(k, v, key)\n\t}\n\n\n },\n function(module, exports, __webpack_require__) {\n\n(function(global, process) {\n\n\t\tvar formatRegExp = /%[sdj%]/g;\n\texports.format = function(f) {\n\t  if (!isString(f)) {\n\t    var objects = [];\n\t    for (var i = 0; i < arguments.length; i++) {\n\t      objects.push(inspect(arguments[i]));\n\t    }\n\t    return objects.join(' ');\n\t  }\n\n\t\t  var i = 1;\n\t  var args = arguments;\n\t  var len = args.length;\n\t  var str = String(f).replace(formatRegExp, function(x) {\n\t    if (x === '%%') return '%';\n\t    if (i >= len) return x;\n\t    switch (x) {\n\t      case '%s': return String(args[i++]);\n\t      case '%d': return Number(args[i++]);\n\t      case '%j':\n\t        try {\n\t          return JSON.stringify(args[i++]);\n\t        } catch (_) {\n\t          return '[Circular]';\n\t        }\n\t      default:\n\t        return x;\n\t    }\n\t  });\n\t  for (var x = args[i]; i < len; x = args[++i]) {\n\t    if (isNull(x) || !isObject(x)) {\n\t      str += ' ' + x;\n\t    } else {\n\t      str += ' ' + inspect(x);\n\t    }\n\t  }\n\t  return str;\n\t};\n\n\n\texports.deprecate = function(fn, msg) {\n\t  if (isUndefined(global.process)) {\n\t    return function() {\n\t      return exports.deprecate(fn, msg).apply(this, arguments);\n\t    };\n\t  }\n\n\t\t  if (process.noDeprecation === true) {\n\t    return fn;\n\t  }\n\n\t\t  var warned = false;\n\t  function deprecated() {\n\t    if (!warned) {\n\t      if (process.throwDeprecation) {\n\t        throw new Error(msg);\n\t      } else if (process.traceDeprecation) {\n\t        console.trace(msg);\n\t      } else {\n\t        console.error(msg);\n\t      }\n\t      warned = true;\n\t    }\n\t    return fn.apply(this, arguments);\n\t  }\n\n\t\t  return deprecated;\n\t};\n\n\n\t\t\tvar debugs = {};\n\tvar debugEnviron;\n\texports.debuglog = function(set) {\n\t  if (isUndefined(debugEnviron))\n\t    debugEnviron = process.env.NODE_DEBUG || '';\n\t  set = set.toUpperCase();\n\t  if (!debugs[set]) {\n\t    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n\t      var pid = process.pid;\n\t      debugs[set] = function() {\n\t        var msg = exports.format.apply(exports, arguments);\n\t        console.error('%s %d: %s', set, pid, msg);\n\t      };\n\t    } else {\n\t      debugs[set] = function() {};\n\t    }\n\t  }\n\t  return debugs[set];\n\t};\n\n\n\tfunction inspect(obj, opts) {\n\t  var ctx = {\n\t    seen: [],\n\t    stylize: stylizeNoColor\n\t  };\n\t  if (arguments.length >= 3) ctx.depth = arguments[2];\n\t  if (arguments.length >= 4) ctx.colors = arguments[3];\n\t  if (isBoolean(opts)) {\n\t    ctx.showHidden = opts;\n\t  } else if (opts) {\n\t    exports._extend(ctx, opts);\n\t  }\n\t  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n\t  if (isUndefined(ctx.depth)) ctx.depth = 2;\n\t  if (isUndefined(ctx.colors)) ctx.colors = false;\n\t  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n\t  if (ctx.colors) ctx.stylize = stylizeWithColor;\n\t  return formatValue(ctx, obj, ctx.depth);\n\t}\n\texports.inspect = inspect;\n\n\n\tinspect.colors = {\n\t  'bold' : [1, 22],\n\t  'italic' : [3, 23],\n\t  'underline' : [4, 24],\n\t  'inverse' : [7, 27],\n\t  'white' : [37, 39],\n\t  'grey' : [90, 39],\n\t  'black' : [30, 39],\n\t  'blue' : [34, 39],\n\t  'cyan' : [36, 39],\n\t  'green' : [32, 39],\n\t  'magenta' : [35, 39],\n\t  'red' : [31, 39],\n\t  'yellow' : [33, 39]\n\t};\n\n\tinspect.styles = {\n\t  'special': 'cyan',\n\t  'number': 'yellow',\n\t  'boolean': 'yellow',\n\t  'undefined': 'grey',\n\t  'null': 'bold',\n\t  'string': 'green',\n\t  'date': 'magenta',\n\t  'regexp': 'red'\n\t};\n\n\n\t\t\tfunction stylizeWithColor(str, styleType) {\n\t  var style = inspect.styles[styleType];\n\n\t\t  if (style) {\n\t    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n\t           '\\u001b[' + inspect.colors[style][1] + 'm';\n\t  } else {\n\t    return str;\n\t  }\n\t}\n\n\n\t\t\tfunction stylizeNoColor(str, styleType) {\n\t  return str;\n\t}\n\n\n\t\t\tfunction arrayToHash(array) {\n\t  var hash = {};\n\n\t\t  array.forEach(function(val, idx) {\n\t    hash[val] = true;\n\t  });\n\n\t\t  return hash;\n\t}\n\n\n\t\t\tfunction formatValue(ctx, value, recurseTimes) {\n\t  if (ctx.customInspect &&\n\t      value &&\n\t      isFunction(value.inspect) &&\n\t      value.inspect !== exports.inspect &&\n\t      !(value.constructor && value.constructor.prototype === value)) {\n\t    var ret = value.inspect(recurseTimes, ctx);\n\t    if (!isString(ret)) {\n\t      ret = formatValue(ctx, ret, recurseTimes);\n\t    }\n\t    return ret;\n\t  }\n\n\t  var primitive = formatPrimitive(ctx, value);\n\t  if (primitive) {\n\t    return primitive;\n\t  }\n\n\t  var keys = Object.keys(value);\n\t  var visibleKeys = arrayToHash(keys);\n\n\t\t  if (ctx.showHidden) {\n\t    keys = Object.getOwnPropertyNames(value);\n\t  }\n\n\t  if (isError(value)\n\t      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n\t    return formatError(value);\n\t  }\n\n\t  if (keys.length === 0) {\n\t    if (isFunction(value)) {\n\t      var name = value.name ? ': ' + value.name : '';\n\t      return ctx.stylize('[Function' + name + ']', 'special');\n\t    }\n\t    if (isRegExp(value)) {\n\t      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n\t    }\n\t    if (isDate(value)) {\n\t      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n\t    }\n\t    if (isError(value)) {\n\t      return formatError(value);\n\t    }\n\t  }\n\n\t\t  var base = '', array = false, braces = ['{', '}'];\n\n\t  if (isArray(value)) {\n\t    array = true;\n\t    braces = ['[', ']'];\n\t  }\n\n\t  if (isFunction(value)) {\n\t    var n = value.name ? ': ' + value.name : '';\n\t    base = ' [Function' + n + ']';\n\t  }\n\n\t  if (isRegExp(value)) {\n\t    base = ' ' + RegExp.prototype.toString.call(value);\n\t  }\n\n\t  if (isDate(value)) {\n\t    base = ' ' + Date.prototype.toUTCString.call(value);\n\t  }\n\n\t  if (isError(value)) {\n\t    base = ' ' + formatError(value);\n\t  }\n\n\t\t  if (keys.length === 0 && (!array || value.length == 0)) {\n\t    return braces[0] + base + braces[1];\n\t  }\n\n\t\t  if (recurseTimes < 0) {\n\t    if (isRegExp(value)) {\n\t      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n\t    } else {\n\t      return ctx.stylize('[Object]', 'special');\n\t    }\n\t  }\n\n\t\t  ctx.seen.push(value);\n\n\t\t  var output;\n\t  if (array) {\n\t    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n\t  } else {\n\t    output = keys.map(function(key) {\n\t      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n\t    });\n\t  }\n\n\t\t  ctx.seen.pop();\n\n\t\t  return reduceToSingleString(output, base, braces);\n\t}\n\n\n\t\t\tfunction formatPrimitive(ctx, value) {\n\t  if (isUndefined(value))\n\t    return ctx.stylize('undefined', 'undefined');\n\t  if (isString(value)) {\n\t    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n\t                                             .replace(/'/g, \"\\\\'\")\n\t                                             .replace(/\\\\\"/g, '\"') + '\\'';\n\t    return ctx.stylize(simple, 'string');\n\t  }\n\t  if (isNumber(value))\n\t    return ctx.stylize('' + value, 'number');\n\t  if (isBoolean(value))\n\t    return ctx.stylize('' + value, 'boolean');\n\t  if (isNull(value))\n\t    return ctx.stylize('null', 'null');\n\t}\n\n\n\t\t\tfunction formatError(value) {\n\t  return '[' + Error.prototype.toString.call(value) + ']';\n\t}\n\n\n\t\t\tfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n\t  var output = [];\n\t  for (var i = 0, l = value.length; i < l; ++i) {\n\t    if (hasOwnProperty(value, String(i))) {\n\t      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n\t          String(i), true));\n\t    } else {\n\t      output.push('');\n\t    }\n\t  }\n\t  keys.forEach(function(key) {\n\t    if (!key.match(/^\\d+$/)) {\n\t      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n\t          key, true));\n\t    }\n\t  });\n\t  return output;\n\t}\n\n\n\t\t\tfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n\t  var name, str, desc;\n\t  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n\t  if (desc.get) {\n\t    if (desc.set) {\n\t      str = ctx.stylize('[Getter/Setter]', 'special');\n\t    } else {\n\t      str = ctx.stylize('[Getter]', 'special');\n\t    }\n\t  } else {\n\t    if (desc.set) {\n\t      str = ctx.stylize('[Setter]', 'special');\n\t    }\n\t  }\n\t  if (!hasOwnProperty(visibleKeys, key)) {\n\t    name = '[' + key + ']';\n\t  }\n\t  if (!str) {\n\t    if (ctx.seen.indexOf(desc.value) < 0) {\n\t      if (isNull(recurseTimes)) {\n\t        str = formatValue(ctx, desc.value, null);\n\t      } else {\n\t        str = formatValue(ctx, desc.value, recurseTimes - 1);\n\t      }\n\t      if (str.indexOf('\\n') > -1) {\n\t        if (array) {\n\t          str = str.split('\\n').map(function(line) {\n\t            return '  ' + line;\n\t          }).join('\\n').substr(2);\n\t        } else {\n\t          str = '\\n' + str.split('\\n').map(function(line) {\n\t            return '   ' + line;\n\t          }).join('\\n');\n\t        }\n\t      }\n\t    } else {\n\t      str = ctx.stylize('[Circular]', 'special');\n\t    }\n\t  }\n\t  if (isUndefined(name)) {\n\t    if (array && key.match(/^\\d+$/)) {\n\t      return str;\n\t    }\n\t    name = JSON.stringify('' + key);\n\t    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n\t      name = name.substr(1, name.length - 2);\n\t      name = ctx.stylize(name, 'name');\n\t    } else {\n\t      name = name.replace(/'/g, \"\\\\'\")\n\t                 .replace(/\\\\\"/g, '\"')\n\t                 .replace(/(^\"|\"$)/g, \"'\");\n\t      name = ctx.stylize(name, 'string');\n\t    }\n\t  }\n\n\t\t  return name + ': ' + str;\n\t}\n\n\n\t\t\tfunction reduceToSingleString(output, base, braces) {\n\t  var numLinesEst = 0;\n\t  var length = output.reduce(function(prev, cur) {\n\t    numLinesEst++;\n\t    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n\t    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n\t  }, 0);\n\n\t\t  if (length > 60) {\n\t    return braces[0] +\n\t           (base === '' ? '' : base + '\\n ') +\n\t           ' ' +\n\t           output.join(',\\n  ') +\n\t           ' ' +\n\t           braces[1];\n\t  }\n\n\t\t  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n\t}\n\n\n\tfunction isArray(ar) {\n\t  return Array.isArray(ar);\n\t}\n\texports.isArray = isArray;\n\n\t\tfunction isBoolean(arg) {\n\t  return typeof arg === 'boolean';\n\t}\n\texports.isBoolean = isBoolean;\n\n\t\tfunction isNull(arg) {\n\t  return arg === null;\n\t}\n\texports.isNull = isNull;\n\n\t\tfunction isNullOrUndefined(arg) {\n\t  return arg == null;\n\t}\n\texports.isNullOrUndefined = isNullOrUndefined;\n\n\t\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\texports.isNumber = isNumber;\n\n\t\tfunction isString(arg) {\n\t  return typeof arg === 'string';\n\t}\n\texports.isString = isString;\n\n\t\tfunction isSymbol(arg) {\n\t  return typeof arg === 'symbol';\n\t}\n\texports.isSymbol = isSymbol;\n\n\t\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\texports.isUndefined = isUndefined;\n\n\t\tfunction isRegExp(re) {\n\t  return isObject(re) && objectToString(re) === '[object RegExp]';\n\t}\n\texports.isRegExp = isRegExp;\n\n\t\tfunction isObject(arg) {\n\t  return typeof arg === 'object' && arg !== null;\n\t}\n\texports.isObject = isObject;\n\n\t\tfunction isDate(d) {\n\t  return isObject(d) && objectToString(d) === '[object Date]';\n\t}\n\texports.isDate = isDate;\n\n\t\tfunction isError(e) {\n\t  return isObject(e) &&\n\t      (objectToString(e) === '[object Error]' || e instanceof Error);\n\t}\n\texports.isError = isError;\n\n\t\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\texports.isFunction = isFunction;\n\n\t\tfunction isPrimitive(arg) {\n\t  return arg === null ||\n\t         typeof arg === 'boolean' ||\n\t         typeof arg === 'number' ||\n\t         typeof arg === 'string' ||\n\t         typeof arg === 'symbol' ||  \n\t         typeof arg === 'undefined';\n\t}\n\texports.isPrimitive = isPrimitive;\n\n\t\texports.isBuffer = __webpack_require__(48);\n\n\t\tfunction objectToString(o) {\n\t  return Object.prototype.toString.call(o);\n\t}\n\n\n\t\t\tfunction pad(n) {\n\t  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n\t}\n\n\n\t\t\tvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n\t              'Oct', 'Nov', 'Dec'];\n\n\tfunction timestamp() {\n\t  var d = new Date();\n\t  var time = [pad(d.getHours()),\n\t              pad(d.getMinutes()),\n\t              pad(d.getSeconds())].join(':');\n\t  return [d.getDate(), months[d.getMonth()], time].join(' ');\n\t}\n\n\n\texports.log = function() {\n\t  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n\t};\n\n\n\texports.inherits = __webpack_require__(49);\n\n\t\texports._extend = function(origin, add) {\n\t  if (!add || !isObject(add)) return origin;\n\n\t\t  var keys = Object.keys(add);\n\t  var i = keys.length;\n\t  while (i--) {\n\t    origin[keys[i]] = add[keys[i]];\n\t  }\n\t  return origin;\n\t};\n\n\t\tfunction hasOwnProperty(obj, prop) {\n\t  return Object.prototype.hasOwnProperty.call(obj, prop);\n\t}\n\n}.call(exports, (function() { return this; }()), __webpack_require__(45)))\n\n },\n function(module, exports) {\n\n\tmodule.exports = function isBuffer(arg) {\n\t  return arg && typeof arg === 'object'\n\t    && typeof arg.copy === 'function'\n\t    && typeof arg.fill === 'function'\n\t    && typeof arg.readUInt8 === 'function';\n\t}\n\n },\n function(module, exports) {\n\n\tif (typeof Object.create === 'function') {\n\t  module.exports = function inherits(ctor, superCtor) {\n\t    ctor.super_ = superCtor\n\t    ctor.prototype = Object.create(superCtor.prototype, {\n\t      constructor: {\n\t        value: ctor,\n\t        enumerable: false,\n\t        writable: true,\n\t        configurable: true\n\t      }\n\t    });\n\t  };\n\t} else {\n\t  module.exports = function inherits(ctor, superCtor) {\n\t    ctor.super_ = superCtor\n\t    var TempCtor = function () {}\n\t    TempCtor.prototype = superCtor.prototype\n\t    ctor.prototype = new TempCtor()\n\t    ctor.prototype.constructor = ctor\n\t  }\n\t}\n\n\n },\n function(module, exports) {\n\n\tmodule.exports = Yallist\n\n\t\tYallist.Node = Node\n\tYallist.create = Yallist\n\n\t\tfunction Yallist (list) {\n\t  var self = this\n\t  if (!(self instanceof Yallist)) {\n\t    self = new Yallist()\n\t  }\n\n\t\t  self.tail = null\n\t  self.head = null\n\t  self.length = 0\n\n\t\t  if (list && typeof list.forEach === 'function') {\n\t    list.forEach(function (item) {\n\t      self.push(item)\n\t    })\n\t  } else if (arguments.length > 0) {\n\t    for (var i = 0, l = arguments.length; i < l; i++) {\n\t      self.push(arguments[i])\n\t    }\n\t  }\n\n\t\t  return self\n\t}\n\n\t\tYallist.prototype.removeNode = function (node) {\n\t  if (node.list !== this) {\n\t    throw new Error('removing node which does not belong to this list')\n\t  }\n\n\t\t  var next = node.next\n\t  var prev = node.prev\n\n\t\t  if (next) {\n\t    next.prev = prev\n\t  }\n\n\t\t  if (prev) {\n\t    prev.next = next\n\t  }\n\n\t\t  if (node === this.head) {\n\t    this.head = next\n\t  }\n\t  if (node === this.tail) {\n\t    this.tail = prev\n\t  }\n\n\t\t  node.list.length --\n\t  node.next = null\n\t  node.prev = null\n\t  node.list = null\n\t}\n\n\t\tYallist.prototype.unshiftNode = function (node) {\n\t  if (node === this.head) {\n\t    return\n\t  }\n\n\t\t  if (node.list) {\n\t    node.list.removeNode(node)\n\t  }\n\n\t\t  var head = this.head\n\t  node.list = this\n\t  node.next = head\n\t  if (head) {\n\t    head.prev = node\n\t  }\n\n\t\t  this.head = node\n\t  if (!this.tail) {\n\t    this.tail = node\n\t  }\n\t  this.length ++\n\t}\n\n\t\tYallist.prototype.pushNode = function (node) {\n\t  if (node === this.tail) {\n\t    return\n\t  }\n\n\t\t  if (node.list) {\n\t    node.list.removeNode(node)\n\t  }\n\n\t\t  var tail = this.tail\n\t  node.list = this\n\t  node.prev = tail\n\t  if (tail) {\n\t    tail.next = node\n\t  }\n\n\t\t  this.tail = node\n\t  if (!this.head) {\n\t    this.head = node\n\t  }\n\t  this.length ++\n\t}\n\n\t\tYallist.prototype.push = function () {\n\t  for (var i = 0, l = arguments.length; i < l; i++) {\n\t    push(this, arguments[i])\n\t  }\n\t  return this.length\n\t}\n\n\t\tYallist.prototype.unshift = function () {\n\t  for (var i = 0, l = arguments.length; i < l; i++) {\n\t    unshift(this, arguments[i])\n\t  }\n\t  return this.length\n\t}\n\n\t\tYallist.prototype.pop = function () {\n\t  if (!this.tail)\n\t    return undefined\n\n\t\t  var res = this.tail.value\n\t  this.tail = this.tail.prev\n\t  this.tail.next = null\n\t  this.length --\n\t  return res\n\t}\n\n\t\tYallist.prototype.shift = function () {\n\t  if (!this.head)\n\t    return undefined\n\n\t\t  var res = this.head.value\n\t  this.head = this.head.next\n\t  this.head.prev = null\n\t  this.length --\n\t  return res\n\t}\n\n\t\tYallist.prototype.forEach = function (fn, thisp) {\n\t  thisp = thisp || this\n\t  for (var walker = this.head, i = 0; walker !== null; i++) {\n\t    fn.call(thisp, walker.value, i, this)\n\t    walker = walker.next\n\t  }\n\t}\n\n\t\tYallist.prototype.forEachReverse = function (fn, thisp) {\n\t  thisp = thisp || this\n\t  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n\t    fn.call(thisp, walker.value, i, this)\n\t    walker = walker.prev\n\t  }\n\t}\n\n\t\tYallist.prototype.get = function (n) {\n\t  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n\t    walker = walker.next\n\t  }\n\t  if (i === n && walker !== null) {\n\t    return walker.value\n\t  }\n\t}\n\n\t\tYallist.prototype.getReverse = function (n) {\n\t  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n\t    walker = walker.prev\n\t  }\n\t  if (i === n && walker !== null) {\n\t    return walker.value\n\t  }\n\t}\n\n\t\tYallist.prototype.map = function (fn, thisp) {\n\t  thisp = thisp || this\n\t  var res = new Yallist()\n\t  for (var walker = this.head; walker !== null; ) {\n\t    res.push(fn.call(thisp, walker.value, this))\n\t    walker = walker.next\n\t  }\n\t  return res\n\t}\n\n\t\tYallist.prototype.mapReverse = function (fn, thisp) {\n\t  thisp = thisp || this\n\t  var res = new Yallist()\n\t  for (var walker = this.tail; walker !== null;) {\n\t    res.push(fn.call(thisp, walker.value, this))\n\t    walker = walker.prev\n\t  }\n\t  return res\n\t}\n\n\t\tYallist.prototype.reduce = function (fn, initial) {\n\t  var acc\n\t  var walker = this.head\n\t  if (arguments.length > 1) {\n\t    acc = initial\n\t  } else if (this.head) {\n\t    walker = this.head.next\n\t    acc = this.head.value\n\t  } else {\n\t    throw new TypeError('Reduce of empty list with no initial value')\n\t  }\n\n\t\t  for (var i = 0; walker !== null; i++) {\n\t    acc = fn(acc, walker.value, i)\n\t    walker = walker.next\n\t  }\n\n\t\t  return acc\n\t}\n\n\t\tYallist.prototype.reduceReverse = function (fn, initial) {\n\t  var acc\n\t  var walker = this.tail\n\t  if (arguments.length > 1) {\n\t    acc = initial\n\t  } else if (this.tail) {\n\t    walker = this.tail.prev\n\t    acc = this.tail.value\n\t  } else {\n\t    throw new TypeError('Reduce of empty list with no initial value')\n\t  }\n\n\t\t  for (var i = this.length - 1; walker !== null; i--) {\n\t    acc = fn(acc, walker.value, i)\n\t    walker = walker.prev\n\t  }\n\n\t\t  return acc\n\t}\n\n\t\tYallist.prototype.toArray = function () {\n\t  var arr = new Array(this.length)\n\t  for (var i = 0, walker = this.head; walker !== null; i++) {\n\t    arr[i] = walker.value\n\t    walker = walker.next\n\t  }\n\t  return arr\n\t}\n\n\t\tYallist.prototype.toArrayReverse = function () {\n\t  var arr = new Array(this.length)\n\t  for (var i = 0, walker = this.tail; walker !== null; i++) {\n\t    arr[i] = walker.value\n\t    walker = walker.prev\n\t  }\n\t  return arr\n\t}\n\n\t\tYallist.prototype.slice = function (from, to) {\n\t  to = to || this.length\n\t  if (to < 0) {\n\t    to += this.length\n\t  }\n\t  from = from || 0\n\t  if (from < 0) {\n\t    from += this.length\n\t  }\n\t  var ret = new Yallist()\n\t  if (to < from || to < 0) {\n\t    return ret\n\t  }\n\t  if (from < 0) {\n\t    from = 0\n\t  }\n\t  if (to > this.length) {\n\t    to = this.length\n\t  }\n\t  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n\t    walker = walker.next\n\t  }\n\t  for (; walker !== null && i < to; i++, walker = walker.next) {\n\t    ret.push(walker.value)\n\t  }\n\t  return ret\n\t}\n\n\t\tYallist.prototype.sliceReverse = function (from, to) {\n\t  to = to || this.length\n\t  if (to < 0) {\n\t    to += this.length\n\t  }\n\t  from = from || 0\n\t  if (from < 0) {\n\t    from += this.length\n\t  }\n\t  var ret = new Yallist()\n\t  if (to < from || to < 0) {\n\t    return ret\n\t  }\n\t  if (from < 0) {\n\t    from = 0\n\t  }\n\t  if (to > this.length) {\n\t    to = this.length\n\t  }\n\t  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n\t    walker = walker.prev\n\t  }\n\t  for (; walker !== null && i > from; i--, walker = walker.prev) {\n\t    ret.push(walker.value)\n\t  }\n\t  return ret\n\t}\n\n\t\tYallist.prototype.reverse = function () {\n\t  var head = this.head\n\t  var tail = this.tail\n\t  for (var walker = head; walker !== null; walker = walker.prev) {\n\t    var p = walker.prev\n\t    walker.prev = walker.next\n\t    walker.next = p\n\t  }\n\t  this.head = tail\n\t  this.tail = head\n\t  return this\n\t}\n\n\t\tfunction push (self, item) {\n\t  self.tail = new Node(item, self.tail, null, self)\n\t  if (!self.head) {\n\t    self.head = self.tail\n\t  }\n\t  self.length ++\n\t}\n\n\t\tfunction unshift (self, item) {\n\t  self.head = new Node(item, null, self.head, self)\n\t  if (!self.tail) {\n\t    self.tail = self.head\n\t  }\n\t  self.length ++\n\t}\n\n\t\tfunction Node (value, prev, next, list) {\n\t  if (!(this instanceof Node)) {\n\t    return new Node(value, prev, next, list)\n\t  }\n\n\t\t  this.list = list\n\t  this.value = value\n\n\t\t  if (prev) {\n\t    prev.next = this\n\t    this.prev = prev\n\t  } else {\n\t    this.prev = null\n\t  }\n\n\t\t  if (next) {\n\t    next.prev = this\n\t    this.next = next\n\t  } else {\n\t    this.next = null\n\t  }\n\t}\n\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _Tile2 = __webpack_require__(52);\n\n\t\tvar _Tile3 = _interopRequireDefault(_Tile2);\n\n\t\tvar _vendorBoxHelper = __webpack_require__(53);\n\n\t\tvar _vendorBoxHelper2 = _interopRequireDefault(_vendorBoxHelper);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\n\t\tvar ImageTile = (function (_Tile) {\n\t  _inherits(ImageTile, _Tile);\n\n\t\t  function ImageTile(quadcode, path, layer) {\n\t    _classCallCheck(this, ImageTile);\n\n\t\t    _get(Object.getPrototypeOf(ImageTile.prototype), 'constructor', this).call(this, quadcode, path, layer);\n\t  }\n\n\n\n\t\t  _createClass(ImageTile, [{\n\t    key: 'requestTileAsync',\n\t    value: function requestTileAsync() {\n\t      var _this = this;\n\n\t      setTimeout(function () {\n\t        if (!_this._mesh) {\n\t          _this._mesh = _this._createMesh();\n\t          _this._requestTile();\n\t        }\n\t      }, 0);\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._abortRequest();\n\n\t      this._image = null;\n\n\t\t      _get(Object.getPrototypeOf(ImageTile.prototype), 'destroy', this).call(this);\n\t    }\n\t  }, {\n\t    key: '_createMesh',\n\t    value: function _createMesh() {\n\t      if (!this._center) {\n\t        return;\n\t      }\n\n\t\t      var mesh = new _three2['default'].Object3D();\n\t      var geom = new _three2['default'].PlaneBufferGeometry(this._side, this._side, 1);\n\n\t\t      var material;\n\t      if (!this._world._environment._skybox) {\n\t        material = new _three2['default'].MeshBasicMaterial({\n\t          depthWrite: false\n\t        });\n\n\t      } else {\n\n\t\t          material = new _three2['default'].MeshStandardMaterial({\n\t            depthWrite: false\n\t          });\n\t          material.roughness = 1;\n\t          material.metalness = 0.1;\n\t          material.envMap = this._world._environment._skybox.getRenderTarget();\n\t        }\n\n\t\t      var localMesh = new _three2['default'].Mesh(geom, material);\n\t      localMesh.rotation.x = -90 * Math.PI / 180;\n\n\t\t      localMesh.receiveShadow = true;\n\n\t\t      mesh.add(localMesh);\n\t      mesh.renderOrder = 0.1;\n\n\t\t      mesh.position.x = this._center[0];\n\t      mesh.position.z = this._center[1];\n\n\n\t\t      return mesh;\n\t    }\n\t  }, {\n\t    key: '_createDebugMesh',\n\t    value: function _createDebugMesh() {\n\t      var canvas = document.createElement('canvas');\n\t      canvas.width = 256;\n\t      canvas.height = 256;\n\n\t\t      var context = canvas.getContext('2d');\n\t      context.font = 'Bold 20px Helvetica Neue, Verdana, Arial';\n\t      context.fillStyle = '#ff0000';\n\t      context.fillText(this._quadcode, 20, canvas.width / 2 - 5);\n\t      context.fillText(this._tile.toString(), 20, canvas.width / 2 + 25);\n\n\t\t      var texture = new _three2['default'].Texture(canvas);\n\n\t      texture.magFilter = _three2['default'].LinearFilter;\n\t      texture.minFilter = _three2['default'].LinearMipMapLinearFilter;\n\n\t      texture.anisotropy = 4;\n\n\t\t      texture.needsUpdate = true;\n\n\t\t      var material = new _three2['default'].MeshBasicMaterial({\n\t        map: texture,\n\t        transparent: true,\n\t        depthWrite: false\n\t      });\n\n\t\t      var geom = new _three2['default'].PlaneBufferGeometry(this._side, this._side, 1);\n\t      var mesh = new _three2['default'].Mesh(geom, material);\n\n\t\t      mesh.rotation.x = -90 * Math.PI / 180;\n\t      mesh.position.y = 0.1;\n\n\t\t      return mesh;\n\t    }\n\t  }, {\n\t    key: '_requestTile',\n\t    value: function _requestTile() {\n\t      var _this2 = this;\n\n\t\t      var urlParams = {\n\t        x: this._tile[0],\n\t        y: this._tile[1],\n\t        z: this._tile[2]\n\t      };\n\n\t\t      var url = this._getTileURL(urlParams);\n\n\t\t      var image = document.createElement('img');\n\n\t\t      image.addEventListener('load', function (event) {\n\t        var texture = new _three2['default'].Texture();\n\n\t\t        texture.image = image;\n\t        texture.needsUpdate = true;\n\n\t        texture.magFilter = _three2['default'].LinearFilter;\n\t        texture.minFilter = _three2['default'].LinearMipMapLinearFilter;\n\n\t        texture.anisotropy = 4;\n\n\t\t        texture.needsUpdate = true;\n\n\t        if (!_this2._mesh || !_this2._mesh.children[0] || !_this2._mesh.children[0].material) {\n\t          return;\n\t        }\n\n\t\t        _this2._mesh.children[0].material.map = texture;\n\t        _this2._mesh.children[0].material.needsUpdate = true;\n\n\t\t        _this2._texture = texture;\n\t        _this2._ready = true;\n\t      }, false);\n\n\n\t\t      image.crossOrigin = '';\n\n\t      image.src = url;\n\n\t\t      this._image = image;\n\t    }\n\t  }, {\n\t    key: '_abortRequest',\n\t    value: function _abortRequest() {\n\t      if (!this._image) {\n\t        return;\n\t      }\n\n\t\t      this._image.src = '';\n\t    }\n\t  }]);\n\n\t\t  return ImageTile;\n\t})(_Tile3['default']);\n\n\t\texports['default'] = function (quadcode, path, layer) {\n\t  return new ImageTile(quadcode, path, layer);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tvar _geoPoint = __webpack_require__(11);\n\n\t\tvar _geoPoint2 = _interopRequireDefault(_geoPoint);\n\n\t\tvar _geoLatLon = __webpack_require__(10);\n\n\t\tvar _geoLatLon2 = _interopRequireDefault(_geoLatLon);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\n\n\t\tvar r2d = 180 / Math.PI;\n\n\t\tvar tileURLRegex = /\\{([szxy])\\}/g;\n\n\t\tvar Tile = (function () {\n\t  function Tile(quadcode, path, layer) {\n\t    _classCallCheck(this, Tile);\n\n\t\t    this._layer = layer;\n\t    this._world = layer._world;\n\t    this._quadcode = quadcode;\n\t    this._path = path;\n\n\t\t    this._ready = false;\n\n\t\t    this._tile = this._quadcodeToTile(quadcode);\n\n\t    this._boundsLatLon = this._tileBoundsWGS84(this._tile);\n\n\t    this._boundsWorld = this._tileBoundsFromWGS84(this._boundsLatLon);\n\n\t    this._center = this._boundsToCenter(this._boundsWorld);\n\n\t    this._centerLatlon = this._world.pointToLatLon(VIZI.Point(this._center[0], this._center[1]));\n\n\t    this._side = this._getSide(this._boundsWorld);\n\n\t    this._pointScale = this._world.pointScale(this._centerLatlon);\n\t  }\n\n\n\t\t  _createClass(Tile, [{\n\t    key: 'isReady',\n\t    value: function isReady() {\n\t      return this._ready;\n\t    }\n\n\t  }, {\n\t    key: 'requestTileAsync',\n\t    value: function requestTileAsync() {}\n\t  }, {\n\t    key: 'getQuadcode',\n\t    value: function getQuadcode() {\n\t      return this._quadcode;\n\t    }\n\t  }, {\n\t    key: 'getBounds',\n\t    value: function getBounds() {\n\t      return this._boundsWorld;\n\t    }\n\t  }, {\n\t    key: 'getCenter',\n\t    value: function getCenter() {\n\t      return this._center;\n\t    }\n\t  }, {\n\t    key: 'getSide',\n\t    value: function getSide() {\n\t      return this._side;\n\t    }\n\t  }, {\n\t    key: 'getMesh',\n\t    value: function getMesh() {\n\t      return this._mesh;\n\t    }\n\t  }, {\n\t    key: 'getPickingMesh',\n\t    value: function getPickingMesh() {\n\t      return this._pickingMesh;\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._layer = null;\n\t      this._world = null;\n\n\t      this._boundsLatLon = null;\n\t      this._boundsWorld = null;\n\t      this._center = null;\n\n\t      if (!this._mesh) {\n\t        return;\n\t      }\n\n\t\t      if (this._mesh.children) {\n\t        this._mesh.children.forEach(function (child) {\n\t          child.geometry.dispose();\n\t          child.geometry = null;\n\n\t\t          if (child.material.map) {\n\t            child.material.map.dispose();\n\t            child.material.map = null;\n\t          }\n\n\t\t          child.material.dispose();\n\t          child.material = null;\n\t        });\n\t      } else {\n\t        this._mesh.geometry.dispose();\n\t        this._mesh.geometry = null;\n\n\t\t        if (this._mesh.material.map) {\n\t          this._mesh.material.map.dispose();\n\t          this._mesh.material.map = null;\n\t        }\n\n\t\t        this._mesh.material.dispose();\n\t        this._mesh.material = null;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_createMesh',\n\t    value: function _createMesh() {}\n\t  }, {\n\t    key: '_createDebugMesh',\n\t    value: function _createDebugMesh() {}\n\t  }, {\n\t    key: '_getTileURL',\n\t    value: function _getTileURL(urlParams) {\n\t      if (!urlParams.s) {\n\t        urlParams.s = String.fromCharCode(97 + Math.floor(Math.random() * 3));\n\t      }\n\n\t\t      tileURLRegex.lastIndex = 0;\n\t      return this._path.replace(tileURLRegex, function (value, key) {\n\t        return urlParams[key];\n\t      });\n\t    }\n\n\t  }, {\n\t    key: '_quadcodeToTile',\n\t    value: function _quadcodeToTile(quadcode) {\n\t      var x = 0;\n\t      var y = 0;\n\t      var z = quadcode.length;\n\n\t\t      for (var i = z; i > 0; i--) {\n\t        var mask = 1 << i - 1;\n\t        var q = +quadcode[z - i];\n\t        if (q === 1) {\n\t          x |= mask;\n\t        }\n\t        if (q === 2) {\n\t          y |= mask;\n\t        }\n\t        if (q === 3) {\n\t          x |= mask;\n\t          y |= mask;\n\t        }\n\t      }\n\n\t\t      return [x, y, z];\n\t    }\n\n\t  }, {\n\t    key: '_tileBoundsFromWGS84',\n\t    value: function _tileBoundsFromWGS84(boundsWGS84) {\n\t      var sw = this._layer._world.latLonToPoint((0, _geoLatLon2['default'])(boundsWGS84[1], boundsWGS84[0]));\n\t      var ne = this._layer._world.latLonToPoint((0, _geoLatLon2['default'])(boundsWGS84[3], boundsWGS84[2]));\n\n\t\t      return [sw.x, sw.y, ne.x, ne.y];\n\t    }\n\n\t  }, {\n\t    key: '_tileBoundsWGS84',\n\t    value: function _tileBoundsWGS84(tile) {\n\t      var e = this._tile2lon(tile[0] + 1, tile[2]);\n\t      var w = this._tile2lon(tile[0], tile[2]);\n\t      var s = this._tile2lat(tile[1] + 1, tile[2]);\n\t      var n = this._tile2lat(tile[1], tile[2]);\n\t      return [w, s, e, n];\n\t    }\n\t  }, {\n\t    key: '_tile2lon',\n\t    value: function _tile2lon(x, z) {\n\t      return x / Math.pow(2, z) * 360 - 180;\n\t    }\n\t  }, {\n\t    key: '_tile2lat',\n\t    value: function _tile2lat(y, z) {\n\t      var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n\t      return r2d * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n\t    }\n\t  }, {\n\t    key: '_boundsToCenter',\n\t    value: function _boundsToCenter(bounds) {\n\t      var x = bounds[0] + (bounds[2] - bounds[0]) / 2;\n\t      var y = bounds[1] + (bounds[3] - bounds[1]) / 2;\n\n\t\t      return [x, y];\n\t    }\n\t  }, {\n\t    key: '_getSide',\n\t    value: function _getSide(bounds) {\n\t      return new _three2['default'].Vector3(bounds[0], 0, bounds[3]).sub(new _three2['default'].Vector3(bounds[0], 0, bounds[1])).length();\n\t    }\n\t  }]);\n\n\t\t  return Tile;\n\t})();\n\n\t\texports['default'] = Tile;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\n\t\tBoxHelper = function (object) {\n\n\t\t\tvar indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n\t\tvar positions = new Float32Array(8 * 3);\n\n\t\t\tvar geometry = new _three2['default'].BufferGeometry();\n\t\tgeometry.setIndex(new _three2['default'].BufferAttribute(indices, 1));\n\t\tgeometry.addAttribute('position', new _three2['default'].BufferAttribute(positions, 3));\n\n\t\t\t_three2['default'].LineSegments.call(this, geometry, new _three2['default'].LineBasicMaterial({ linewidth: 2, color: 0xff0000 }));\n\n\t\t\tif (object !== undefined) {\n\n\t\t\t\tthis.update(object);\n\t\t}\n\t};\n\n\t\tBoxHelper.prototype = Object.create(_three2['default'].LineSegments.prototype);\n\tBoxHelper.prototype.constructor = BoxHelper;\n\n\t\tBoxHelper.prototype.update = (function () {\n\n\t\t\tvar box = new _three2['default'].Box3();\n\n\t\t\treturn function (object) {\n\n\t\t\t\tbox.setFromObject(object);\n\n\t\t\t\tif (box.isEmpty()) return;\n\n\t\t\t\tvar min = box.min;\n\t\t\tvar max = box.max;\n\n\n\t\t\t\tvar position = this.geometry.attributes.position;\n\t\t\tvar array = position.array;\n\n\t\t\t\tarray[0] = max.x;array[1] = max.y;array[2] = max.z;\n\t\t\tarray[3] = min.x;array[4] = max.y;array[5] = max.z;\n\t\t\tarray[6] = min.x;array[7] = min.y;array[8] = max.z;\n\t\t\tarray[9] = max.x;array[10] = min.y;array[11] = max.z;\n\t\t\tarray[12] = max.x;array[13] = max.y;array[14] = min.z;\n\t\t\tarray[15] = min.x;array[16] = max.y;array[17] = min.z;\n\t\t\tarray[18] = min.x;array[19] = min.y;array[20] = min.z;\n\t\t\tarray[21] = max.x;array[22] = min.y;array[23] = min.z;\n\n\t\t\t\tposition.needsUpdate = true;\n\n\t\t\t\tthis.geometry.computeBoundingSphere();\n\t\t};\n\t})();\n\n\t\texports['default'] = BoxHelper;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\texports['default'] = function (colour, skyboxTarget) {\n\t  var canvas = document.createElement('canvas');\n\t  canvas.width = 1;\n\t  canvas.height = 1;\n\n\t\t  var context = canvas.getContext('2d');\n\t  context.fillStyle = colour;\n\t  context.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t  var texture = new _three2['default'].Texture(canvas);\n\n\n\n\t\t  texture.needsUpdate = true;\n\n\t\t  var material;\n\n\t\t  if (!skyboxTarget) {\n\t    material = new _three2['default'].MeshBasicMaterial({\n\t      map: texture,\n\t      depthWrite: false\n\t    });\n\t  } else {\n\t    material = new _three2['default'].MeshStandardMaterial({\n\t      depthWrite: false\n\t    });\n\t    material.roughness = 1;\n\t    material.metalness = 0.1;\n\t    material.envMap = skyboxTarget;\n\t  }\n\n\t\t  return material;\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _TileLayer2 = __webpack_require__(41);\n\n\t\tvar _TileLayer3 = _interopRequireDefault(_TileLayer2);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _GeoJSONTile = __webpack_require__(56);\n\n\t\tvar _GeoJSONTile2 = _interopRequireDefault(_GeoJSONTile);\n\n\t\tvar _lodashThrottle = __webpack_require__(38);\n\n\t\tvar _lodashThrottle2 = _interopRequireDefault(_lodashThrottle);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\n\n\n\n\t\tvar GeoJSONTileLayer = (function (_TileLayer) {\n\t  _inherits(GeoJSONTileLayer, _TileLayer);\n\n\t\t  function GeoJSONTileLayer(path, options) {\n\t    _classCallCheck(this, GeoJSONTileLayer);\n\n\t\t    var defaults = {\n\t      maxLOD: 14,\n\t      distance: 2000\n\t    };\n\n\t\t    options = (0, _lodashAssign2['default'])({}, defaults, options);\n\n\t\t    _get(Object.getPrototypeOf(GeoJSONTileLayer.prototype), 'constructor', this).call(this, options);\n\n\t\t    this._path = path;\n\t  }\n\n\n\t\t  _createClass(GeoJSONTileLayer, [{\n\t    key: '_onAdd',\n\t    value: function _onAdd(world) {\n\t      var _this = this;\n\n\t\t      _get(Object.getPrototypeOf(GeoJSONTileLayer.prototype), '_onAdd', this).call(this, world);\n\n\t      setTimeout(function () {\n\t        _this._calculateLOD();\n\t        _this._initEvents();\n\t      }, 0);\n\t    }\n\t  }, {\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      this._throttledWorldUpdate = (0, _lodashThrottle2['default'])(this._onWorldUpdate, 100);\n\n\t\t      this._world.on('preUpdate', this._throttledWorldUpdate, this);\n\t      this._world.on('move', this._onWorldMove, this);\n\t      this._world.on('controlsMove', this._onControlsMove, this);\n\t    }\n\n\t  }, {\n\t    key: '_onWorldUpdate',\n\t    value: function _onWorldUpdate() {\n\t      if (this._pauseOutput) {\n\t        return;\n\t      }\n\n\t\t      this._outputTiles();\n\t    }\n\n\t  }, {\n\t    key: '_onWorldMove',\n\t    value: function _onWorldMove(latlon, point) {\n\t      this._pauseOutput = false;\n\t      this._calculateLOD();\n\t    }\n\n\t  }, {\n\t    key: '_onControlsMove',\n\t    value: function _onControlsMove() {\n\t      this._pauseOutput = true;\n\t    }\n\t  }, {\n\t    key: '_createTile',\n\t    value: function _createTile(quadcode, layer) {\n\t      var options = {};\n\n\t\t      if (this._options.filter) {\n\t        options.filter = this._options.filter;\n\t      }\n\n\t\t      if (this._options.style) {\n\t        options.style = this._options.style;\n\t      }\n\n\t\t      if (this._options.topojson) {\n\t        options.topojson = true;\n\t      }\n\n\t\t      if (this._options.picking) {\n\t        options.picking = true;\n\t      }\n\n\t\t      if (this._options.onClick) {\n\t        options.onClick = this._options.onClick;\n\t      }\n\n\t\t      return (0, _GeoJSONTile2['default'])(quadcode, this._path, layer, options);\n\t    }\n\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._world.off('preUpdate', this._throttledWorldUpdate);\n\t      this._world.off('move', this._onWorldMove);\n\n\t\t      this._throttledWorldUpdate = null;\n\n\t      _get(Object.getPrototypeOf(GeoJSONTileLayer.prototype), 'destroy', this).call(this);\n\t    }\n\t  }]);\n\n\t\t  return GeoJSONTileLayer;\n\t})(_TileLayer3['default']);\n\n\t\texports['default'] = function (path, options) {\n\t  return new GeoJSONTileLayer(path, options);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _Tile2 = __webpack_require__(52);\n\n\t\tvar _Tile3 = _interopRequireDefault(_Tile2);\n\n\t\tvar _vendorBoxHelper = __webpack_require__(53);\n\n\t\tvar _vendorBoxHelper2 = _interopRequireDefault(_vendorBoxHelper);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _reqwest = __webpack_require__(57);\n\n\t\tvar _reqwest2 = _interopRequireDefault(_reqwest);\n\n\t\tvar _geoPoint = __webpack_require__(11);\n\n\t\tvar _geoPoint2 = _interopRequireDefault(_geoPoint);\n\n\t\tvar _geoLatLon = __webpack_require__(10);\n\n\t\tvar _geoLatLon2 = _interopRequireDefault(_geoLatLon);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\n\t\tvar _utilGeoJSON = __webpack_require__(59);\n\n\t\tvar _utilGeoJSON2 = _interopRequireDefault(_utilGeoJSON);\n\n\t\tvar _utilBuffer = __webpack_require__(65);\n\n\t\tvar _utilBuffer2 = _interopRequireDefault(_utilBuffer);\n\n\t\tvar _enginePickingMaterial = __webpack_require__(66);\n\n\t\tvar _enginePickingMaterial2 = _interopRequireDefault(_enginePickingMaterial);\n\n\n\n\n\t\tvar GeoJSONTile = (function (_Tile) {\n\t  _inherits(GeoJSONTile, _Tile);\n\n\t\t  function GeoJSONTile(quadcode, path, layer, options) {\n\t    _classCallCheck(this, GeoJSONTile);\n\n\t\t    _get(Object.getPrototypeOf(GeoJSONTile.prototype), 'constructor', this).call(this, quadcode, path, layer);\n\n\t\t    this._defaultStyle = _utilGeoJSON2['default'].defaultStyle;\n\n\t\t    var defaults = {\n\t      picking: false,\n\t      topojson: false,\n\t      filter: null,\n\t      onClick: null,\n\t      style: this._defaultStyle\n\t    };\n\n\t\t    this._options = (0, _lodashAssign2['default'])({}, defaults, options);\n\n\t\t    if (typeof options.style === 'function') {\n\t      this._options.style = options.style;\n\t    } else {\n\t      this._options.style = (0, _lodashAssign2['default'])({}, defaults.style, options.style);\n\t    }\n\t  }\n\n\n\n\t\t  _createClass(GeoJSONTile, [{\n\t    key: 'requestTileAsync',\n\t    value: function requestTileAsync() {\n\t      var _this = this;\n\n\t      setTimeout(function () {\n\t        if (!_this._mesh) {\n\t          _this._mesh = _this._createMesh();\n\n\t\t          if (_this._options.picking) {\n\t            _this._pickingMesh = _this._createPickingMesh();\n\t          }\n\n\n\t\t          _this._requestTile();\n\t        }\n\t      }, 0);\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._abortRequest();\n\n\t      this._request = null;\n\n\t      this._pickingMesh = null;\n\n\t\t      _get(Object.getPrototypeOf(GeoJSONTile.prototype), 'destroy', this).call(this);\n\t    }\n\t  }, {\n\t    key: '_createMesh',\n\t    value: function _createMesh() {\n\t      if (!this._center) {\n\t        return;\n\t      }\n\n\t\t      var mesh = new _three2['default'].Object3D();\n\n\t\t      mesh.position.x = this._center[0];\n\t      mesh.position.z = this._center[1];\n\n\n\t\t      return mesh;\n\t    }\n\t  }, {\n\t    key: '_createPickingMesh',\n\t    value: function _createPickingMesh() {\n\t      if (!this._center) {\n\t        return;\n\t      }\n\n\t\t      var mesh = new _three2['default'].Object3D();\n\n\t\t      mesh.position.x = this._center[0];\n\t      mesh.position.z = this._center[1];\n\n\t\t      return mesh;\n\t    }\n\t  }, {\n\t    key: '_createDebugMesh',\n\t    value: function _createDebugMesh() {\n\t      var canvas = document.createElement('canvas');\n\t      canvas.width = 256;\n\t      canvas.height = 256;\n\n\t\t      var context = canvas.getContext('2d');\n\t      context.font = 'Bold 20px Helvetica Neue, Verdana, Arial';\n\t      context.fillStyle = '#ff0000';\n\t      context.fillText(this._quadcode, 20, canvas.width / 2 - 5);\n\t      context.fillText(this._tile.toString(), 20, canvas.width / 2 + 25);\n\n\t\t      var texture = new _three2['default'].Texture(canvas);\n\n\t      texture.magFilter = _three2['default'].LinearFilter;\n\t      texture.minFilter = _three2['default'].LinearMipMapLinearFilter;\n\n\t      texture.anisotropy = 4;\n\n\t\t      texture.needsUpdate = true;\n\n\t\t      var material = new _three2['default'].MeshBasicMaterial({\n\t        map: texture,\n\t        transparent: true,\n\t        depthWrite: false\n\t      });\n\n\t\t      var geom = new _three2['default'].PlaneBufferGeometry(this._side, this._side, 1);\n\t      var mesh = new _three2['default'].Mesh(geom, material);\n\n\t\t      mesh.rotation.x = -90 * Math.PI / 180;\n\t      mesh.position.y = 0.1;\n\n\t\t      return mesh;\n\t    }\n\t  }, {\n\t    key: '_createShadowCanvas',\n\t    value: function _createShadowCanvas() {\n\t      var canvas = document.createElement('canvas');\n\n\t      canvas.width = 512;\n\t      canvas.height = 512;\n\n\t\t      return canvas;\n\t    }\n\n\n\t\t  }, {\n\t    key: '_requestTile',\n\t    value: function _requestTile() {\n\t      var _this2 = this;\n\n\t\t      var urlParams = {\n\t        x: this._tile[0],\n\t        y: this._tile[1],\n\t        z: this._tile[2]\n\t      };\n\n\t\t      var url = this._getTileURL(urlParams);\n\n\t\t      this._request = (0, _reqwest2['default'])({\n\t        url: url,\n\t        type: 'json',\n\t        crossOrigin: true\n\t      }).then(function (res) {\n\t        _this2._request = null;\n\t        _this2._processTileData(res);\n\t      })['catch'](function (err) {\n\t        console.error(err);\n\n\t        _this2._request = null;\n\t      });\n\t    }\n\t  }, {\n\t    key: '_processTileData',\n\t    value: function _processTileData(data) {\n\t      var _this3 = this;\n\n\t\t      console.time(this._tile);\n\n\t\t      var geojson = _utilGeoJSON2['default'].mergeFeatures(data, this._options.topojson);\n\n\n\t\t      var features = geojson.features;\n\n\t      if (this._options.filter) {\n\t        features = geojson.features.filter(this._options.filter);\n\t      }\n\n\t\t      var style = this._options.style;\n\n\t\t      var offset = (0, _geoPoint2['default'])(0, 0);\n\t      offset.x = -1 * this._center[0];\n\t      offset.y = -1 * this._center[1];\n\n\n\t\t      var polygons = {\n\t        vertices: [],\n\t        faces: [],\n\t        colours: [],\n\t        facesCount: 0,\n\t        allFlat: true\n\t      };\n\n\t\t      var lines = {\n\t        vertices: [],\n\t        colours: [],\n\t        verticesCount: 0\n\t      };\n\n\t\t      if (this._options.picking) {\n\t        polygons.pickingIds = [];\n\t        lines.pickingIds = [];\n\t      }\n\n\t\t      var colour = new _three2['default'].Color();\n\n\t\t      features.forEach(function (feature) {\n\n\t        if (feature.geometry.type !== 'Polygon' && feature.geometry.type !== 'LineString' && feature.geometry.type !== 'MultiLineString') {\n\t          return;\n\t        }\n\n\t        if (typeof _this3._options.style === 'function') {\n\t          style = (0, _lodashAssign2['default'])({}, _this3._defaultStyle, _this3._options.style(feature));\n\t        }\n\n\t\t        var coordinates = feature.geometry.coordinates;\n\n\t        if (feature.geometry.type === 'LineString') {\n\t          colour.set(style.lineColor);\n\n\t\t          coordinates = coordinates.map(function (coordinate) {\n\t            var latlon = (0, _geoLatLon2['default'])(coordinate[1], coordinate[0]);\n\t            var point = _this3._layer._world.latLonToPoint(latlon);\n\t            return [point.x, point.y];\n\t          });\n\n\t\t          var height = 0;\n\n\t\t          if (style.lineHeight) {\n\t            height = _this3._world.metresToWorld(style.lineHeight, _this3._pointScale);\n\t          }\n\n\t\t          var linestringAttributes = _utilGeoJSON2['default'].lineStringAttributes(coordinates, colour, height);\n\n\t\t          lines.vertices.push(linestringAttributes.vertices);\n\t          lines.colours.push(linestringAttributes.colours);\n\n\t\t          if (_this3._options.picking) {\n\t            var pickingId = _this3._layer.getPickingId();\n\n\t            lines.pickingIds.push(pickingId);\n\n\t\t            if (_this3._options.onClick) {\n\t              _this3._world.on('pick-' + pickingId, function (point2d, point3d, intersects) {\n\t                _this3._options.onClick(feature, point2d, point3d, intersects);\n\t              });\n\t            }\n\t          }\n\n\t\t          lines.verticesCount += linestringAttributes.vertices.length;\n\t        }\n\n\t\t        if (feature.geometry.type === 'MultiLineString') {\n\t          colour.set(style.lineColor);\n\n\t\t          coordinates = coordinates.map(function (_coordinates) {\n\t            return _coordinates.map(function (coordinate) {\n\t              var latlon = (0, _geoLatLon2['default'])(coordinate[1], coordinate[0]);\n\t              var point = _this3._layer._world.latLonToPoint(latlon);\n\t              return [point.x, point.y];\n\t            });\n\t          });\n\n\t\t          var height = 0;\n\n\t\t          if (style.lineHeight) {\n\t            height = _this3._world.metresToWorld(style.lineHeight, _this3._pointScale);\n\t          }\n\n\t\t          var multiLinestringAttributes = _utilGeoJSON2['default'].multiLineStringAttributes(coordinates, colour, height);\n\n\t\t          lines.vertices.push(multiLinestringAttributes.vertices);\n\t          lines.colours.push(multiLinestringAttributes.colours);\n\n\t\t          if (_this3._options.picking) {\n\t            var pickingId = _this3._layer.getPickingId();\n\n\t            lines.pickingIds.push(pickingId);\n\n\t\t            if (_this3._options.onClick) {\n\t              _this3._world.on('pick-' + pickingId, function (point2d, point3d, intersects) {\n\t                _this3._options.onClick(feature, point2d, point3d, intersects);\n\t              });\n\t            }\n\t          }\n\n\t\t          lines.verticesCount += multiLinestringAttributes.vertices.length;\n\t        }\n\n\t\t        if (feature.geometry.type === 'Polygon') {\n\t          colour.set(style.color);\n\n\t\t          coordinates = coordinates.map(function (ring) {\n\t            return ring.map(function (coordinate) {\n\t              var latlon = (0, _geoLatLon2['default'])(coordinate[1], coordinate[0]);\n\t              var point = _this3._layer._world.latLonToPoint(latlon);\n\t              return [point.x, point.y];\n\t            });\n\t          });\n\n\t\t          var height = 0;\n\n\t\t          if (style.height) {\n\t            height = _this3._world.metresToWorld(style.height, _this3._pointScale);\n\t          }\n\n\n\t\t          var polygonAttributes = _utilGeoJSON2['default'].polygonAttributes(coordinates, colour, height);\n\n\t\t          polygons.vertices.push(polygonAttributes.vertices);\n\t          polygons.faces.push(polygonAttributes.faces);\n\t          polygons.colours.push(polygonAttributes.colours);\n\n\t\t          if (_this3._options.picking) {\n\t            var pickingId = _this3._layer.getPickingId();\n\n\t            polygons.pickingIds.push(pickingId);\n\n\t\t            if (_this3._options.onClick) {\n\t              _this3._world.on('pick-' + pickingId, function (point2d, point3d, intersects) {\n\t                _this3._options.onClick(feature, point2d, point3d, intersects);\n\t              });\n\t            }\n\t          }\n\n\t\t          if (polygons.allFlat && !polygonAttributes.flat) {\n\t            polygons.allFlat = false;\n\t          }\n\n\t\t          polygons.facesCount += polygonAttributes.faces.length;\n\t        }\n\t      });\n\n\n\n\t\t      var geometry;\n\t      var material;\n\t      var mesh;\n\n\t      if (lines.vertices.length > 0) {\n\t        geometry = _utilBuffer2['default'].createLineGeometry(lines, offset);\n\n\t\t        material = new _three2['default'].LineBasicMaterial({\n\t          vertexColors: _three2['default'].VertexColors,\n\t          linewidth: style.lineWidth,\n\t          transparent: style.lineTransparent,\n\t          opacity: style.lineOpacity,\n\t          blending: style.lineBlending\n\t        });\n\n\t\t        mesh = new _three2['default'].LineSegments(geometry, material);\n\n\t\t        if (style.lineRenderOrder !== undefined) {\n\t          material.depthWrite = false;\n\t          mesh.renderOrder = style.lineRenderOrder;\n\t        }\n\n\n\t\t        this._mesh.add(mesh);\n\n\t\t        if (this._options.picking) {\n\t          material = new _enginePickingMaterial2['default']();\n\t          material.side = _three2['default'].BackSide;\n\n\t          material.linewidth = style.lineWidth + material.linePadding;\n\n\t\t          var pickingMesh = new _three2['default'].LineSegments(geometry, material);\n\t          this._pickingMesh.add(pickingMesh);\n\t        }\n\t      }\n\n\t      if (polygons.facesCount > 0) {\n\t        geometry = _utilBuffer2['default'].createGeometry(polygons, offset);\n\n\t\t        if (!this._world._environment._skybox) {\n\t          material = new _three2['default'].MeshPhongMaterial({\n\t            vertexColors: _three2['default'].VertexColors,\n\t            side: _three2['default'].BackSide\n\t          });\n\t        } else {\n\t          material = new _three2['default'].MeshStandardMaterial({\n\t            vertexColors: _three2['default'].VertexColors,\n\t            side: _three2['default'].BackSide\n\t          });\n\t          material.roughness = 1;\n\t          material.metalness = 0.1;\n\t          material.envMapIntensity = 3;\n\t          material.envMap = this._world._environment._skybox.getRenderTarget();\n\t        }\n\n\t\t        mesh = new _three2['default'].Mesh(geometry, material);\n\n\t\t        mesh.castShadow = true;\n\t        mesh.receiveShadow = true;\n\n\t\t        if (polygons.allFlat) {\n\t          material.depthWrite = false;\n\t          mesh.renderOrder = 1;\n\t        }\n\n\t\t        this._mesh.add(mesh);\n\n\t\t        if (this._options.picking) {\n\t          material = new _enginePickingMaterial2['default']();\n\t          material.side = _three2['default'].BackSide;\n\n\t\t          var pickingMesh = new _three2['default'].Mesh(geometry, material);\n\t          this._pickingMesh.add(pickingMesh);\n\t        }\n\t      }\n\n\t\t      this._ready = true;\n\t      console.timeEnd(this._tile);\n\t      console.log(this._tile + ': ' + features.length + ' features');\n\t    }\n\t  }, {\n\t    key: '_abortRequest',\n\t    value: function _abortRequest() {\n\t      if (!this._request) {\n\t        return;\n\t      }\n\n\t\t      this._request.abort();\n\t    }\n\t  }]);\n\n\t\t  return GeoJSONTile;\n\t})(_Tile3['default']);\n\n\t\texports['default'] = function (quadcode, path, layer, options) {\n\t  return new GeoJSONTile(quadcode, path, layer, options);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n\t\t!function (name, context, definition) {\n\t  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n\t  else if (true) !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\n\t  else context[name] = definition()\n\t}('reqwest', this, function () {\n\n\t\t  var context = this\n\n\t\t  if ('window' in context) {\n\t    var doc = document\n\t      , byTag = 'getElementsByTagName'\n\t      , head = doc[byTag]('head')[0]\n\t  } else {\n\t    var XHR2\n\t    try {\n\t      XHR2 = __webpack_require__(58)\n\t    } catch (ex) {\n\t      throw new Error('Peer dependency `xhr2` required! Please npm install xhr2')\n\t    }\n\t  }\n\n\n\t\t\t  var httpsRe = /^http/\n\t    , protocolRe = /(^\\w+):\\/\\//\n\t    , twoHundo = /^(20\\d|1223)$/ \n\t    , readyState = 'readyState'\n\t    , contentType = 'Content-Type'\n\t    , requestedWith = 'X-Requested-With'\n\t    , uniqid = 0\n\t    , callbackPrefix = 'reqwest_' + (+new Date())\n\t    , lastValue \n\t    , xmlHttpRequest = 'XMLHttpRequest'\n\t    , xDomainRequest = 'XDomainRequest'\n\t    , noop = function () {}\n\n\t\t    , isArray = typeof Array.isArray == 'function'\n\t        ? Array.isArray\n\t        : function (a) {\n\t            return a instanceof Array\n\t          }\n\n\t\t    , defaultHeaders = {\n\t          'contentType': 'application/x-www-form-urlencoded'\n\t        , 'requestedWith': xmlHttpRequest\n\t        , 'accept': {\n\t              '*':  'text/javascript, text/html, application/xml, text/xml, */*'\n\t            , 'xml':  'application/xml, text/xml'\n\t            , 'html': 'text/html'\n\t            , 'text': 'text/plain'\n\t            , 'json': 'application/json, text/javascript'\n\t            , 'js':   'application/javascript, text/javascript'\n\t          }\n\t      }\n\n\t\t    , xhr = function(o) {\n\t        if (o['crossOrigin'] === true) {\n\t          var xhr = context[xmlHttpRequest] ? new XMLHttpRequest() : null\n\t          if (xhr && 'withCredentials' in xhr) {\n\t            return xhr\n\t          } else if (context[xDomainRequest]) {\n\t            return new XDomainRequest()\n\t          } else {\n\t            throw new Error('Browser does not support cross-origin requests')\n\t          }\n\t        } else if (context[xmlHttpRequest]) {\n\t          return new XMLHttpRequest()\n\t        } else if (XHR2) {\n\t          return new XHR2()\n\t        } else {\n\t          return new ActiveXObject('Microsoft.XMLHTTP')\n\t        }\n\t      }\n\t    , globalSetupOptions = {\n\t        dataFilter: function (data) {\n\t          return data\n\t        }\n\t      }\n\n\t\t  function succeed(r) {\n\t    var protocol = protocolRe.exec(r.url)\n\t    protocol = (protocol && protocol[1]) || context.location.protocol\n\t    return httpsRe.test(protocol) ? twoHundo.test(r.request.status) : !!r.request.response\n\t  }\n\n\t\t  function handleReadyState(r, success, error) {\n\t    return function () {\n\t      if (r._aborted) return error(r.request)\n\t      if (r._timedOut) return error(r.request, 'Request is aborted: timeout')\n\t      if (r.request && r.request[readyState] == 4) {\n\t        r.request.onreadystatechange = noop\n\t        if (succeed(r)) success(r.request)\n\t        else\n\t          error(r.request)\n\t      }\n\t    }\n\t  }\n\n\t\t  function setHeaders(http, o) {\n\t    var headers = o['headers'] || {}\n\t      , h\n\n\t\t    headers['Accept'] = headers['Accept']\n\t      || defaultHeaders['accept'][o['type']]\n\t      || defaultHeaders['accept']['*']\n\n\t\t    var isAFormData = typeof FormData !== 'undefined' && (o['data'] instanceof FormData);\n\t    if (!o['crossOrigin'] && !headers[requestedWith]) headers[requestedWith] = defaultHeaders['requestedWith']\n\t    if (!headers[contentType] && !isAFormData) headers[contentType] = o['contentType'] || defaultHeaders['contentType']\n\t    for (h in headers)\n\t      headers.hasOwnProperty(h) && 'setRequestHeader' in http && http.setRequestHeader(h, headers[h])\n\t  }\n\n\t\t  function setCredentials(http, o) {\n\t    if (typeof o['withCredentials'] !== 'undefined' && typeof http.withCredentials !== 'undefined') {\n\t      http.withCredentials = !!o['withCredentials']\n\t    }\n\t  }\n\n\t\t  function generalCallback(data) {\n\t    lastValue = data\n\t  }\n\n\t\t  function urlappend (url, s) {\n\t    return url + (/\\?/.test(url) ? '&' : '?') + s\n\t  }\n\n\t\t  function handleJsonp(o, fn, err, url) {\n\t    var reqId = uniqid++\n\t      , cbkey = o['jsonpCallback'] || 'callback' \n\t      , cbval = o['jsonpCallbackName'] || reqwest.getcallbackPrefix(reqId)\n\t      , cbreg = new RegExp('((^|\\\\?|&)' + cbkey + ')=([^&]+)')\n\t      , match = url.match(cbreg)\n\t      , script = doc.createElement('script')\n\t      , loaded = 0\n\t      , isIE10 = navigator.userAgent.indexOf('MSIE 10.0') !== -1\n\n\t\t    if (match) {\n\t      if (match[3] === '?') {\n\t        url = url.replace(cbreg, '$1=' + cbval) \n\t      } else {\n\t        cbval = match[3] \n\t      }\n\t    } else {\n\t      url = urlappend(url, cbkey + '=' + cbval) \n\t    }\n\n\t\t    context[cbval] = generalCallback\n\n\t\t    script.type = 'text/javascript'\n\t    script.src = url\n\t    script.async = true\n\t    if (typeof script.onreadystatechange !== 'undefined' && !isIE10) {\n\t      script.htmlFor = script.id = '_reqwest_' + reqId\n\t    }\n\n\t\t    script.onload = script.onreadystatechange = function () {\n\t      if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {\n\t        return false\n\t      }\n\t      script.onload = script.onreadystatechange = null\n\t      script.onclick && script.onclick()\n\t      fn(lastValue)\n\t      lastValue = undefined\n\t      head.removeChild(script)\n\t      loaded = 1\n\t    }\n\n\t    head.appendChild(script)\n\n\t    return {\n\t      abort: function () {\n\t        script.onload = script.onreadystatechange = null\n\t        err({}, 'Request is aborted: timeout', {})\n\t        lastValue = undefined\n\t        head.removeChild(script)\n\t        loaded = 1\n\t      }\n\t    }\n\t  }\n\n\t\t  function getRequest(fn, err) {\n\t    var o = this.o\n\t      , method = (o['method'] || 'GET').toUpperCase()\n\t      , url = typeof o === 'string' ? o : o['url']\n\t      , data = (o['processData'] !== false && o['data'] && typeof o['data'] !== 'string')\n\t        ? reqwest.toQueryString(o['data'])\n\t        : (o['data'] || null)\n\t      , http\n\t      , sendWait = false\n\n\t    if ((o['type'] == 'jsonp' || method == 'GET') && data) {\n\t      url = urlappend(url, data)\n\t      data = null\n\t    }\n\n\t\t    if (o['type'] == 'jsonp') return handleJsonp(o, fn, err, url)\n\n\t    http = (o.xhr && o.xhr(o)) || xhr(o)\n\n\t\t    http.open(method, url, o['async'] === false ? false : true)\n\t    setHeaders(http, o)\n\t    setCredentials(http, o)\n\t    if (context[xDomainRequest] && http instanceof context[xDomainRequest]) {\n\t        http.onload = fn\n\t        http.onerror = err\n\t        http.onprogress = function() {}\n\t        sendWait = true\n\t    } else {\n\t      http.onreadystatechange = handleReadyState(this, fn, err)\n\t    }\n\t    o['before'] && o['before'](http)\n\t    if (sendWait) {\n\t      setTimeout(function () {\n\t        http.send(data)\n\t      }, 200)\n\t    } else {\n\t      http.send(data)\n\t    }\n\t    return http\n\t  }\n\n\t\t  function Reqwest(o, fn) {\n\t    this.o = o\n\t    this.fn = fn\n\n\t\t    init.apply(this, arguments)\n\t  }\n\n\t\t  function setType(header) {\n\t    if (header === null) return undefined; \n\t    if (header.match('json')) return 'json'\n\t    if (header.match('javascript')) return 'js'\n\t    if (header.match('text')) return 'html'\n\t    if (header.match('xml')) return 'xml'\n\t  }\n\n\t\t  function init(o, fn) {\n\n\t\t    this.url = typeof o == 'string' ? o : o['url']\n\t    this.timeout = null\n\n\t    this._fulfilled = false\n\t    this._successHandler = function(){}\n\t    this._fulfillmentHandlers = []\n\t    this._errorHandlers = []\n\t    this._completeHandlers = []\n\t    this._erred = false\n\t    this._responseArgs = {}\n\n\t\t    var self = this\n\n\t\t    fn = fn || function () {}\n\n\t\t    if (o['timeout']) {\n\t      this.timeout = setTimeout(function () {\n\t        timedOut()\n\t      }, o['timeout'])\n\t    }\n\n\t\t    if (o['success']) {\n\t      this._successHandler = function () {\n\t        o['success'].apply(o, arguments)\n\t      }\n\t    }\n\n\t\t    if (o['error']) {\n\t      this._errorHandlers.push(function () {\n\t        o['error'].apply(o, arguments)\n\t      })\n\t    }\n\n\t\t    if (o['complete']) {\n\t      this._completeHandlers.push(function () {\n\t        o['complete'].apply(o, arguments)\n\t      })\n\t    }\n\n\t\t    function complete (resp) {\n\t      o['timeout'] && clearTimeout(self.timeout)\n\t      self.timeout = null\n\t      while (self._completeHandlers.length > 0) {\n\t        self._completeHandlers.shift()(resp)\n\t      }\n\t    }\n\n\t\t    function success (resp) {\n\t      var type = o['type'] || resp && setType(resp.getResponseHeader('Content-Type')) \n\t      resp = (type !== 'jsonp') ? self.request : resp\n\t      var filteredResponse = globalSetupOptions.dataFilter(resp.responseText, type)\n\t        , r = filteredResponse\n\t      try {\n\t        resp.responseText = r\n\t      } catch (e) {\n\t      }\n\t      if (r) {\n\t        switch (type) {\n\t        case 'json':\n\t          try {\n\t            resp = context.JSON ? context.JSON.parse(r) : eval('(' + r + ')')\n\t          } catch (err) {\n\t            return error(resp, 'Could not parse JSON in response', err)\n\t          }\n\t          break\n\t        case 'js':\n\t          resp = eval(r)\n\t          break\n\t        case 'html':\n\t          resp = r\n\t          break\n\t        case 'xml':\n\t          resp = resp.responseXML\n\t              && resp.responseXML.parseError \n\t              && resp.responseXML.parseError.errorCode\n\t              && resp.responseXML.parseError.reason\n\t            ? null\n\t            : resp.responseXML\n\t          break\n\t        }\n\t      }\n\n\t\t      self._responseArgs.resp = resp\n\t      self._fulfilled = true\n\t      fn(resp)\n\t      self._successHandler(resp)\n\t      while (self._fulfillmentHandlers.length > 0) {\n\t        resp = self._fulfillmentHandlers.shift()(resp)\n\t      }\n\n\t\t      complete(resp)\n\t    }\n\n\t\t    function timedOut() {\n\t      self._timedOut = true\n\t      self.request.abort()\n\t    }\n\n\t\t    function error(resp, msg, t) {\n\t      resp = self.request\n\t      self._responseArgs.resp = resp\n\t      self._responseArgs.msg = msg\n\t      self._responseArgs.t = t\n\t      self._erred = true\n\t      while (self._errorHandlers.length > 0) {\n\t        self._errorHandlers.shift()(resp, msg, t)\n\t      }\n\t      complete(resp)\n\t    }\n\n\t\t    this.request = getRequest.call(this, success, error)\n\t  }\n\n\t\t  Reqwest.prototype = {\n\t    abort: function () {\n\t      this._aborted = true\n\t      this.request.abort()\n\t    }\n\n\t\t  , retry: function () {\n\t      init.call(this, this.o, this.fn)\n\t    }\n\n\n\t  , then: function (success, fail) {\n\t      success = success || function () {}\n\t      fail = fail || function () {}\n\t      if (this._fulfilled) {\n\t        this._responseArgs.resp = success(this._responseArgs.resp)\n\t      } else if (this._erred) {\n\t        fail(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n\t      } else {\n\t        this._fulfillmentHandlers.push(success)\n\t        this._errorHandlers.push(fail)\n\t      }\n\t      return this\n\t    }\n\n\t  , always: function (fn) {\n\t      if (this._fulfilled || this._erred) {\n\t        fn(this._responseArgs.resp)\n\t      } else {\n\t        this._completeHandlers.push(fn)\n\t      }\n\t      return this\n\t    }\n\n\t  , fail: function (fn) {\n\t      if (this._erred) {\n\t        fn(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n\t      } else {\n\t        this._errorHandlers.push(fn)\n\t      }\n\t      return this\n\t    }\n\t  , 'catch': function (fn) {\n\t      return this.fail(fn)\n\t    }\n\t  }\n\n\t\t  function reqwest(o, fn) {\n\t    return new Reqwest(o, fn)\n\t  }\n\n\t  function normalize(s) {\n\t    return s ? s.replace(/\\r?\\n/g, '\\r\\n') : ''\n\t  }\n\n\t\t  function serial(el, cb) {\n\t    var n = el.name\n\t      , t = el.tagName.toLowerCase()\n\t      , optCb = function (o) {\n\t          if (o && !o['disabled'])\n\t            cb(n, normalize(o['attributes']['value'] && o['attributes']['value']['specified'] ? o['value'] : o['text']))\n\t        }\n\t      , ch, ra, val, i\n\n\t    if (el.disabled || !n) return\n\n\t\t    switch (t) {\n\t    case 'input':\n\t      if (!/reset|button|image|file/i.test(el.type)) {\n\t        ch = /checkbox/i.test(el.type)\n\t        ra = /radio/i.test(el.type)\n\t        val = el.value\n\t        ;(!(ch || ra) || el.checked) && cb(n, normalize(ch && val === '' ? 'on' : val))\n\t      }\n\t      break\n\t    case 'textarea':\n\t      cb(n, normalize(el.value))\n\t      break\n\t    case 'select':\n\t      if (el.type.toLowerCase() === 'select-one') {\n\t        optCb(el.selectedIndex >= 0 ? el.options[el.selectedIndex] : null)\n\t      } else {\n\t        for (i = 0; el.length && i < el.length; i++) {\n\t          el.options[i].selected && optCb(el.options[i])\n\t        }\n\t      }\n\t      break\n\t    }\n\t  }\n\n\t  function eachFormElement() {\n\t    var cb = this\n\t      , e, i\n\t      , serializeSubtags = function (e, tags) {\n\t          var i, j, fa\n\t          for (i = 0; i < tags.length; i++) {\n\t            fa = e[byTag](tags[i])\n\t            for (j = 0; j < fa.length; j++) serial(fa[j], cb)\n\t          }\n\t        }\n\n\t\t    for (i = 0; i < arguments.length; i++) {\n\t      e = arguments[i]\n\t      if (/input|select|textarea/i.test(e.tagName)) serial(e, cb)\n\t      serializeSubtags(e, [ 'input', 'select', 'textarea' ])\n\t    }\n\t  }\n\n\t  function serializeQueryString() {\n\t    return reqwest.toQueryString(reqwest.serializeArray.apply(null, arguments))\n\t  }\n\n\t  function serializeHash() {\n\t    var hash = {}\n\t    eachFormElement.apply(function (name, value) {\n\t      if (name in hash) {\n\t        hash[name] && !isArray(hash[name]) && (hash[name] = [hash[name]])\n\t        hash[name].push(value)\n\t      } else hash[name] = value\n\t    }, arguments)\n\t    return hash\n\t  }\n\n\t  reqwest.serializeArray = function () {\n\t    var arr = []\n\t    eachFormElement.apply(function (name, value) {\n\t      arr.push({name: name, value: value})\n\t    }, arguments)\n\t    return arr\n\t  }\n\n\t\t  reqwest.serialize = function () {\n\t    if (arguments.length === 0) return ''\n\t    var opt, fn\n\t      , args = Array.prototype.slice.call(arguments, 0)\n\n\t\t    opt = args.pop()\n\t    opt && opt.nodeType && args.push(opt) && (opt = null)\n\t    opt && (opt = opt.type)\n\n\t\t    if (opt == 'map') fn = serializeHash\n\t    else if (opt == 'array') fn = reqwest.serializeArray\n\t    else fn = serializeQueryString\n\n\t\t    return fn.apply(null, args)\n\t  }\n\n\t\t  reqwest.toQueryString = function (o, trad) {\n\t    var prefix, i\n\t      , traditional = trad || false\n\t      , s = []\n\t      , enc = encodeURIComponent\n\t      , add = function (key, value) {\n\t          value = ('function' === typeof value) ? value() : (value == null ? '' : value)\n\t          s[s.length] = enc(key) + '=' + enc(value)\n\t        }\n\t    if (isArray(o)) {\n\t      for (i = 0; o && i < o.length; i++) add(o[i]['name'], o[i]['value'])\n\t    } else {\n\t      for (prefix in o) {\n\t        if (o.hasOwnProperty(prefix)) buildParams(prefix, o[prefix], traditional, add)\n\t      }\n\t    }\n\n\t    return s.join('&').replace(/%20/g, '+')\n\t  }\n\n\t\t  function buildParams(prefix, obj, traditional, add) {\n\t    var name, i, v\n\t      , rbracket = /\\[\\]$/\n\n\t\t    if (isArray(obj)) {\n\t      for (i = 0; obj && i < obj.length; i++) {\n\t        v = obj[i]\n\t        if (traditional || rbracket.test(prefix)) {\n\t          add(prefix, v)\n\t        } else {\n\t          buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, traditional, add)\n\t        }\n\t      }\n\t    } else if (obj && obj.toString() === '[object Object]') {\n\t      for (name in obj) {\n\t        buildParams(prefix + '[' + name + ']', obj[name], traditional, add)\n\t      }\n\n\t\t    } else {\n\t      add(prefix, obj)\n\t    }\n\t  }\n\n\t\t  reqwest.getcallbackPrefix = function () {\n\t    return callbackPrefix\n\t  }\n\n\t  reqwest.compat = function (o, fn) {\n\t    if (o) {\n\t      o['type'] && (o['method'] = o['type']) && delete o['type']\n\t      o['dataType'] && (o['type'] = o['dataType'])\n\t      o['jsonpCallback'] && (o['jsonpCallbackName'] = o['jsonpCallback']) && delete o['jsonpCallback']\n\t      o['jsonp'] && (o['jsonpCallback'] = o['jsonp'])\n\t    }\n\t    return new Reqwest(o, fn)\n\t  }\n\n\t\t  reqwest.ajaxSetup = function (options) {\n\t    options = options || {}\n\t    for (var k in options) {\n\t      globalSetupOptions[k] = options[k]\n\t    }\n\t  }\n\n\t\t  return reqwest\n\t});\n\n\n },\n function(module, exports) {\n\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _topojson2 = __webpack_require__(60);\n\n\t\tvar _topojson3 = _interopRequireDefault(_topojson2);\n\n\t\tvar _geojsonMerge = __webpack_require__(61);\n\n\t\tvar _geojsonMerge2 = _interopRequireDefault(_geojsonMerge);\n\n\t\tvar _earcut = __webpack_require__(63);\n\n\t\tvar _earcut2 = _interopRequireDefault(_earcut);\n\n\t\tvar _extrudePolygon = __webpack_require__(64);\n\n\t\tvar _extrudePolygon2 = _interopRequireDefault(_extrudePolygon);\n\n\n\tvar light = new _three2['default'].Color(0xffffff);\n\tvar shadow = new _three2['default'].Color(0x666666);\n\n\t\tvar GeoJSON = (function () {\n\t  var defaultStyle = {\n\t    color: '#ffffff',\n\t    height: 0,\n\t    lineOpacity: 1,\n\t    lineTransparent: false,\n\t    lineColor: '#ffffff',\n\t    lineWidth: 1,\n\t    lineBlending: _three2['default'].NormalBlending\n\t  };\n\n\t  var mergeFeatures = function mergeFeatures(data, _topojson) {\n\t    var collections = [];\n\n\t\t    if (_topojson) {\n\n\t      for (var tk in data.objects) {\n\t        collections.push(_topojson3['default'].feature(data, data.objects[tk]));\n\t      }\n\n\t\t      return (0, _geojsonMerge2['default'])(collections);\n\t    } else {\n\t      if (!data.type) {\n\n\t        for (var gk in data) {\n\t          if (!data[gk].type) {\n\t            continue;\n\t          }\n\n\t\t          collections.push(data[gk]);\n\t        }\n\n\t\t        return (0, _geojsonMerge2['default'])(collections);\n\t      } else if (Array.isArray(data)) {\n\t        return (0, _geojsonMerge2['default'])(data);\n\t      } else {\n\t        return data;\n\t      }\n\t    }\n\t  };\n\n\t\t  var lineStringAttributes = function lineStringAttributes(coordinates, colour, height) {\n\t    var _coords = [];\n\t    var _colours = [];\n\n\t\t    var nextCoord;\n\n\t    coordinates.forEach(function (coordinate, index) {\n\t      _colours.push([colour.r, colour.g, colour.b]);\n\t      _coords.push([coordinate[0], height, coordinate[1]]);\n\n\t\t      nextCoord = coordinates[index + 1] ? coordinates[index + 1] : coordinate;\n\n\t\t      _colours.push([colour.r, colour.g, colour.b]);\n\t      _coords.push([nextCoord[0], height, nextCoord[1]]);\n\t    });\n\n\t\t    return {\n\t      vertices: _coords,\n\t      colours: _colours\n\t    };\n\t  };\n\n\t\t  var multiLineStringAttributes = function multiLineStringAttributes(coordinates, colour, height) {\n\t    var _coords = [];\n\t    var _colours = [];\n\n\t\t    var result;\n\t    coordinates.forEach(function (coordinate) {\n\t      result = lineStringAttributes(coordinate, colour, height);\n\n\t\t      result.vertices.forEach(function (coord) {\n\t        _coords.push(coord);\n\t      });\n\n\t\t      result.colours.forEach(function (colour) {\n\t        _colours.push(colour);\n\t      });\n\t    });\n\n\t\t    return {\n\t      vertices: _coords,\n\t      colours: _colours\n\t    };\n\t  };\n\n\t\t  var polygonAttributes = function polygonAttributes(coordinates, colour, height) {\n\t    var earcutData = _toEarcut(coordinates);\n\n\t\t    var faces = _triangulate(earcutData.vertices, earcutData.holes, earcutData.dimensions);\n\n\t\t    var groupedVertices = [];\n\t    for (i = 0, il = earcutData.vertices.length; i < il; i += earcutData.dimensions) {\n\t      groupedVertices.push(earcutData.vertices.slice(i, i + earcutData.dimensions));\n\t    }\n\n\t\t    var extruded = (0, _extrudePolygon2['default'])(groupedVertices, faces, {\n\t      bottom: 0,\n\t      top: height\n\t    });\n\n\t\t    var topColor = colour.clone().multiply(light);\n\t    var bottomColor = colour.clone().multiply(shadow);\n\n\t\t    var _vertices = extruded.positions;\n\t    var _faces = [];\n\t    var _colours = [];\n\n\t\t    var _colour;\n\t    extruded.top.forEach(function (face, fi) {\n\t      _colour = [];\n\n\t\t      _colour.push([colour.r, colour.g, colour.b]);\n\t      _colour.push([colour.r, colour.g, colour.b]);\n\t      _colour.push([colour.r, colour.g, colour.b]);\n\n\t\t      _faces.push(face);\n\t      _colours.push(_colour);\n\t    });\n\n\t\t    var allFlat = true;\n\n\t\t    if (extruded.sides) {\n\t      if (allFlat) {\n\t        allFlat = false;\n\t      }\n\n\t      extruded.sides.forEach(function (face, fi) {\n\t        _colour = [];\n\n\t        if (fi % 2 === 0) {\n\t          _colour.push([bottomColor.r, bottomColor.g, bottomColor.b]);\n\t          _colour.push([bottomColor.r, bottomColor.g, bottomColor.b]);\n\t          _colour.push([topColor.r, topColor.g, topColor.b]);\n\t        } else {\n\t            _colour.push([topColor.r, topColor.g, topColor.b]);\n\t            _colour.push([topColor.r, topColor.g, topColor.b]);\n\t            _colour.push([bottomColor.r, bottomColor.g, bottomColor.b]);\n\t          }\n\n\t\t        _faces.push(face);\n\t        _colours.push(_colour);\n\t      });\n\t    }\n\n\n\t\t    return {\n\t      vertices: _vertices,\n\t      faces: _faces,\n\t      colours: _colours,\n\t      flat: allFlat\n\t    };\n\t  };\n\n\t\t  var _toEarcut = function _toEarcut(data) {\n\t    var dim = data[0][0].length;\n\t    var result = { vertices: [], holes: [], dimensions: dim };\n\t    var holeIndex = 0;\n\n\t\t    for (var i = 0; i < data.length; i++) {\n\t      for (var j = 0; j < data[i].length; j++) {\n\t        for (var d = 0; d < dim; d++) {\n\t          result.vertices.push(data[i][j][d]);\n\t        }\n\t      }\n\t      if (i > 0) {\n\t        holeIndex += data[i - 1].length;\n\t        result.holes.push(holeIndex);\n\t      }\n\t    }\n\n\t\t    return result;\n\t  };\n\n\t\t  var _triangulate = function _triangulate(contour, holes, dim) {\n\n\t\t    var faces = (0, _earcut2['default'])(contour, holes, dim);\n\t    var result = [];\n\n\t\t    for (i = 0, il = faces.length; i < il; i += 3) {\n\t      result.push(faces.slice(i, i + 3));\n\t    }\n\n\n\t\t    return result;\n\t  };\n\n\t\t  return {\n\t    defaultStyle: defaultStyle,\n\t    mergeFeatures: mergeFeatures,\n\t    lineStringAttributes: lineStringAttributes,\n\t    multiLineStringAttributes: multiLineStringAttributes,\n\t    polygonAttributes: polygonAttributes\n\t  };\n\t})();\n\n\t\texports['default'] = GeoJSON;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\t(function (global, factory) {\n\t   true ? factory(exports) :\n\t  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t  (factory((global.topojson = {})));\n\t}(this, function (exports) { 'use strict';\n\n\t\t  function noop() {}\n\n\t\t  function absolute(transform) {\n\t    if (!transform) return noop;\n\t    var x0,\n\t        y0,\n\t        kx = transform.scale[0],\n\t        ky = transform.scale[1],\n\t        dx = transform.translate[0],\n\t        dy = transform.translate[1];\n\t    return function(point, i) {\n\t      if (!i) x0 = y0 = 0;\n\t      point[0] = (x0 += point[0]) * kx + dx;\n\t      point[1] = (y0 += point[1]) * ky + dy;\n\t    };\n\t  }\n\n\t\t  function relative(transform) {\n\t    if (!transform) return noop;\n\t    var x0,\n\t        y0,\n\t        kx = transform.scale[0],\n\t        ky = transform.scale[1],\n\t        dx = transform.translate[0],\n\t        dy = transform.translate[1];\n\t    return function(point, i) {\n\t      if (!i) x0 = y0 = 0;\n\t      var x1 = (point[0] - dx) / kx | 0,\n\t          y1 = (point[1] - dy) / ky | 0;\n\t      point[0] = x1 - x0;\n\t      point[1] = y1 - y0;\n\t      x0 = x1;\n\t      y0 = y1;\n\t    };\n\t  }\n\n\t\t  function reverse(array, n) {\n\t    var t, j = array.length, i = j - n;\n\t    while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n\t  }\n\n\t\t  function bisect(a, x) {\n\t    var lo = 0, hi = a.length;\n\t    while (lo < hi) {\n\t      var mid = lo + hi >>> 1;\n\t      if (a[mid] < x) lo = mid + 1;\n\t      else hi = mid;\n\t    }\n\t    return lo;\n\t  }\n\n\t\t  function feature(topology, o) {\n\t    return o.type === \"GeometryCollection\" ? {\n\t      type: \"FeatureCollection\",\n\t      features: o.geometries.map(function(o) { return feature$1(topology, o); })\n\t    } : feature$1(topology, o);\n\t  }\n\n\t\t  function feature$1(topology, o) {\n\t    var f = {\n\t      type: \"Feature\",\n\t      id: o.id,\n\t      properties: o.properties || {},\n\t      geometry: object(topology, o)\n\t    };\n\t    if (o.id == null) delete f.id;\n\t    return f;\n\t  }\n\n\t\t  function object(topology, o) {\n\t    var absolute$$ = absolute(topology.transform),\n\t        arcs = topology.arcs;\n\n\t\t    function arc(i, points) {\n\t      if (points.length) points.pop();\n\t      for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length, p; k < n; ++k) {\n\t        points.push(p = a[k].slice());\n\t        absolute$$(p, k);\n\t      }\n\t      if (i < 0) reverse(points, n);\n\t    }\n\n\t\t    function point(p) {\n\t      p = p.slice();\n\t      absolute$$(p, 0);\n\t      return p;\n\t    }\n\n\t\t    function line(arcs) {\n\t      var points = [];\n\t      for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n\t      if (points.length < 2) points.push(points[0].slice());\n\t      return points;\n\t    }\n\n\t\t    function ring(arcs) {\n\t      var points = line(arcs);\n\t      while (points.length < 4) points.push(points[0].slice());\n\t      return points;\n\t    }\n\n\t\t    function polygon(arcs) {\n\t      return arcs.map(ring);\n\t    }\n\n\t\t    function geometry(o) {\n\t      var t = o.type;\n\t      return t === \"GeometryCollection\" ? {type: t, geometries: o.geometries.map(geometry)}\n\t          : t in geometryType ? {type: t, coordinates: geometryType[t](o)}\n\t          : null;\n\t    }\n\n\t\t    var geometryType = {\n\t      Point: function(o) { return point(o.coordinates); },\n\t      MultiPoint: function(o) { return o.coordinates.map(point); },\n\t      LineString: function(o) { return line(o.arcs); },\n\t      MultiLineString: function(o) { return o.arcs.map(line); },\n\t      Polygon: function(o) { return polygon(o.arcs); },\n\t      MultiPolygon: function(o) { return o.arcs.map(polygon); }\n\t    };\n\n\t\t    return geometry(o);\n\t  }\n\n\t\t  function stitchArcs(topology, arcs) {\n\t    var stitchedArcs = {},\n\t        fragmentByStart = {},\n\t        fragmentByEnd = {},\n\t        fragments = [],\n\t        emptyIndex = -1;\n\n\t    arcs.forEach(function(i, j) {\n\t      var arc = topology.arcs[i < 0 ? ~i : i], t;\n\t      if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n\t        t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n\t      }\n\t    });\n\n\t\t    arcs.forEach(function(i) {\n\t      var e = ends(i),\n\t          start = e[0],\n\t          end = e[1],\n\t          f, g;\n\n\t\t      if (f = fragmentByEnd[start]) {\n\t        delete fragmentByEnd[f.end];\n\t        f.push(i);\n\t        f.end = end;\n\t        if (g = fragmentByStart[end]) {\n\t          delete fragmentByStart[g.start];\n\t          var fg = g === f ? f : f.concat(g);\n\t          fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n\t        } else {\n\t          fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n\t        }\n\t      } else if (f = fragmentByStart[end]) {\n\t        delete fragmentByStart[f.start];\n\t        f.unshift(i);\n\t        f.start = start;\n\t        if (g = fragmentByEnd[start]) {\n\t          delete fragmentByEnd[g.end];\n\t          var gf = g === f ? f : g.concat(f);\n\t          fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n\t        } else {\n\t          fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n\t        }\n\t      } else {\n\t        f = [i];\n\t        fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n\t      }\n\t    });\n\n\t\t    function ends(i) {\n\t      var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n\t      if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n\t      else p1 = arc[arc.length - 1];\n\t      return i < 0 ? [p1, p0] : [p0, p1];\n\t    }\n\n\t\t    function flush(fragmentByEnd, fragmentByStart) {\n\t      for (var k in fragmentByEnd) {\n\t        var f = fragmentByEnd[k];\n\t        delete fragmentByStart[f.start];\n\t        delete f.start;\n\t        delete f.end;\n\t        f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n\t        fragments.push(f);\n\t      }\n\t    }\n\n\t\t    flush(fragmentByEnd, fragmentByStart);\n\t    flush(fragmentByStart, fragmentByEnd);\n\t    arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n\t\t    return fragments;\n\t  }\n\n\t\t  function mesh(topology) {\n\t    return object(topology, meshArcs.apply(this, arguments));\n\t  }\n\n\t\t  function meshArcs(topology, o, filter) {\n\t    var arcs = [];\n\n\t\t    function arc(i) {\n\t      var j = i < 0 ? ~i : i;\n\t      (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n\t    }\n\n\t\t    function line(arcs) {\n\t      arcs.forEach(arc);\n\t    }\n\n\t\t    function polygon(arcs) {\n\t      arcs.forEach(line);\n\t    }\n\n\t\t    function geometry(o) {\n\t      if (o.type === \"GeometryCollection\") o.geometries.forEach(geometry);\n\t      else if (o.type in geometryType) geom = o, geometryType[o.type](o.arcs);\n\t    }\n\n\t\t    if (arguments.length > 1) {\n\t      var geomsByArc = [],\n\t          geom;\n\n\t\t      var geometryType = {\n\t        LineString: line,\n\t        MultiLineString: polygon,\n\t        Polygon: polygon,\n\t        MultiPolygon: function(arcs) { arcs.forEach(polygon); }\n\t      };\n\n\t\t      geometry(o);\n\n\t\t      geomsByArc.forEach(arguments.length < 3\n\t          ? function(geoms) { arcs.push(geoms[0].i); }\n\t          : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\t    } else {\n\t      for (var i = 0, n = topology.arcs.length; i < n; ++i) arcs.push(i);\n\t    }\n\n\t\t    return {type: \"MultiLineString\", arcs: stitchArcs(topology, arcs)};\n\t  }\n\n\t\t  function triangle(triangle) {\n\t    var a = triangle[0], b = triangle[1], c = triangle[2];\n\t    return Math.abs((a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]));\n\t  }\n\n\t\t  function ring(ring) {\n\t    var i = -1,\n\t        n = ring.length,\n\t        a,\n\t        b = ring[n - 1],\n\t        area = 0;\n\n\t\t    while (++i < n) {\n\t      a = b;\n\t      b = ring[i];\n\t      area += a[0] * b[1] - a[1] * b[0];\n\t    }\n\n\t\t    return area / 2;\n\t  }\n\n\t\t  function merge(topology) {\n\t    return object(topology, mergeArcs.apply(this, arguments));\n\t  }\n\n\t\t  function mergeArcs(topology, objects) {\n\t    var polygonsByArc = {},\n\t        polygons = [],\n\t        components = [];\n\n\t\t    objects.forEach(function(o) {\n\t      if (o.type === \"Polygon\") register(o.arcs);\n\t      else if (o.type === \"MultiPolygon\") o.arcs.forEach(register);\n\t    });\n\n\t\t    function register(polygon) {\n\t      polygon.forEach(function(ring$$) {\n\t        ring$$.forEach(function(arc) {\n\t          (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n\t        });\n\t      });\n\t      polygons.push(polygon);\n\t    }\n\n\t\t    function exterior(ring$$) {\n\t      return ring(object(topology, {type: \"Polygon\", arcs: [ring$$]}).coordinates[0]) > 0; \n\t    }\n\n\t\t    polygons.forEach(function(polygon) {\n\t      if (!polygon._) {\n\t        var component = [],\n\t            neighbors = [polygon];\n\t        polygon._ = 1;\n\t        components.push(component);\n\t        while (polygon = neighbors.pop()) {\n\t          component.push(polygon);\n\t          polygon.forEach(function(ring$$) {\n\t            ring$$.forEach(function(arc) {\n\t              polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n\t                if (!polygon._) {\n\t                  polygon._ = 1;\n\t                  neighbors.push(polygon);\n\t                }\n\t              });\n\t            });\n\t          });\n\t        }\n\t      }\n\t    });\n\n\t\t    polygons.forEach(function(polygon) {\n\t      delete polygon._;\n\t    });\n\n\t\t    return {\n\t      type: \"MultiPolygon\",\n\t      arcs: components.map(function(polygons) {\n\t        var arcs = [], n;\n\n\t        polygons.forEach(function(polygon) {\n\t          polygon.forEach(function(ring$$) {\n\t            ring$$.forEach(function(arc) {\n\t              if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n\t                arcs.push(arc);\n\t              }\n\t            });\n\t          });\n\t        });\n\n\t        arcs = stitchArcs(topology, arcs);\n\n\t        if ((n = arcs.length) > 1) {\n\t          var sgn = exterior(polygons[0][0]);\n\t          for (var i = 0, t; i < n; ++i) {\n\t            if (sgn === exterior(arcs[i])) {\n\t              t = arcs[0], arcs[0] = arcs[i], arcs[i] = t;\n\t              break;\n\t            }\n\t          }\n\t        }\n\n\t\t        return arcs;\n\t      })\n\t    };\n\t  }\n\n\t\t  function neighbors(objects) {\n\t    var indexesByArc = {}, \n\t        neighbors = objects.map(function() { return []; });\n\n\t\t    function line(arcs, i) {\n\t      arcs.forEach(function(a) {\n\t        if (a < 0) a = ~a;\n\t        var o = indexesByArc[a];\n\t        if (o) o.push(i);\n\t        else indexesByArc[a] = [i];\n\t      });\n\t    }\n\n\t\t    function polygon(arcs, i) {\n\t      arcs.forEach(function(arc) { line(arc, i); });\n\t    }\n\n\t\t    function geometry(o, i) {\n\t      if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) { geometry(o, i); });\n\t      else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n\t    }\n\n\t\t    var geometryType = {\n\t      LineString: line,\n\t      MultiLineString: polygon,\n\t      Polygon: polygon,\n\t      MultiPolygon: function(arcs, i) { arcs.forEach(function(arc) { polygon(arc, i); }); }\n\t    };\n\n\t\t    objects.forEach(geometry);\n\n\t\t    for (var i in indexesByArc) {\n\t      for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n\t        for (var k = j + 1; k < m; ++k) {\n\t          var ij = indexes[j], ik = indexes[k], n;\n\t          if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n\t          if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n\t        }\n\t      }\n\t    }\n\n\t\t    return neighbors;\n\t  }\n\n\t\t  function compareArea(a, b) {\n\t    return a[1][2] - b[1][2];\n\t  }\n\n\t\t  function minAreaHeap() {\n\t    var heap = {},\n\t        array = [],\n\t        size = 0;\n\n\t\t    heap.push = function(object) {\n\t      up(array[object._ = size] = object, size++);\n\t      return size;\n\t    };\n\n\t\t    heap.pop = function() {\n\t      if (size <= 0) return;\n\t      var removed = array[0], object;\n\t      if (--size > 0) object = array[size], down(array[object._ = 0] = object, 0);\n\t      return removed;\n\t    };\n\n\t\t    heap.remove = function(removed) {\n\t      var i = removed._, object;\n\t      if (array[i] !== removed) return; \n\t      if (i !== --size) object = array[size], (compareArea(object, removed) < 0 ? up : down)(array[object._ = i] = object, i);\n\t      return i;\n\t    };\n\n\t\t    function up(object, i) {\n\t      while (i > 0) {\n\t        var j = ((i + 1) >> 1) - 1,\n\t            parent = array[j];\n\t        if (compareArea(object, parent) >= 0) break;\n\t        array[parent._ = i] = parent;\n\t        array[object._ = i = j] = object;\n\t      }\n\t    }\n\n\t\t    function down(object, i) {\n\t      while (true) {\n\t        var r = (i + 1) << 1,\n\t            l = r - 1,\n\t            j = i,\n\t            child = array[j];\n\t        if (l < size && compareArea(array[l], child) < 0) child = array[j = l];\n\t        if (r < size && compareArea(array[r], child) < 0) child = array[j = r];\n\t        if (j === i) break;\n\t        array[child._ = i] = child;\n\t        array[object._ = i = j] = object;\n\t      }\n\t    }\n\n\t\t    return heap;\n\t  }\n\n\t\t  function presimplify(topology, triangleArea) {\n\t    var absolute$$ = absolute(topology.transform),\n\t        relative$$ = relative(topology.transform),\n\t        heap = minAreaHeap();\n\n\t\t    if (!triangleArea) triangleArea = triangle;\n\n\t\t    topology.arcs.forEach(function(arc) {\n\t      var triangles = [],\n\t          maxArea = 0,\n\t          triangle,\n\t          i,\n\t          n,\n\t          p;\n\n\t      for (i = 0, n = arc.length; i < n; ++i) {\n\t        p = arc[i];\n\t        absolute$$(arc[i] = [p[0], p[1], Infinity], i);\n\t      }\n\n\t\t      for (i = 1, n = arc.length - 1; i < n; ++i) {\n\t        triangle = arc.slice(i - 1, i + 2);\n\t        triangle[1][2] = triangleArea(triangle);\n\t        triangles.push(triangle);\n\t        heap.push(triangle);\n\t      }\n\n\t\t      for (i = 0, n = triangles.length; i < n; ++i) {\n\t        triangle = triangles[i];\n\t        triangle.previous = triangles[i - 1];\n\t        triangle.next = triangles[i + 1];\n\t      }\n\n\t\t      while (triangle = heap.pop()) {\n\t        var previous = triangle.previous,\n\t            next = triangle.next;\n\n\t        if (triangle[1][2] < maxArea) triangle[1][2] = maxArea;\n\t        else maxArea = triangle[1][2];\n\n\t\t        if (previous) {\n\t          previous.next = next;\n\t          previous[2] = triangle[2];\n\t          update(previous);\n\t        }\n\n\t\t        if (next) {\n\t          next.previous = previous;\n\t          next[0] = triangle[0];\n\t          update(next);\n\t        }\n\t      }\n\n\t\t      arc.forEach(relative$$);\n\t    });\n\n\t\t    function update(triangle) {\n\t      heap.remove(triangle);\n\t      triangle[1][2] = triangleArea(triangle);\n\t      heap.push(triangle);\n\t    }\n\n\t\t    return topology;\n\t  }\n\n\t\t  var version = \"1.6.24\";\n\n\t\t  exports.version = version;\n\t  exports.mesh = mesh;\n\t  exports.meshArcs = meshArcs;\n\t  exports.merge = merge;\n\t  exports.mergeArcs = mergeArcs;\n\t  exports.feature = feature;\n\t  exports.neighbors = neighbors;\n\t  exports.presimplify = presimplify;\n\n\t\t}));\n\n },\n function(module, exports, __webpack_require__) {\n\n\tvar normalize = __webpack_require__(62);\n\n\t\tmodule.exports = function(inputs) {\n\t    return {\n\t        type: 'FeatureCollection',\n\t        features: inputs.reduce(function(memo, input) {\n\t            return memo.concat(normalize(input).features);\n\t        }, [])\n\t    };\n\t};\n\n\n },\n function(module, exports) {\n\n\tmodule.exports = normalize;\n\n\t\tvar types = {\n\t    Point: 'geometry',\n\t    MultiPoint: 'geometry',\n\t    LineString: 'geometry',\n\t    MultiLineString: 'geometry',\n\t    Polygon: 'geometry',\n\t    MultiPolygon: 'geometry',\n\t    GeometryCollection: 'geometry',\n\t    Feature: 'feature',\n\t    FeatureCollection: 'featurecollection'\n\t};\n\n\tfunction normalize(gj) {\n\t    if (!gj || !gj.type) return null;\n\t    var type = types[gj.type];\n\t    if (!type) return null;\n\n\t\t    if (type === 'geometry') {\n\t        return {\n\t            type: 'FeatureCollection',\n\t            features: [{\n\t                type: 'Feature',\n\t                properties: {},\n\t                geometry: gj\n\t            }]\n\t        };\n\t    } else if (type === 'feature') {\n\t        return {\n\t            type: 'FeatureCollection',\n\t            features: [gj]\n\t        };\n\t    } else if (type === 'featurecollection') {\n\t        return gj;\n\t    }\n\t}\n\n\n },\n function(module, exports) {\n\n\t'use strict';\n\n\t\tmodule.exports = earcut;\n\n\t\tfunction earcut(data, holeIndices, dim) {\n\n\t\t    dim = dim || 2;\n\n\t\t    var hasHoles = holeIndices && holeIndices.length,\n\t        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n\t        outerNode = linkedList(data, 0, outerLen, dim, true),\n\t        triangles = [];\n\n\t\t    if (!outerNode) return triangles;\n\n\t\t    var minX, minY, maxX, maxY, x, y, size;\n\n\t\t    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n\t    if (data.length > 80 * dim) {\n\t        minX = maxX = data[0];\n\t        minY = maxY = data[1];\n\n\t\t        for (var i = dim; i < outerLen; i += dim) {\n\t            x = data[i];\n\t            y = data[i + 1];\n\t            if (x < minX) minX = x;\n\t            if (y < minY) minY = y;\n\t            if (x > maxX) maxX = x;\n\t            if (y > maxY) maxY = y;\n\t        }\n\n\t        size = Math.max(maxX - minX, maxY - minY);\n\t    }\n\n\t\t    earcutLinked(outerNode, triangles, dim, minX, minY, size);\n\n\t\t    return triangles;\n\t}\n\n\tfunction linkedList(data, start, end, dim, clockwise) {\n\t    var sum = 0,\n\t        i, j, last;\n\n\t    for (i = start, j = end - dim; i < end; i += dim) {\n\t        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n\t        j = i;\n\t    }\n\n\t    if (clockwise === (sum > 0)) {\n\t        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n\t    } else {\n\t        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n\t    }\n\n\t\t    return last;\n\t}\n\n\tfunction filterPoints(start, end) {\n\t    if (!start) return start;\n\t    if (!end) end = start;\n\n\t\t    var p = start,\n\t        again;\n\t    do {\n\t        again = false;\n\n\t\t        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n\t            removeNode(p);\n\t            p = end = p.prev;\n\t            if (p === p.next) return null;\n\t            again = true;\n\n\t\t        } else {\n\t            p = p.next;\n\t        }\n\t    } while (again || p !== end);\n\n\t\t    return end;\n\t}\n\n\tfunction earcutLinked(ear, triangles, dim, minX, minY, size, pass) {\n\t    if (!ear) return;\n\n\t    if (!pass && size) indexCurve(ear, minX, minY, size);\n\n\t\t    var stop = ear,\n\t        prev, next;\n\n\t    while (ear.prev !== ear.next) {\n\t        prev = ear.prev;\n\t        next = ear.next;\n\n\t\t        if (size ? isEarHashed(ear, minX, minY, size) : isEar(ear)) {\n\t            triangles.push(prev.i / dim);\n\t            triangles.push(ear.i / dim);\n\t            triangles.push(next.i / dim);\n\n\t\t            removeNode(ear);\n\n\t            ear = next.next;\n\t            stop = next.next;\n\n\t\t            continue;\n\t        }\n\n\t\t        ear = next;\n\n\t        if (ear === stop) {\n\t            if (!pass) {\n\t                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, size, 1);\n\n\t            } else if (pass === 1) {\n\t                ear = cureLocalIntersections(ear, triangles, dim);\n\t                earcutLinked(ear, triangles, dim, minX, minY, size, 2);\n\n\t            } else if (pass === 2) {\n\t                splitEarcut(ear, triangles, dim, minX, minY, size);\n\t            }\n\n\t\t            break;\n\t        }\n\t    }\n\t}\n\n\tfunction isEar(ear) {\n\t    var a = ear.prev,\n\t        b = ear,\n\t        c = ear.next;\n\n\t\t    if (area(a, b, c) >= 0) return false; \n\n\t    var p = ear.next.next;\n\n\t\t    while (p !== ear.prev) {\n\t        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n\t            area(p.prev, p, p.next) >= 0) return false;\n\t        p = p.next;\n\t    }\n\n\t\t    return true;\n\t}\n\n\t\tfunction isEarHashed(ear, minX, minY, size) {\n\t    var a = ear.prev,\n\t        b = ear,\n\t        c = ear.next;\n\n\t\t    if (area(a, b, c) >= 0) return false; \n\n\t    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n\t        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n\t        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n\t        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n\t    var minZ = zOrder(minTX, minTY, minX, minY, size),\n\t        maxZ = zOrder(maxTX, maxTY, minX, minY, size);\n\n\t    var p = ear.nextZ;\n\n\t\t    while (p && p.z <= maxZ) {\n\t        if (p !== ear.prev && p !== ear.next &&\n\t            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n\t            area(p.prev, p, p.next) >= 0) return false;\n\t        p = p.nextZ;\n\t    }\n\n\t    p = ear.prevZ;\n\n\t\t    while (p && p.z >= minZ) {\n\t        if (p !== ear.prev && p !== ear.next &&\n\t            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n\t            area(p.prev, p, p.next) >= 0) return false;\n\t        p = p.prevZ;\n\t    }\n\n\t\t    return true;\n\t}\n\n\tfunction cureLocalIntersections(start, triangles, dim) {\n\t    var p = start;\n\t    do {\n\t        var a = p.prev,\n\t            b = p.next.next;\n\n\t        if (intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n\t\t            triangles.push(a.i / dim);\n\t            triangles.push(p.i / dim);\n\t            triangles.push(b.i / dim);\n\n\t            removeNode(p);\n\t            removeNode(p.next);\n\n\t\t            p = start = b;\n\t        }\n\t        p = p.next;\n\t    } while (p !== start);\n\n\t\t    return p;\n\t}\n\n\tfunction splitEarcut(start, triangles, dim, minX, minY, size) {\n\t    var a = start;\n\t    do {\n\t        var b = a.next.next;\n\t        while (b !== a.prev) {\n\t            if (a.i !== b.i && isValidDiagonal(a, b)) {\n\t                var c = splitPolygon(a, b);\n\n\t                a = filterPoints(a, a.next);\n\t                c = filterPoints(c, c.next);\n\n\t                earcutLinked(a, triangles, dim, minX, minY, size);\n\t                earcutLinked(c, triangles, dim, minX, minY, size);\n\t                return;\n\t            }\n\t            b = b.next;\n\t        }\n\t        a = a.next;\n\t    } while (a !== start);\n\t}\n\n\tfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n\t    var queue = [],\n\t        i, len, start, end, list;\n\n\t\t    for (i = 0, len = holeIndices.length; i < len; i++) {\n\t        start = holeIndices[i] * dim;\n\t        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n\t        list = linkedList(data, start, end, dim, false);\n\t        if (list === list.next) list.steiner = true;\n\t        queue.push(getLeftmost(list));\n\t    }\n\n\t\t    queue.sort(compareX);\n\n\t    for (i = 0; i < queue.length; i++) {\n\t        eliminateHole(queue[i], outerNode);\n\t        outerNode = filterPoints(outerNode, outerNode.next);\n\t    }\n\n\t\t    return outerNode;\n\t}\n\n\t\tfunction compareX(a, b) {\n\t    return a.x - b.x;\n\t}\n\n\tfunction eliminateHole(hole, outerNode) {\n\t    outerNode = findHoleBridge(hole, outerNode);\n\t    if (outerNode) {\n\t        var b = splitPolygon(outerNode, hole);\n\t        filterPoints(b, b.next);\n\t    }\n\t}\n\n\tfunction findHoleBridge(hole, outerNode) {\n\t    var p = outerNode,\n\t        hx = hole.x,\n\t        hy = hole.y,\n\t        qx = -Infinity,\n\t        m;\n\n\t    do {\n\t        if (hy <= p.y && hy >= p.next.y) {\n\t            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n\t            if (x <= hx && x > qx) {\n\t                qx = x;\n\t                m = p.x < p.next.x ? p : p.next;\n\t            }\n\t        }\n\t        p = p.next;\n\t    } while (p !== outerNode);\n\n\t\t    if (!m) return null;\n\n\t\t    if (hole.x === m.x) return m.prev; \n\n\n\t\t    var stop = m,\n\t        tanMin = Infinity,\n\t        tan;\n\n\t\t    p = m.next;\n\n\t\t    while (p !== stop) {\n\t        if (hx >= p.x && p.x >= m.x &&\n\t                pointInTriangle(hy < m.y ? hx : qx, hy, m.x, m.y, hy < m.y ? qx : hx, hy, p.x, p.y)) {\n\n\t\t            tan = Math.abs(hy - p.y) / (hx - p.x); \n\n\t\t            if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {\n\t                m = p;\n\t                tanMin = tan;\n\t            }\n\t        }\n\n\t\t        p = p.next;\n\t    }\n\n\t\t    return m;\n\t}\n\n\tfunction indexCurve(start, minX, minY, size) {\n\t    var p = start;\n\t    do {\n\t        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, size);\n\t        p.prevZ = p.prev;\n\t        p.nextZ = p.next;\n\t        p = p.next;\n\t    } while (p !== start);\n\n\t\t    p.prevZ.nextZ = null;\n\t    p.prevZ = null;\n\n\t\t    sortLinked(p);\n\t}\n\n\tfunction sortLinked(list) {\n\t    var i, p, q, e, tail, numMerges, pSize, qSize,\n\t        inSize = 1;\n\n\t\t    do {\n\t        p = list;\n\t        list = null;\n\t        tail = null;\n\t        numMerges = 0;\n\n\t\t        while (p) {\n\t            numMerges++;\n\t            q = p;\n\t            pSize = 0;\n\t            for (i = 0; i < inSize; i++) {\n\t                pSize++;\n\t                q = q.nextZ;\n\t                if (!q) break;\n\t            }\n\n\t\t            qSize = inSize;\n\n\t\t            while (pSize > 0 || (qSize > 0 && q)) {\n\n\t\t                if (pSize === 0) {\n\t                    e = q;\n\t                    q = q.nextZ;\n\t                    qSize--;\n\t                } else if (qSize === 0 || !q) {\n\t                    e = p;\n\t                    p = p.nextZ;\n\t                    pSize--;\n\t                } else if (p.z <= q.z) {\n\t                    e = p;\n\t                    p = p.nextZ;\n\t                    pSize--;\n\t                } else {\n\t                    e = q;\n\t                    q = q.nextZ;\n\t                    qSize--;\n\t                }\n\n\t\t                if (tail) tail.nextZ = e;\n\t                else list = e;\n\n\t\t                e.prevZ = tail;\n\t                tail = e;\n\t            }\n\n\t\t            p = q;\n\t        }\n\n\t\t        tail.nextZ = null;\n\t        inSize *= 2;\n\n\t\t    } while (numMerges > 1);\n\n\t\t    return list;\n\t}\n\n\tfunction zOrder(x, y, minX, minY, size) {\n\t    x = 32767 * (x - minX) / size;\n\t    y = 32767 * (y - minY) / size;\n\n\t\t    x = (x | (x << 8)) & 0x00FF00FF;\n\t    x = (x | (x << 4)) & 0x0F0F0F0F;\n\t    x = (x | (x << 2)) & 0x33333333;\n\t    x = (x | (x << 1)) & 0x55555555;\n\n\t\t    y = (y | (y << 8)) & 0x00FF00FF;\n\t    y = (y | (y << 4)) & 0x0F0F0F0F;\n\t    y = (y | (y << 2)) & 0x33333333;\n\t    y = (y | (y << 1)) & 0x55555555;\n\n\t\t    return x | (y << 1);\n\t}\n\n\tfunction getLeftmost(start) {\n\t    var p = start,\n\t        leftmost = start;\n\t    do {\n\t        if (p.x < leftmost.x) leftmost = p;\n\t        p = p.next;\n\t    } while (p !== start);\n\n\t\t    return leftmost;\n\t}\n\n\tfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n\t    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n\t           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n\t           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n\t}\n\n\tfunction isValidDiagonal(a, b) {\n\t    return equals(a, b) || a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) &&\n\t           locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);\n\t}\n\n\tfunction area(p, q, r) {\n\t    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n\t}\n\n\tfunction equals(p1, p2) {\n\t    return p1.x === p2.x && p1.y === p2.y;\n\t}\n\n\tfunction intersects(p1, q1, p2, q2) {\n\t    return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 &&\n\t           area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;\n\t}\n\n\tfunction intersectsPolygon(a, b) {\n\t    var p = a;\n\t    do {\n\t        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t                intersects(p, p.next, a, b)) return true;\n\t        p = p.next;\n\t    } while (p !== a);\n\n\t\t    return false;\n\t}\n\n\tfunction locallyInside(a, b) {\n\t    return area(a.prev, a, a.next) < 0 ?\n\t        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n\t        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n\t}\n\n\tfunction middleInside(a, b) {\n\t    var p = a,\n\t        inside = false,\n\t        px = (a.x + b.x) / 2,\n\t        py = (a.y + b.y) / 2;\n\t    do {\n\t        if (((p.y > py) !== (p.next.y > py)) && (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n\t            inside = !inside;\n\t        p = p.next;\n\t    } while (p !== a);\n\n\t\t    return inside;\n\t}\n\n\tfunction splitPolygon(a, b) {\n\t    var a2 = new Node(a.i, a.x, a.y),\n\t        b2 = new Node(b.i, b.x, b.y),\n\t        an = a.next,\n\t        bp = b.prev;\n\n\t\t    a.next = b;\n\t    b.prev = a;\n\n\t\t    a2.next = an;\n\t    an.prev = a2;\n\n\t\t    b2.next = a2;\n\t    a2.prev = b2;\n\n\t\t    bp.next = b2;\n\t    b2.prev = bp;\n\n\t\t    return b2;\n\t}\n\n\tfunction insertNode(i, x, y, last) {\n\t    var p = new Node(i, x, y);\n\n\t\t    if (!last) {\n\t        p.prev = p;\n\t        p.next = p;\n\n\t\t    } else {\n\t        p.next = last.next;\n\t        p.prev = last;\n\t        last.next.prev = p;\n\t        last.next = p;\n\t    }\n\t    return p;\n\t}\n\n\t\tfunction removeNode(p) {\n\t    p.next.prev = p.prev;\n\t    p.prev.next = p.next;\n\n\t\t    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n\t    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n\t}\n\n\t\tfunction Node(i, x, y) {\n\t    this.i = i;\n\n\t    this.x = x;\n\t    this.y = y;\n\n\t    this.prev = null;\n\t    this.next = null;\n\n\t    this.z = null;\n\n\t    this.prevZ = null;\n\t    this.nextZ = null;\n\n\t    this.steiner = false;\n\t}\n\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar extrudePolygon = function extrudePolygon(points, faces, _options) {\n\t  var defaults = {\n\t    top: 1,\n\t    bottom: 0,\n\t    closed: true\n\t  };\n\n\t\t  var options = (0, _lodashAssign2['default'])({}, defaults, _options);\n\n\t\t  var n = points.length;\n\t  var positions;\n\t  var cells;\n\t  var topCells;\n\t  var bottomCells;\n\t  var sideCells;\n\n\t  options.top === options.bottom ? flat() : full();\n\n\t\t  function flat() {\n\t    positions = points.map(function (p) {\n\t      return [p[0], options.top, p[1]];\n\t    });\n\t    cells = faces;\n\t    topCells = faces;\n\t  }\n\n\t\t  function full() {\n\t    positions = [];\n\t    points.forEach(function (p) {\n\t      positions.push([p[0], options.top, p[1]]);\n\t    });\n\t    points.forEach(function (p) {\n\t      positions.push([p[0], options.bottom, p[1]]);\n\t    });\n\n\t\t    cells = [];\n\t    for (var i = 0; i < n; i++) {\n\t      if (i === n - 1) {\n\t        cells.push([i + n, n, i]);\n\t        cells.push([0, i, n]);\n\t      } else {\n\t        cells.push([i + n, i + n + 1, i]);\n\t        cells.push([i + 1, i, i + n + 1]);\n\t      }\n\t    }\n\n\t\t    sideCells = [].concat(cells);\n\n\t\t    if (options.closed) {\n\t      var top = faces;\n\t      var bottom = top.map(function (p) {\n\t        return p.map(function (v) {\n\t          return v + n;\n\t        });\n\t      });\n\t      bottom = bottom.map(function (p) {\n\t        return [p[0], p[2], p[1]];\n\t      });\n\t      cells = cells.concat(top).concat(bottom);\n\n\t\t      topCells = top;\n\t      bottomCells = bottom;\n\t    }\n\t  }\n\n\t\t  return {\n\t    positions: positions,\n\t    faces: cells,\n\t    top: topCells,\n\t    bottom: bottomCells,\n\t    sides: sideCells\n\t  };\n\t};\n\n\t\texports['default'] = extrudePolygon;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar Buffer = (function () {\n\t  var createLineGeometry = function createLineGeometry(lines, offset) {\n\t    var geometry = new _three2['default'].BufferGeometry();\n\n\t\t    var vertices = new Float32Array(lines.verticesCount * 3);\n\t    var colours = new Float32Array(lines.verticesCount * 3);\n\n\t\t    var pickingIds;\n\t    if (lines.pickingIds) {\n\t      pickingIds = new Float32Array(lines.verticesCount);\n\t    }\n\n\t\t    var _vertices;\n\t    var _colour;\n\t    var _pickingId;\n\n\t\t    var lastIndex = 0;\n\n\t\t    for (var i = 0; i < lines.vertices.length; i++) {\n\t      _vertices = lines.vertices[i];\n\t      _colour = lines.colours[i];\n\n\t\t      if (pickingIds) {\n\t        _pickingId = lines.pickingIds[i];\n\t      }\n\n\t\t      for (var j = 0; j < _vertices.length; j++) {\n\t        var ax = _vertices[j][0] + offset.x;\n\t        var ay = _vertices[j][1];\n\t        var az = _vertices[j][2] + offset.y;\n\n\t\t        var c1 = _colour[j];\n\n\t\t        vertices[lastIndex * 3 + 0] = ax;\n\t        vertices[lastIndex * 3 + 1] = ay;\n\t        vertices[lastIndex * 3 + 2] = az;\n\n\t\t        colours[lastIndex * 3 + 0] = c1[0];\n\t        colours[lastIndex * 3 + 1] = c1[1];\n\t        colours[lastIndex * 3 + 2] = c1[2];\n\n\t\t        if (pickingIds) {\n\t          pickingIds[lastIndex] = _pickingId;\n\t        }\n\n\t\t        lastIndex++;\n\t      }\n\t    }\n\n\t    geometry.addAttribute('position', new _three2['default'].BufferAttribute(vertices, 3));\n\t    geometry.addAttribute('color', new _three2['default'].BufferAttribute(colours, 3));\n\n\t\t    if (pickingIds) {\n\t      geometry.addAttribute('pickingId', new _three2['default'].BufferAttribute(pickingIds, 1));\n\t    }\n\n\t\t    geometry.computeBoundingBox();\n\n\t\t    return geometry;\n\t  };\n\n\t  var createGeometry = function createGeometry(attributes, offset) {\n\t    var geometry = new _three2['default'].BufferGeometry();\n\n\t    var vertices = new Float32Array(attributes.facesCount * 9);\n\t    var normals = new Float32Array(attributes.facesCount * 9);\n\t    var colours = new Float32Array(attributes.facesCount * 9);\n\n\t\t    var pickingIds;\n\t    if (attributes.pickingIds) {\n\t      pickingIds = new Float32Array(attributes.facesCount * 3);\n\t    }\n\n\t\t    var pA = new _three2['default'].Vector3();\n\t    var pB = new _three2['default'].Vector3();\n\t    var pC = new _three2['default'].Vector3();\n\n\t\t    var cb = new _three2['default'].Vector3();\n\t    var ab = new _three2['default'].Vector3();\n\n\t\t    var index;\n\t    var _faces;\n\t    var _vertices;\n\t    var _colour;\n\t    var _pickingId;\n\t    var lastIndex = 0;\n\t    for (var i = 0; i < attributes.faces.length; i++) {\n\t      _faces = attributes.faces[i];\n\t      _vertices = attributes.vertices[i];\n\t      _colour = attributes.colours[i];\n\n\t\t      if (pickingIds) {\n\t        _pickingId = attributes.pickingIds[i];\n\t      }\n\n\t\t      for (var j = 0; j < _faces.length; j++) {\n\t        index = _faces[j][0];\n\n\t\t        var ax = _vertices[index][0] + offset.x;\n\t        var ay = _vertices[index][1];\n\t        var az = _vertices[index][2] + offset.y;\n\n\t\t        var c1 = _colour[j][0];\n\n\t\t        index = _faces[j][1];\n\n\t\t        var bx = _vertices[index][0] + offset.x;\n\t        var by = _vertices[index][1];\n\t        var bz = _vertices[index][2] + offset.y;\n\n\t\t        var c2 = _colour[j][1];\n\n\t\t        index = _faces[j][2];\n\n\t\t        var cx = _vertices[index][0] + offset.x;\n\t        var cy = _vertices[index][1];\n\t        var cz = _vertices[index][2] + offset.y;\n\n\t\t        var c3 = _colour[j][2];\n\n\t        pA.set(ax, ay, az);\n\t        pB.set(bx, by, bz);\n\t        pC.set(cx, cy, cz);\n\n\t\t        cb.subVectors(pC, pB);\n\t        ab.subVectors(pA, pB);\n\t        cb.cross(ab);\n\n\t\t        cb.normalize();\n\n\t\t        var nx = cb.x;\n\t        var ny = cb.y;\n\t        var nz = cb.z;\n\n\t\t        vertices[lastIndex * 9 + 0] = ax;\n\t        vertices[lastIndex * 9 + 1] = ay;\n\t        vertices[lastIndex * 9 + 2] = az;\n\n\t\t        normals[lastIndex * 9 + 0] = nx;\n\t        normals[lastIndex * 9 + 1] = ny;\n\t        normals[lastIndex * 9 + 2] = nz;\n\n\t\t        colours[lastIndex * 9 + 0] = c1[0];\n\t        colours[lastIndex * 9 + 1] = c1[1];\n\t        colours[lastIndex * 9 + 2] = c1[2];\n\n\t\t        vertices[lastIndex * 9 + 3] = bx;\n\t        vertices[lastIndex * 9 + 4] = by;\n\t        vertices[lastIndex * 9 + 5] = bz;\n\n\t\t        normals[lastIndex * 9 + 3] = nx;\n\t        normals[lastIndex * 9 + 4] = ny;\n\t        normals[lastIndex * 9 + 5] = nz;\n\n\t\t        colours[lastIndex * 9 + 3] = c2[0];\n\t        colours[lastIndex * 9 + 4] = c2[1];\n\t        colours[lastIndex * 9 + 5] = c2[2];\n\n\t\t        vertices[lastIndex * 9 + 6] = cx;\n\t        vertices[lastIndex * 9 + 7] = cy;\n\t        vertices[lastIndex * 9 + 8] = cz;\n\n\t\t        normals[lastIndex * 9 + 6] = nx;\n\t        normals[lastIndex * 9 + 7] = ny;\n\t        normals[lastIndex * 9 + 8] = nz;\n\n\t\t        colours[lastIndex * 9 + 6] = c3[0];\n\t        colours[lastIndex * 9 + 7] = c3[1];\n\t        colours[lastIndex * 9 + 8] = c3[2];\n\n\t\t        if (pickingIds) {\n\t          pickingIds[lastIndex * 3 + 0] = _pickingId;\n\t          pickingIds[lastIndex * 3 + 1] = _pickingId;\n\t          pickingIds[lastIndex * 3 + 2] = _pickingId;\n\t        }\n\n\t\t        lastIndex++;\n\t      }\n\t    }\n\n\t    geometry.addAttribute('position', new _three2['default'].BufferAttribute(vertices, 3));\n\t    geometry.addAttribute('normal', new _three2['default'].BufferAttribute(normals, 3));\n\t    geometry.addAttribute('color', new _three2['default'].BufferAttribute(colours, 3));\n\n\t\t    if (pickingIds) {\n\t      geometry.addAttribute('pickingId', new _three2['default'].BufferAttribute(pickingIds, 1));\n\t    }\n\n\t\t    geometry.computeBoundingBox();\n\n\t\t    return geometry;\n\t  };\n\n\t\t  return {\n\t    createLineGeometry: createLineGeometry,\n\t    createGeometry: createGeometry\n\t  };\n\t})();\n\n\t\texports['default'] = Buffer;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _PickingShader = __webpack_require__(67);\n\n\t\tvar _PickingShader2 = _interopRequireDefault(_PickingShader);\n\n\n\t\tvar PickingMaterial = function PickingMaterial() {\n\t  _three2['default'].ShaderMaterial.call(this, {\n\t    uniforms: {\n\t      size: {\n\t        type: 'f',\n\t        value: 0.01\n\t      },\n\t      scale: {\n\t        type: 'f',\n\t        value: 400\n\t      }\n\t    },\n\t    vertexShader: _PickingShader2['default'].vertexShader,\n\t    fragmentShader: _PickingShader2['default'].fragmentShader\n\t  });\n\n\t\t  this.linePadding = 2;\n\t};\n\n\t\tPickingMaterial.prototype = Object.create(_three2['default'].ShaderMaterial.prototype);\n\n\t\tPickingMaterial.prototype.constructor = PickingMaterial;\n\n\t\tPickingMaterial.prototype.setPointSize = function (size) {\n\t  this.uniforms.size.value = size;\n\t};\n\n\t\tPickingMaterial.prototype.setPointScale = function (scale) {\n\t  this.uniforms.scale.value = scale;\n\t};\n\n\t\texports['default'] = PickingMaterial;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t\tvalue: true\n\t});\n\n\t\tvar PickingShader = {\n\t\tvertexShader: ['attribute float pickingId;',\n\t\t'', 'varying vec4 worldId;', '', 'void main() {', '  vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );',\n\t\t'  vec3 a = fract(vec3(1.0/255.0, 1.0/(255.0*255.0), 1.0/(255.0*255.0*255.0)) * pickingId);', '  a -= a.xxy * vec3(0.0, 1.0/255.0, 1.0/255.0);', '  worldId = vec4(a,1);', '  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n\n\t\t\tfragmentShader: ['#ifdef GL_ES\\n', 'precision highp float;\\n', '#endif\\n', '', 'varying vec4 worldId;', '', 'void main() {', '  gl_FragColor = worldId;', '}'].join('\\n')\n\t};\n\n\t\texports['default'] = PickingShader;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _GeoJSONTileLayer = __webpack_require__(55);\n\n\t\tvar _GeoJSONTileLayer2 = _interopRequireDefault(_GeoJSONTileLayer);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\n\t\texports['default'] = function (path, options) {\n\t  var defaults = {\n\t    topojson: true\n\t  };\n\n\t\t  options = (0, _lodashAssign2['default'])({}, defaults, options);\n\n\t\t  return (0, _GeoJSONTileLayer2['default'])(path, options);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\t\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\t\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\t\tvar _Layer2 = __webpack_require__(35);\n\n\t\tvar _Layer3 = _interopRequireDefault(_Layer2);\n\n\t\tvar _three = __webpack_require__(24);\n\n\t\tvar _three2 = _interopRequireDefault(_three);\n\n\t\tvar _reqwest = __webpack_require__(57);\n\n\t\tvar _reqwest2 = _interopRequireDefault(_reqwest);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\t\tvar _geoPoint = __webpack_require__(11);\n\n\t\tvar _geoPoint2 = _interopRequireDefault(_geoPoint);\n\n\t\tvar _geoLatLon = __webpack_require__(10);\n\n\t\tvar _geoLatLon2 = _interopRequireDefault(_geoLatLon);\n\n\t\tvar _utilGeoJSON = __webpack_require__(59);\n\n\t\tvar _utilGeoJSON2 = _interopRequireDefault(_utilGeoJSON);\n\n\t\tvar _utilBuffer = __webpack_require__(65);\n\n\t\tvar _utilBuffer2 = _interopRequireDefault(_utilBuffer);\n\n\t\tvar _enginePickingMaterial = __webpack_require__(66);\n\n\t\tvar _enginePickingMaterial2 = _interopRequireDefault(_enginePickingMaterial);\n\n\t\tvar GeoJSONLayer = (function (_Layer) {\n\t  _inherits(GeoJSONLayer, _Layer);\n\n\t\t  function GeoJSONLayer(geojson, options) {\n\t    _classCallCheck(this, GeoJSONLayer);\n\n\t\t    _get(Object.getPrototypeOf(GeoJSONLayer.prototype), 'constructor', this).call(this, options);\n\n\t\t    this._geojson = geojson;\n\n\t\t    this._defaultStyle = _utilGeoJSON2['default'].defaultStyle;\n\n\t\t    var defaults = {\n\t      picking: false,\n\t      topojson: false,\n\t      filter: null,\n\t      onClick: null,\n\t      style: this._defaultStyle\n\t    };\n\n\t\t    this._options = (0, _lodashAssign2['default'])({}, defaults, options);\n\n\t\t    if (typeof options.style === 'function') {\n\t      this._options.style = options.style;\n\t    } else {\n\t      this._options.style = (0, _lodashAssign2['default'])({}, defaults.style, options.style);\n\t    }\n\n\t\t    this._pickingMesh = new _three2['default'].Object3D();\n\t  }\n\n\n\t\t  _createClass(GeoJSONLayer, [{\n\t    key: '_onAdd',\n\t    value: function _onAdd(world) {\n\t      this.addToPicking(this._pickingMesh);\n\n\t      if (typeof this._geojson === 'string') {\n\t        this._requestData(this._geojson);\n\t      } else {\n\t        this._processData(this._geojson);\n\t      }\n\t    }\n\t  }, {\n\t    key: '_requestData',\n\t    value: function _requestData(url) {\n\t      var _this = this;\n\n\t\t      this._request = (0, _reqwest2['default'])({\n\t        url: url,\n\t        type: 'json',\n\t        crossOrigin: true\n\t      }).then(function (res) {\n\t        _this._request = null;\n\t        _this._processData(res);\n\t      })['catch'](function (err) {\n\t        console.error(err);\n\n\t        _this._request = null;\n\t      });\n\t    }\n\t  }, {\n\t    key: '_processData',\n\t    value: function _processData(data) {\n\t      var _this2 = this;\n\n\t\t      console.time('GeoJSON');\n\n\t\t      var geojson = _utilGeoJSON2['default'].mergeFeatures(data, this._options.topojson);\n\n\n\t\t      var features = geojson.features;\n\n\t      if (this._options.filter) {\n\t        features = geojson.features.filter(this._options.filter);\n\t      }\n\n\t\t      var style = this._options.style;\n\n\t\t      var offset;\n\n\n\t\t      var polygons = {\n\t        vertices: [],\n\t        faces: [],\n\t        colours: [],\n\t        facesCount: 0,\n\t        allFlat: true\n\t      };\n\n\t\t      var lines = {\n\t        vertices: [],\n\t        colours: [],\n\t        verticesCount: 0\n\t      };\n\n\t\t      if (this._options.picking) {\n\t        polygons.pickingIds = [];\n\t        lines.pickingIds = [];\n\t      }\n\n\t\t      var colour = new _three2['default'].Color();\n\n\t\t      features.forEach(function (feature) {\n\n\t        if (feature.geometry.type !== 'Polygon' && feature.geometry.type !== 'LineString' && feature.geometry.type !== 'MultiLineString') {\n\t          return;\n\t        }\n\n\t        if (typeof _this2._options.style === 'function') {\n\t          style = (0, _lodashAssign2['default'])(_this2._defaultStyle, _this2._options.style(feature));\n\t        }\n\n\t\t        var coordinates = feature.geometry.coordinates;\n\n\t        if (feature.geometry.type === 'LineString') {\n\t          colour.set(style.lineColor);\n\n\t\t          coordinates = coordinates.map(function (coordinate) {\n\t            var latlon = (0, _geoLatLon2['default'])(coordinate[1], coordinate[0]);\n\t            var point = _this2._world.latLonToPoint(latlon);\n\n\t\t            if (!offset) {\n\t              offset = (0, _geoPoint2['default'])(0, 0);\n\t              offset.x = -1 * point.x;\n\t              offset.y = -1 * point.y;\n\n\t\t              _this2._pointScale = _this2._world.pointScale(latlon);\n\t            }\n\n\t\t            return [point.x, point.y];\n\t          });\n\n\t\t          var height = 0;\n\n\t\t          if (style.lineHeight) {\n\t            height = _this2._world.metresToWorld(style.lineHeight, _this2._pointScale);\n\t          }\n\n\t\t          var linestringAttributes = _utilGeoJSON2['default'].lineStringAttributes(coordinates, colour, height);\n\n\t\t          lines.vertices.push(linestringAttributes.vertices);\n\t          lines.colours.push(linestringAttributes.colours);\n\n\t\t          if (_this2._options.picking) {\n\t            var pickingId = _this2.getPickingId();\n\n\t            lines.pickingIds.push(pickingId);\n\n\t\t            if (_this2._options.onClick) {\n\t              _this2._world.on('pick-' + pickingId, function (point2d, point3d, intersects) {\n\t                _this2._options.onClick(feature, point2d, point3d, intersects);\n\t              });\n\t            }\n\t          }\n\n\t\t          lines.verticesCount += linestringAttributes.vertices.length;\n\t        }\n\n\t\t        if (feature.geometry.type === 'MultiLineString') {\n\t          colour.set(style.lineColor);\n\n\t\t          coordinates = coordinates.map(function (_coordinates) {\n\t            return _coordinates.map(function (coordinate) {\n\t              var latlon = (0, _geoLatLon2['default'])(coordinate[1], coordinate[0]);\n\t              var point = _this2._world.latLonToPoint(latlon);\n\n\t\t              if (!offset) {\n\t                offset = (0, _geoPoint2['default'])(0, 0);\n\t                offset.x = -1 * point.x;\n\t                offset.y = -1 * point.y;\n\n\t\t                _this2._pointScale = _this2._world.pointScale(latlon);\n\t              }\n\n\t\t              return [point.x, point.y];\n\t            });\n\t          });\n\n\t\t          var height = 0;\n\n\t\t          if (style.lineHeight) {\n\t            height = _this2._world.metresToWorld(style.lineHeight, _this2._pointScale);\n\t          }\n\n\t\t          var multiLinestringAttributes = _utilGeoJSON2['default'].multiLineStringAttributes(coordinates, colour, height);\n\n\t\t          lines.vertices.push(multiLinestringAttributes.vertices);\n\t          lines.colours.push(multiLinestringAttributes.colours);\n\n\t\t          if (_this2._options.picking) {\n\t            var pickingId = _this2.getPickingId();\n\n\t            lines.pickingIds.push(pickingId);\n\n\t\t            if (_this2._options.onClick) {\n\t              _this2._world.on('pick-' + pickingId, function (point2d, point3d, intersects) {\n\t                _this2._options.onClick(feature, point2d, point3d, intersects);\n\t              });\n\t            }\n\t          }\n\n\t\t          lines.verticesCount += multiLinestringAttributes.vertices.length;\n\t        }\n\n\t\t        if (feature.geometry.type === 'Polygon') {\n\t          colour.set(style.color);\n\n\t\t          coordinates = coordinates.map(function (ring) {\n\t            return ring.map(function (coordinate) {\n\t              var latlon = (0, _geoLatLon2['default'])(coordinate[1], coordinate[0]);\n\t              var point = _this2._world.latLonToPoint(latlon);\n\n\t\t              if (!offset) {\n\t                offset = (0, _geoPoint2['default'])(0, 0);\n\t                offset.x = -1 * point.x;\n\t                offset.y = -1 * point.y;\n\n\t\t                _this2._pointScale = _this2._world.pointScale(latlon);\n\t              }\n\n\t\t              return [point.x, point.y];\n\t            });\n\t          });\n\n\t\t          var height = 0;\n\n\t\t          if (style.height) {\n\t            height = _this2._world.metresToWorld(style.height, _this2._pointScale);\n\t          }\n\n\t\t          var polygonAttributes = _utilGeoJSON2['default'].polygonAttributes(coordinates, colour, height);\n\n\t\t          polygons.vertices.push(polygonAttributes.vertices);\n\t          polygons.faces.push(polygonAttributes.faces);\n\t          polygons.colours.push(polygonAttributes.colours);\n\n\t\t          if (_this2._options.picking) {\n\t            var pickingId = _this2.getPickingId();\n\n\t            polygons.pickingIds.push(pickingId);\n\n\t\t            if (_this2._options.onClick) {\n\t              _this2._world.on('pick-' + pickingId, function (point2d, point3d, intersects) {\n\t                _this2._options.onClick(feature, point2d, point3d, intersects);\n\t              });\n\t            }\n\t          }\n\n\t\t          if (polygons.allFlat && !polygonAttributes.flat) {\n\t            polygons.allFlat = false;\n\t          }\n\n\t\t          polygons.facesCount += polygonAttributes.faces.length;\n\t        }\n\t      });\n\n\t\t      var geometry;\n\t      var material;\n\t      var mesh;\n\n\t\t      if (this._options.picking) {\n\t        this._pickingMesh.position.x = -offset.x;\n\t        this._pickingMesh.position.z = -offset.y;\n\t      }\n\n\t      if (lines.vertices.length > 0) {\n\t        geometry = _utilBuffer2['default'].createLineGeometry(lines, offset);\n\n\t\t        material = new _three2['default'].LineBasicMaterial({\n\t          vertexColors: _three2['default'].VertexColors,\n\t          linewidth: style.lineWidth,\n\t          transparent: style.lineTransparent,\n\t          opacity: style.lineOpacity,\n\t          blending: style.lineBlending\n\t        });\n\n\t\t        mesh = new _three2['default'].LineSegments(geometry, material);\n\n\t\t        if (style.lineRenderOrder !== undefined) {\n\t          material.depthWrite = false;\n\t          mesh.renderOrder = style.lineRenderOrder;\n\t        }\n\n\n\t\t        this.add(mesh);\n\n\t\t        if (this._options.picking) {\n\t          material = new _enginePickingMaterial2['default']();\n\t          material.side = _three2['default'].BackSide;\n\n\t          material.linewidth = style.lineWidth + material.linePadding;\n\n\t\t          var pickingMesh = new _three2['default'].LineSegments(geometry, material);\n\t          this._pickingMesh.add(pickingMesh);\n\t        }\n\t      }\n\n\t      if (polygons.facesCount > 0) {\n\t        geometry = _utilBuffer2['default'].createGeometry(polygons, offset);\n\n\t\t        if (!this._world._environment._skybox) {\n\t          material = new _three2['default'].MeshPhongMaterial({\n\t            vertexColors: _three2['default'].VertexColors,\n\t            side: _three2['default'].BackSide\n\t          });\n\t        } else {\n\t          material = new _three2['default'].MeshStandardMaterial({\n\t            vertexColors: _three2['default'].VertexColors,\n\t            side: _three2['default'].BackSide\n\t          });\n\t          material.roughness = 1;\n\t          material.metalness = 0.1;\n\t          material.envMapIntensity = 3;\n\t          material.envMap = this._world._environment._skybox.getRenderTarget();\n\t        }\n\n\t\t        mesh = new _three2['default'].Mesh(geometry, material);\n\n\t\t        mesh.castShadow = true;\n\t        mesh.receiveShadow = true;\n\n\t\t        if (polygons.allFlat) {\n\t          material.depthWrite = false;\n\t          mesh.renderOrder = 1;\n\t        }\n\n\t\t        this.add(mesh);\n\n\t\t        if (this._options.picking) {\n\t          material = new _enginePickingMaterial2['default']();\n\t          material.side = _three2['default'].BackSide;\n\n\t\t          var pickingMesh = new _three2['default'].Mesh(geometry, material);\n\t          this._pickingMesh.add(pickingMesh);\n\t        }\n\t      }\n\n\t      this._layer.position.x = -offset.x;\n\t      this._layer.position.z = -offset.y;\n\n\t\t      console.timeEnd('GeoJSON');\n\t    }\n\t  }, {\n\t    key: '_abortRequest',\n\t    value: function _abortRequest() {\n\t      if (!this._request) {\n\t        return;\n\t      }\n\n\t\t      this._request.abort();\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._abortRequest();\n\n\t      this._request = null;\n\n\t      this._pickingMesh = null;\n\n\t      _get(Object.getPrototypeOf(GeoJSONLayer.prototype), 'destroy', this).call(this);\n\t    }\n\t  }]);\n\n\t\t  return GeoJSONLayer;\n\t})(_Layer3['default']);\n\n\t\texports['default'] = function (geojson, options) {\n\t  return new GeoJSONLayer(geojson, options);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n },\n function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\t\tvar _GeoJSONLayer = __webpack_require__(69);\n\n\t\tvar _GeoJSONLayer2 = _interopRequireDefault(_GeoJSONLayer);\n\n\t\tvar _lodashAssign = __webpack_require__(3);\n\n\t\tvar _lodashAssign2 = _interopRequireDefault(_lodashAssign);\n\n\n\t\texports['default'] = function (topojson, options) {\n\t  var defaults = {\n\t    topojson: true\n\t  };\n\n\t\t  options = (0, _lodashAssign2['default'])({}, defaults, options);\n\n\t\t  return (0, _GeoJSONLayer2['default'])(topojson, options);\n\t};\n\n\t\t;\n\tmodule.exports = exports['default'];\n\n }\n ])\n});\n;"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e12155ba67f6788d6b81\n **/","import World from './World';\nimport Controls from './controls/index';\nimport EnvironmentLayer from './layer/environment/EnvironmentLayer';\nimport ImageTileLayer from './layer/tile/ImageTileLayer';\nimport GeoJSONTileLayer from './layer/tile/GeoJSONTileLayer';\nimport TopoJSONTileLayer from './layer/tile/TopoJSONTileLayer';\nimport GeoJSONLayer from './layer/GeoJSONLayer';\nimport TopoJSONLayer from './layer/TopoJSONLayer';\nimport Point from './geo/Point';\nimport LatLon from './geo/LatLon';\n\nconst VIZI = {\n  version: '0.3',\n\n  // Public API\n  World: World,\n  Controls: Controls,\n  EnvironmentLayer: EnvironmentLayer,\n  ImageTileLayer: ImageTileLayer,\n  GeoJSONTileLayer: GeoJSONTileLayer,\n  TopoJSONTileLayer: TopoJSONTileLayer,\n  GeoJSONLayer: GeoJSONLayer,\n  TopoJSONLayer: TopoJSONLayer,\n  Point: Point,\n  LatLon: LatLon\n};\n\nexport default VIZI;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vizicities.js\n **/","import EventEmitter from 'eventemitter3';\nimport extend from 'lodash.assign';\nimport CRS from './geo/crs/index';\nimport Point from './geo/Point';\nimport LatLon from './geo/LatLon';\nimport Engine from './engine/Engine';\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\n// Pretty much any event someone using ViziCities would need will be emitted or\n// proxied by World (eg. render events, etc)\n\nclass World extends EventEmitter {\n  constructor(domId, options) {\n    super();\n\n    var defaults = {\n      crs: CRS.EPSG3857,\n      skybox: false\n    };\n\n    this.options = extend({}, defaults, options);\n\n    this._layers = [];\n    this._controls = [];\n\n    this._initContainer(domId);\n    this._initEngine();\n    this._initEnvironment();\n    this._initEvents();\n\n    this._pause = false;\n\n    // Kick off the update and render loop\n    this._update();\n  }\n\n  _initContainer(domId) {\n    this._container = document.getElementById(domId);\n  }\n\n  _initEngine() {\n    this._engine = Engine(this._container, this);\n\n    // Engine events\n    //\n    // Consider proxying these through events on World for public access\n    // this._engine.on('preRender', () => {});\n    // this._engine.on('postRender', () => {});\n  }\n\n  _initEnvironment() {\n    // Not sure if I want to keep this as a private API\n    //\n    // Makes sense to allow others to customise their environment so perhaps\n    // add some method of disable / overriding the environment settings\n    this._environment = VIZI.EnvironmentLayer({\n      skybox: this.options.skybox\n    }).addTo(this);\n  }\n\n  _initEvents() {\n    this.on('controlsMoveEnd', this._onControlsMoveEnd);\n  }\n\n  _onControlsMoveEnd(point) {\n    var _point = Point(point.x, point.z);\n    this._resetView(this.pointToLatLon(_point), _point);\n  }\n\n  // Reset world view\n  _resetView(latlon, point) {\n    this.emit('preResetView');\n\n    this._moveStart();\n    this._move(latlon, point);\n    this._moveEnd();\n\n    this.emit('postResetView');\n  }\n\n  _moveStart() {\n    this.emit('moveStart');\n  }\n\n  _move(latlon, point) {\n    this._lastPosition = latlon;\n    this.emit('move', latlon, point);\n  }\n  _moveEnd() {\n    this.emit('moveEnd');\n  }\n\n  _update() {\n    if (this._pause) {\n      return;\n    }\n\n    var delta = this._engine.clock.getDelta();\n\n    // Once _update is called it will run forever, for now\n    window.requestAnimationFrame(this._update.bind(this));\n\n    // Update controls\n    this._controls.forEach(controls => {\n      controls.update();\n    });\n\n    this.emit('preUpdate', delta);\n    this._engine.update(delta);\n    this.emit('postUpdate', delta);\n  }\n\n  // Set world view\n  setView(latlon) {\n    // Store initial geographic coordinate for the [0,0,0] world position\n    //\n    // The origin point doesn't move in three.js / 3D space so only set it once\n    // here instead of every time _resetView is called\n    //\n    // If it was updated every time then coorindates would shift over time and\n    // would be out of place / context with previously-placed points (0,0 would\n    // refer to a different point each time)\n    this._originLatlon = latlon;\n    this._originPoint = this.project(latlon);\n\n    this._resetView(latlon);\n    return this;\n  }\n\n  // Return world geographic position\n  getPosition() {\n    return this._lastPosition;\n  }\n\n  // Transform geographic coordinate to world point\n  //\n  // This doesn't take into account the origin offset\n  //\n  // For example, this takes a geographic coordinate and returns a point\n  // relative to the origin point of the projection (not the world)\n  project(latlon) {\n    return this.options.crs.latLonToPoint(LatLon(latlon));\n  }\n\n  // Transform world point to geographic coordinate\n  //\n  // This doesn't take into account the origin offset\n  //\n  // For example, this takes a point relative to the origin point of the\n  // projection (not the world) and returns a geographic coordinate\n  unproject(point) {\n    return this.options.crs.pointToLatLon(Point(point));\n  }\n\n  // Takes into account the origin offset\n  //\n  // For example, this takes a geographic coordinate and returns a point\n  // relative to the three.js / 3D origin (0,0)\n  latLonToPoint(latlon) {\n    var projectedPoint = this.project(LatLon(latlon));\n    return projectedPoint._subtract(this._originPoint);\n  }\n\n  // Takes into account the origin offset\n  //\n  // For example, this takes a point relative to the three.js / 3D origin (0,0)\n  // and returns the exact geographic coordinate at that point\n  pointToLatLon(point) {\n    var projectedPoint = Point(point).add(this._originPoint);\n    return this.unproject(projectedPoint);\n  }\n\n  // Return pointscale for a given geographic coordinate\n  pointScale(latlon, accurate) {\n    return this.options.crs.pointScale(latlon, accurate);\n  }\n\n  // Convert from real meters to world units\n  //\n  // TODO: Would be nice not to have to pass in a pointscale here\n  metresToWorld(metres, pointScale, zoom) {\n    return this.options.crs.metresToWorld(metres, pointScale, zoom);\n  }\n\n  // Convert from real meters to world units\n  //\n  // TODO: Would be nice not to have to pass in a pointscale here\n  worldToMetres(worldUnits, pointScale, zoom) {\n    return this.options.crs.worldToMetres(worldUnits, pointScale, zoom);\n  }\n\n  // Unsure if it's a good idea to expose this here for components like\n  // GridLayer to use (eg. to keep track of a frustum)\n  getCamera() {\n    return this._engine._camera;\n  }\n\n  addLayer(layer) {\n    layer._addToWorld(this);\n\n    this._layers.push(layer);\n\n    // Could move this into Layer but it'll do here for now\n    this._engine._scene.add(layer._layer);\n\n    this.emit('layerAdded', layer);\n    return this;\n  }\n\n  // Remove layer from world and scene but don't destroy it entirely\n  removeLayer(layer) {\n    var layerIndex = this._layers.indexOf(layer);\n\n    if (layerIndex > -1) {\n      // Remove from this._layers\n      this._layers.splice(layerIndex, 1);\n    };\n\n    this._engine._scene.remove(layer._layer);\n\n    this.emit('layerRemoved');\n    return this;\n  }\n\n  addControls(controls) {\n    controls._addToWorld(this);\n\n    this._controls.push(controls);\n\n    this.emit('controlsAdded', controls);\n    return this;\n  }\n\n  // Remove controls from world but don't destroy them entirely\n  removeControls(controls) {\n    var controlsIndex = this._controls.indexOf(controlsIndex);\n\n    if (controlsIndex > -1) {\n      this._controls.splice(controlsIndex, 1);\n    };\n\n    this.emit('controlsRemoved', controls);\n    return this;\n  }\n\n  stop() {\n    this._pause = true;\n  }\n\n  start() {\n    this._pause = false;\n    this._update();\n  }\n\n  // Destroys the world(!) and removes it from the scene and memory\n  //\n  // TODO: World out why so much three.js stuff is left in the heap after this\n  destroy() {\n    this.stop();\n\n    // Remove listeners\n    this.off('controlsMoveEnd', this._onControlsMoveEnd);\n\n    var i;\n\n    // Remove all controls\n    var controls;\n    for (i = this._controls.length - 1; i >= 0; i--) {\n      controls = this._controls[0];\n      this.removeControls(controls);\n      controls.destroy();\n    };\n\n    // Remove all layers\n    var layer;\n    for (i = this._layers.length - 1; i >= 0; i--) {\n      layer = this._layers[0];\n      this.removeLayer(layer);\n      layer.destroy();\n    };\n\n    // Environment layer is removed with the other layers\n    this._environment = null;\n\n    this._engine.destroy();\n    this._engine = null;\n\n    // TODO: Probably should clean the container too / remove the canvas\n    this._container = null;\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(domId, options) {\n  return new World(domId, options);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/World.js\n **/","'use strict';\n\n//\n// We store our EE objects in a plain object whose properties are event names.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// `~` to make sure that the built-in object properties are not overridden or\n// used as an attack vector.\n// We also assume that `Object.create(null)` is available when the event name\n// is an ES6 Symbol.\n//\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @param {Boolean} exists We only need to know if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events && this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return this;\n\n  var listeners = this._events[evt]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn) {\n      if (\n           listeners.fn !== fn\n        || (once && !listeners.once)\n        || (context && listeners.context !== context)\n      ) {\n        events.push(listeners);\n      }\n    } else {\n      for (var i = 0, length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[evt] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[prefix ? prefix + event : event];\n  else this._events = prefix ? {} : Object.create(null);\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/eventemitter3/index.js\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * lodash 4.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar keys = require('lodash.keys'),\n    rest = require('lodash.rest');\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if ((!eq(objValue, value) ||\n        (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object) {\n  return copyObjectWith(source, props, object);\n}\n\n/**\n * This function is like `copyObject` except that it accepts a function to\n * customize copied values.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property names to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObjectWith(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index],\n        newValue = customizer ? customizer(object[key], source[key], key, object, source) : source[key];\n\n    assignValue(object, key, newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return rest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = typeof customizer == 'function' ? (length--, customizer) : undefined;\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if the provided arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n      ? (isArrayLike(object) && isIndex(index, object.length))\n      : (type == 'string' && index in object)) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Performs a [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var other = { 'user': 'fred' };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null &&\n    !(typeof value == 'function' && isFunction(value)) && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Assigns own enumerable properties of source objects to the destination\n * object. Source objects are applied from left to right. Subsequent sources\n * overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function Foo() {\n *   this.c = 3;\n * }\n *\n * function Bar() {\n *   this.e = 5;\n * }\n *\n * Foo.prototype.d = 4;\n * Bar.prototype.f = 6;\n *\n * _.assign({ 'a': 1 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3, 'e': 5 }\n */\nvar assign = createAssigner(function(object, source) {\n  copyObject(source, keys(source), object);\n});\n\nmodule.exports = assign;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.assign/index.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * lodash 4.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    stringTag = '[object String]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototypeOf = Object.getPrototypeOf,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = Object.keys;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n  // that are composed entirely of index properties, return `false` for\n  // `hasOwnProperty` checks of them.\n  return hasOwnProperty.call(object, key) ||\n    (typeof object == 'object' && key in object && getPrototypeOf(object) === null);\n}\n\n/**\n * The base implementation of `_.keys` which doesn't skip the constructor\n * property of prototypes or treat sparse arrays as dense.\n *\n * @private\n * @type Function\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  return nativeKeys(Object(object));\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Creates an array of index keys for `object` values of arrays,\n * `arguments` objects, and strings, otherwise `null` is returned.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array|null} Returns index keys, else `null`.\n */\nfunction indexKeys(object) {\n  var length = object ? object.length : undefined;\n  if (isLength(length) &&\n      (isArray(object) || isString(object) || isArguments(object))) {\n    return baseTimes(length, String);\n  }\n  return null;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null &&\n    !(typeof value == 'function' && isFunction(value)) && isLength(getLength(value));\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object, else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  var isProto = isPrototype(object);\n  if (!(isProto || isArrayLike(object))) {\n    return baseKeys(object);\n  }\n  var indexes = indexKeys(object),\n      skipIndexes = !!indexes,\n      result = indexes || [],\n      length = result.length;\n\n  for (var key in object) {\n    if (baseHas(object, key) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n        !(isProto && key == 'constructor')) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.keys/index.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\n * lodash 4.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308,\n    NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  var length = args.length;\n  switch (length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as an array.\n *\n * **Note:** This method is based on the [rest parameter](https://mdn.io/rest_parameters).\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.rest(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction rest(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : toInteger(start), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, array);\n      case 1: return func.call(this, args[0], array);\n      case 2: return func.call(this, args[0], args[1], array);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This function is loosely based on [`ToInteger`](http://www.ecma-international.org/ecma-262/6.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3');\n * // => 3\n */\nfunction toInteger(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  var remainder = value % 1;\n  return value === value ? (remainder ? value - remainder : value) : 0;\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3);\n * // => 3\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3');\n * // => 3\n */\nfunction toNumber(value) {\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = rest;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.rest/index.js\n ** module id = 5\n ** module chunks = 0\n **/","import EPSG3857 from './CRS.EPSG3857';\nimport {EPSG900913} from './CRS.EPSG3857';\nimport EPSG3395 from './CRS.EPSG3395';\nimport EPSG4326 from './CRS.EPSG4326';\nimport Simple from './CRS.Simple';\nimport Proj4 from './CRS.Proj4';\n\nconst CRS = {};\n\nCRS.EPSG3857 = EPSG3857;\nCRS.EPSG900913 = EPSG900913;\nCRS.EPSG3395 = EPSG3395;\nCRS.EPSG4326 = EPSG4326;\nCRS.Simple = Simple;\nCRS.Proj4 = Proj4;\n\nexport default CRS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/crs/index.js\n **/","/*\n * CRS.EPSG3857 (WGS 84 / Pseudo-Mercator) CRS implementation.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG3857.js\n */\n\nimport extend from 'lodash.assign';\nimport Earth from './CRS.Earth';\nimport SphericalMercator from '../projection/Projection.SphericalMercator';\nimport Transformation from '../../util/Transformation';\n\nvar _EPSG3857 = {\n  code: 'EPSG:3857',\n  projection: SphericalMercator,\n\n  // Work out how to de-dupe this (scoping issue)\n  transformScale: 1 / (Math.PI * SphericalMercator.R),\n\n  // Scale and transformation inputs changed to account for central origin in\n  // WebGL, instead of top-left origin used in Leaflet\n  transformation: (function() {\n    // TODO: Cannot use this.transformScale due to scope\n    var scale = 1 / (Math.PI * SphericalMercator.R);\n\n    return new Transformation(scale, 0, -scale, 0);\n  }())\n};\n\nconst EPSG3857 = extend({}, Earth, _EPSG3857);\n\nconst EPSG900913 = extend({}, EPSG3857, {\n  code: 'EPSG:900913'\n});\n\nexport {EPSG900913};\n\nexport default EPSG3857;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/crs/CRS.EPSG3857.js\n **/","/*\n * CRS.Earth is the base class for all CRS representing Earth.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.Earth.js\n */\n\nimport extend from 'lodash.assign';\nimport CRS from './CRS';\nimport LatLon from '../LatLon';\n\nconst Earth = {\n  wrapLon: [-180, 180],\n\n  R: 6378137,\n\n  // Distance between two geographical points using spherical law of cosines\n  // approximation or Haversine\n  //\n  // See: http://www.movable-type.co.uk/scripts/latlong.html\n  distance: function(latlon1, latlon2, accurate) {\n    var rad = Math.PI / 180;\n\n    var lat1;\n    var lat2;\n\n    var a;\n\n    if (!accurate) {\n      lat1 = latlon1.lat * rad;\n      lat2 = latlon2.lat * rad;\n\n      a = Math.sin(lat1) * Math.sin(lat2) + Math.cos(lat1) * Math.cos(lat2) * Math.cos((latlon2.lon - latlon1.lon) * rad);\n\n      return this.R * Math.acos(Math.min(a, 1));\n    } else {\n      lat1 = latlon1.lat * rad;\n      lat2 = latlon2.lat * rad;\n\n      var lon1 = latlon1.lon * rad;\n      var lon2 = latlon2.lon * rad;\n\n      var deltaLat = lat2 - lat1;\n      var deltaLon = lon2 - lon1;\n\n      var halfDeltaLat = deltaLat / 2;\n      var halfDeltaLon = deltaLon / 2;\n\n      a = Math.sin(halfDeltaLat) * Math.sin(halfDeltaLat) + Math.cos(lat1) * Math.cos(lat2) * Math.sin(halfDeltaLon) * Math.sin(halfDeltaLon);\n\n      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n      return this.R * c;\n    }\n  },\n\n  // Scale factor for converting between real metres and projected metres\n  //\n  // projectedMetres = realMetres * pointScale\n  // realMetres = projectedMetres / pointScale\n  //\n  // Defaults to a scale factor of 1 if no calculation method exists\n  //\n  // Probably need to run this through the CRS transformation or similar so the\n  // resulting scale is relative to the dimensions of the world space\n  // Eg. 1 metre in projected space is likly scaled up or down to some other\n  // number\n  pointScale: function(latlon, accurate) {\n    return (this.projection.pointScale) ? this.projection.pointScale(latlon, accurate) : [1, 1];\n  },\n\n  // Convert real metres to projected units\n  //\n  // Latitude scale is chosen because it fluctuates more than longitude\n  metresToProjected: function(metres, pointScale) {\n    return metres * pointScale[1];\n  },\n\n  // Convert projected units to real metres\n  //\n  // Latitude scale is chosen because it fluctuates more than longitude\n  projectedToMetres: function(projectedUnits, pointScale) {\n    return projectedUnits / pointScale[1];\n  },\n\n  // Convert real metres to a value in world (WebGL) units\n  metresToWorld: function(metres, pointScale, zoom) {\n    // Transform metres to projected metres using the latitude point scale\n    //\n    // Latitude scale is chosen because it fluctuates more than longitude\n    var projectedMetres = this.metresToProjected(metres, pointScale);\n\n    var scale = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      scale /= 2;\n    }\n\n    // Scale projected metres\n    var scaledMetres = (scale * (this.transformScale * projectedMetres));\n\n    // Not entirely sure why this is neccessary\n    if (zoom) {\n      scaledMetres /= pointScale[1];\n    }\n\n    return scaledMetres;\n  },\n\n  // Convert world (WebGL) units to a value in real metres\n  worldToMetres: function(worldUnits, pointScale, zoom) {\n    var scale = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      scale /= 2;\n    }\n\n    var projectedUnits = ((worldUnits / scale) / this.transformScale);\n    var realMetres = this.projectedToMetres(projectedUnits, pointScale);\n\n    // Not entirely sure why this is neccessary\n    if (zoom) {\n      realMetres *= pointScale[1];\n    }\n\n    return realMetres;\n  }\n};\n\nexport default extend({}, CRS, Earth);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/crs/CRS.Earth.js\n **/","/*\n * CRS is the base object for all defined CRS (Coordinate Reference Systems)\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.js\n */\n\nimport LatLon from '../LatLon';\nimport Point from '../Point';\nimport wrapNum from '../../util/wrapNum';\n\nconst CRS = {\n  // Scale factor determines final dimensions of world space\n  //\n  // Projection transformation in range -1 to 1 is multiplied by scale factor to\n  // find final world coordinates\n  //\n  // Scale factor can be considered as half the amount of the desired dimension\n  // for the largest side when transformation is equal to 1 or -1, or as the\n  // distance between 0 and 1 on the largest side\n  //\n  // For example, if you want the world dimensions to be between -1000 and 1000\n  // then the scale factor will be 1000\n  scaleFactor: 1000000,\n\n  // Converts geo coords to pixel / WebGL ones\n  latLonToPoint: function(latlon, zoom) {\n    var projectedPoint = this.projection.project(latlon);\n    var scale = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      scale /= 2;\n    }\n\n    return this.transformation._transform(projectedPoint, scale);\n  },\n\n  // Converts pixel / WebGL coords to geo coords\n  pointToLatLon: function(point, zoom) {\n    var scale = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      scale /= 2;\n    }\n\n    var untransformedPoint = this.transformation.untransform(point, scale);\n\n    return this.projection.unproject(untransformedPoint);\n  },\n\n  // Converts geo coords to projection-specific coords (e.g. in meters)\n  project: function(latlon) {\n    return this.projection.project(latlon);\n  },\n\n  // Converts projected coords to geo coords\n  unproject: function(point) {\n    return this.projection.unproject(point);\n  },\n\n  // If zoom is provided, returns the map width in pixels for a given zoom\n  // Else, provides fixed scale value\n  scale: function(zoom) {\n    // If zoom is provided then return scale based on map tile zoom\n    if (zoom >= 0) {\n      return 256 * Math.pow(2, zoom);\n    // Else, return fixed scale value to expand projected coordinates from\n    // their 0 to 1 range into something more practical\n    } else {\n      return this.scaleFactor;\n    }\n  },\n\n  // Returns zoom level for a given scale value\n  // This only works with a scale value that is based on map pixel width\n  zoom: function(scale) {\n    return Math.log(scale / 256) / Math.LN2;\n  },\n\n  // Returns the bounds of the world in projected coords if applicable\n  getProjectedBounds: function(zoom) {\n    if (this.infinite) { return null; }\n\n    var b = this.projection.bounds;\n    var s = this.scale(zoom);\n\n    // Half scale if using zoom as WebGL origin is in the centre, not top left\n    if (zoom) {\n      s /= 2;\n    }\n\n    // Bottom left\n    var min = this.transformation.transform(Point(b[0]), s);\n\n    // Top right\n    var max = this.transformation.transform(Point(b[1]), s);\n\n    return [min, max];\n  },\n\n  // Whether a coordinate axis wraps in a given range (e.g. longitude from -180 to 180); depends on CRS\n  // wrapLon: [min, max],\n  // wrapLat: [min, max],\n\n  // If true, the coordinate space will be unbounded (infinite in all directions)\n  // infinite: false,\n\n  // Wraps geo coords in certain ranges if applicable\n  wrapLatLon: function(latlon) {\n    var lat = this.wrapLat ? wrapNum(latlon.lat, this.wrapLat, true) : latlon.lat;\n    var lon = this.wrapLon ? wrapNum(latlon.lon, this.wrapLon, true) : latlon.lon;\n    var alt = latlon.alt;\n\n    return LatLon(lat, lon, alt);\n  }\n};\n\nexport default CRS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/crs/CRS.js\n **/","/*\n * Point is a helper class for ensuring consistent world positions.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/Point.js\n */\n\nclass Point {\n  constructor(x, y, round) {\n    this.x = (round ? Math.round(x) : x);\n    this.y = (round ? Math.round(y) : y);\n  }\n\n  clone() {\n    return new Point(this.x, this.y);\n  }\n\n  // Non-destructive\n  add(point) {\n    return this.clone()._add(_point(point));\n  }\n\n  // Destructive\n  _add(point) {\n    this.x += point.x;\n    this.y += point.y;\n    return this;\n  }\n\n  // Non-destructive\n  subtract(point) {\n    return this.clone()._subtract(_point(point));\n  }\n\n  // Destructive\n  _subtract(point) {\n    this.x -= point.x;\n    this.y -= point.y;\n    return this;\n  }\n}\n\n// Accepts (point), ([x, y]) and (x, y, round)\nvar _point = function(x, y, round) {\n  if (x instanceof Point) {\n    return x;\n  }\n  if (Array.isArray(x)) {\n    return new Point(x[0], x[1]);\n  }\n  if (x === undefined || x === null) {\n    return x;\n  }\n  return new Point(x, y, round);\n};\n\n// Initialise without requiring new keyword\nexport default _point;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/Point.js\n **/","/*\n * LatLon is a helper class for ensuring consistent geographic coordinates.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/LatLng.js\n */\n\nclass LatLon {\n  constructor(lat, lon, alt) {\n    if (isNaN(lat) || isNaN(lon)) {\n      throw new Error('Invalid LatLon object: (' + lat + ', ' + lon + ')');\n    }\n\n    this.lat = +lat;\n    this.lon = +lon;\n\n    if (alt !== undefined) {\n      this.alt = +alt;\n    }\n  }\n\n  clone() {\n    return new LatLon(this.lat, this.lon, this.alt);\n  }\n}\n\n// Initialise without requiring new keyword\n//\n// Accepts (LatLon), ([lat, lon, alt]), ([lat, lon]) and (lat, lon, alt)\n// Also converts between lng and lon\nexport default function(a, b, c) {\n  if (a instanceof LatLon) {\n    return a;\n  }\n  if (Array.isArray(a) && typeof a[0] !== 'object') {\n    if (a.length === 3) {\n      return new LatLon(a[0], a[1], a[2]);\n    }\n    if (a.length === 2) {\n      return new LatLon(a[0], a[1]);\n    }\n    return null;\n  }\n  if (a === undefined || a === null) {\n    return a;\n  }\n  if (typeof a === 'object' && 'lat' in a) {\n    return new LatLon(a.lat, 'lng' in a ? a.lng : a.lon, a.alt);\n  }\n  if (b === undefined) {\n    return null;\n  }\n  return new LatLon(a, b, c);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/LatLon.js\n **/","/*\n * Wrap the given number to lie within a certain range (eg. longitude)\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/core/Util.js\n */\n\nvar wrapNum = function(x, range, includeMax) {\n  var max = range[1];\n  var min = range[0];\n  var d = max - min;\n  return x === max && includeMax ? x : ((x - min) % d + d) % d + min;\n};\n\nexport default wrapNum;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/wrapNum.js\n **/","/*\n * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS\n * used by default.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.SphericalMercator.js\n */\n\nimport LatLon from '../LatLon';\nimport Point from '../Point';\n\nconst SphericalMercator = {\n  // Radius / WGS84 semi-major axis\n  R: 6378137,\n  MAX_LATITUDE: 85.0511287798,\n\n  // WGS84 eccentricity\n  ECC: 0.081819191,\n  ECC2: 0.081819191 * 0.081819191,\n\n  project: function(latlon) {\n    var d = Math.PI / 180;\n    var max = this.MAX_LATITUDE;\n    var lat = Math.max(Math.min(max, latlon.lat), -max);\n    var sin = Math.sin(lat * d);\n\n    return Point(\n      this.R * latlon.lon * d,\n      this.R * Math.log((1 + sin) / (1 - sin)) / 2\n    );\n  },\n\n  unproject: function(point) {\n    var d = 180 / Math.PI;\n\n    return LatLon(\n      (2 * Math.atan(Math.exp(point.y / this.R)) - (Math.PI / 2)) * d,\n      point.x * d / this.R\n    );\n  },\n\n  // Scale factor for converting between real metres and projected metres\n  //\n  // projectedMetres = realMetres * pointScale\n  // realMetres = projectedMetres / pointScale\n  //\n  // Accurate scale factor uses proper Web Mercator scaling\n  // See pg.9: http://www.hydrometronics.com/downloads/Web%20Mercator%20-%20Non-Conformal,%20Non-Mercator%20(notes).pdf\n  // See: http://jsfiddle.net/robhawkes/yws924cf/\n  pointScale: function(latlon, accurate) {\n    var rad = Math.PI / 180;\n\n    var k;\n\n    if (!accurate) {\n      k = 1 / Math.cos(latlon.lat * rad);\n\n      // [scaleX, scaleY]\n      return [k, k];\n    } else {\n      var lat = latlon.lat * rad;\n      var lon = latlon.lon * rad;\n\n      var a = this.R;\n\n      var sinLat = Math.sin(lat);\n      var sinLat2 = sinLat * sinLat;\n\n      var cosLat = Math.cos(lat);\n\n      // Radius meridian\n      var p = a * (1 - this.ECC2) / Math.pow(1 - this.ECC2 * sinLat2, 3 / 2);\n\n      // Radius prime meridian\n      var v = a / Math.sqrt(1 - this.ECC2 * sinLat2);\n\n      // Scale N/S\n      var h = (a / p) / cosLat;\n\n      // Scale E/W\n      k = (a / v) / cosLat;\n\n      // [scaleX, scaleY]\n      return [k, h];\n    }\n  },\n\n  // Not using this.R due to scoping\n  bounds: (function() {\n    var d = 6378137 * Math.PI;\n    return [[-d, -d], [d, d]];\n  })()\n};\n\nexport default SphericalMercator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/projection/Projection.SphericalMercator.js\n **/","/*\n * Transformation is an utility class to perform simple point transformations\n * through a 2d-matrix.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geometry/Transformation.js\n */\n\nimport Point from '../geo/Point';\n\nclass Transformation {\n  constructor(a, b, c, d) {\n    this._a = a;\n    this._b = b;\n    this._c = c;\n    this._d = d;\n  }\n\n  transform(point, scale) {\n    // Copy input point as to not destroy the original data\n    return this._transform(point.clone(), scale);\n  }\n\n  // Destructive transform (faster)\n  _transform(point, scale) {\n    scale = scale || 1;\n\n    point.x = scale * (this._a * point.x + this._b);\n    point.y = scale * (this._c * point.y + this._d);\n    return point;\n  }\n\n  untransform(point, scale) {\n    scale = scale || 1;\n    return Point(\n      (point.x / scale - this._b) / this._a,\n      (point.y / scale - this._d) / this._c\n    );\n  }\n}\n\nexport default Transformation;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/Transformation.js\n **/","/*\n * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326\n * and Simple.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.LonLat.js\n */\n\nimport LatLon from '../LatLon';\nimport Point from '../Point';\n\nconst ProjectionLatLon = {\n  project: function(latlon) {\n    return Point(latlon.lon, latlon.lat);\n  },\n\n  unproject: function(point) {\n    return LatLon(point.y, point.x);\n  },\n\n  // Scale factor for converting between real metres and degrees\n  //\n  // degrees = realMetres * pointScale\n  // realMetres = degrees / pointScale\n  //\n  // See: http://stackoverflow.com/questions/639695/how-to-convert-latitude-or-longitude-to-meters\n  // See: http://gis.stackexchange.com/questions/75528/length-of-a-degree-where-do-the-terms-in-this-formula-come-from\n  pointScale: function(latlon) {\n    var m1 = 111132.92;\n    var m2 = -559.82;\n    var m3 = 1.175;\n    var m4 = -0.0023;\n    var p1 = 111412.84;\n    var p2 = -93.5;\n    var p3 = 0.118;\n\n    var rad = Math.PI / 180;\n    var lat = latlon.lat * rad;\n\n    var latlen = m1 + m2 * Math.cos(2 * lat) + m3 * Math.cos(4 * lat) + m4 * Math.cos(6 * lat);\n    var lonlen = p1 * Math.cos(lat) + p2 * Math.cos(3 * lat) + p3 * Math.cos(5 * lat);\n\n    return [1 / latlen, 1 / lonlen];\n  },\n\n  bounds: [[-180, -90], [180, 90]]\n};\n\nexport default ProjectionLatLon;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/projection/Projection.LatLon.js\n **/","/*\n * A simple CRS that can be used for flat non-Earth maps like panoramas or game\n * maps.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.Simple.js\n */\n\nimport extend from 'lodash.assign';\nimport CRS from './CRS';\nimport LatLonProjection from '../projection/Projection.LatLon';\nimport Transformation from '../../util/Transformation';\n\nvar _Simple = {\n  projection: LatLonProjection,\n\n  // Straight 1:1 mapping (-1, -1 would be top-left)\n  transformation: new Transformation(1, 0, 1, 0),\n\n  scale: function(zoom) {\n    // If zoom is provided then return scale based on map tile zoom\n    if (zoom) {\n      return Math.pow(2, zoom);\n    // Else, make no change to scale – may need to increase this or make it a\n    // user-definable variable\n    } else {\n      return 1;\n    }\n  },\n\n  zoom: function(scale) {\n    return Math.log(scale) / Math.LN2;\n  },\n\n  distance: function(latlon1, latlon2) {\n    var dx = latlon2.lon - latlon1.lon;\n    var dy = latlon2.lat - latlon1.lat;\n\n    return Math.sqrt(dx * dx + dy * dy);\n  },\n\n  infinite: true\n};\n\nconst Simple = extend({}, CRS, _Simple);\n\nexport default Simple;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/crs/CRS.Simple.js\n **/","/*\n * CRS.Proj4 for any Proj4-supported CRS.\n */\n\nimport extend from 'lodash.assign';\nimport Earth from './CRS.Earth';\nimport Proj4Projection from '../projection/Projection.Proj4';\nimport Transformation from '../../util/Transformation';\n\nvar _Proj4 = function(code, def, bounds) {\n  var projection = Proj4Projection(def, bounds);\n\n  // Transformation calcuations\n  var diffX = projection.bounds[1][0] - projection.bounds[0][0];\n  var diffY = projection.bounds[1][1] - projection.bounds[0][1];\n\n  var halfX = diffX / 2;\n  var halfY = diffY / 2;\n\n  // This is the raw scale factor\n  var scaleX = 1 / halfX;\n  var scaleY = 1 / halfY;\n\n  // Find the minimum scale factor\n  //\n  // The minimum scale factor comes from the largest side and is the one\n  // you want to use for both axis so they stay relative in dimension\n  var scale = Math.min(scaleX, scaleY);\n\n  // Find amount to offset each axis by to make the central point lie on\n  // the [0,0] origin\n  var offsetX = scale * (projection.bounds[0][0] + halfX);\n  var offsetY = scale * (projection.bounds[0][1] + halfY);\n\n  return {\n    code: code,\n    projection: projection,\n\n    transformScale: scale,\n\n    // Map the input to a [-1,1] range with [0,0] in the centre\n    transformation: new Transformation(scale, -offsetX, -scale, offsetY)\n  };\n};\n\nconst Proj4 = function(code, def, bounds) {\n  return extend({}, Earth, _Proj4(code, def, bounds));\n};\n\nexport default Proj4;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/crs/CRS.Proj4.js\n **/","/*\n * Proj4 support for any projection.\n */\n\nimport proj4 from 'proj4';\nimport LatLon from '../LatLon';\nimport Point from '../Point';\n\nconst Proj4 = function(def, bounds) {\n  var proj = proj4(def);\n\n  var project = function(latlon) {\n    return Point(proj.forward([latlon.lon, latlon.lat]));\n  };\n\n  var unproject = function(point) {\n    var inverse = proj.inverse([point.x, point.y]);\n    return LatLon(inverse[1], inverse[0]);\n  };\n\n  return {\n    project: project,\n    unproject: unproject,\n\n    // Scale factor for converting between real metres and projected metres\\\n    //\n    // Need to work out the best way to provide the pointScale calculations\n    // for custom, unknown projections (if wanting to override default)\n    //\n    // For now, user can manually override crs.pointScale or\n    // crs.projection.pointScale\n    //\n    // projectedMetres = realMetres * pointScale\n    // realMetres = projectedMetres / pointScale\n    pointScale: function(latlon, accurate) {\n      return [1, 1];\n    },\n\n    // Try and calculate bounds if none are provided\n    //\n    // This will provide incorrect bounds for some projections, so perhaps make\n    // bounds a required input instead\n    bounds: (function() {\n      if (bounds) {\n        return bounds;\n      } else {\n        var bottomLeft = project([-90, -180]);\n        var topRight = project([90, 180]);\n\n        return [bottomLeft, topRight];\n      }\n    })()\n  };\n};\n\nexport default Proj4;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/projection/Projection.Proj4.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"proj4\"\n ** module id = 22\n ** module chunks = 0\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport Scene from './Scene';\nimport Renderer from './Renderer';\nimport Camera from './Camera';\nimport Picking from './Picking';\n\nclass Engine extends EventEmitter {\n  constructor(container, world) {\n    console.log('Init Engine');\n\n    super();\n\n    this._world = world;\n    this._scene = Scene;\n    this._renderer = Renderer(container);\n    this._camera = Camera(container);\n\n    // TODO: Make this optional\n    this._picking = Picking(this._world, this._renderer, this._camera);\n\n    this.clock = new THREE.Clock();\n\n    this._frustum = new THREE.Frustum();\n  }\n\n  update(delta) {\n    this.emit('preRender');\n\n    this._renderer.render(this._scene, this._camera);\n\n    // Render picking scene\n    // this._renderer.render(this._picking._pickingScene, this._camera);\n\n    this.emit('postRender');\n  }\n\n  destroy() {\n    // Remove any remaining objects from scene\n    var child;\n    for (i = this._scene.children.length - 1; i >= 0; i--) {\n      child = this._scene.children[i];\n\n      if (!child) {\n        continue;\n      }\n\n      this._scene.remove(child);\n\n      if (child.geometry) {\n        // Dispose of mesh and materials\n        child.geometry.dispose();\n        child.geometry = null;\n      }\n\n      if (child.material) {\n        if (child.material.map) {\n          child.material.map.dispose();\n          child.material.map = null;\n        }\n\n        child.material.dispose();\n        child.material = null;\n      }\n    };\n\n    this._picking.destroy();\n    this._picking = null;\n\n    this._world = null;\n    this._scene = null;\n    this._renderer = null;\n    this._camera = null;\n    this._clock = null;\n    this._frustum = null;\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(container, world) {\n  return new Engine(container, world);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Engine.js\n **/","import THREE from 'three';\n\n// This can be imported from anywhere and will still reference the same scene,\n// though there is a helper reference in Engine.scene\n\nexport default (function() {\n  var scene = new THREE.Scene();\n\n  // TODO: Re-enable when this works with the skybox\n  // scene.fog = new THREE.Fog(0xffffff, 1, 15000);\n  return scene;\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Scene.js\n **/","import THREE from 'three';\nimport Scene from './Scene';\n\n// This can only be accessed from Engine.renderer if you want to reference the\n// same scene in multiple places\n\nexport default function(container) {\n  var renderer = new THREE.WebGLRenderer({\n    antialias: true\n  });\n\n  // TODO: Re-enable when this works with the skybox\n  // renderer.setClearColor(Scene.fog.color, 1);\n\n  renderer.setClearColor(0xffffff, 1);\n  renderer.setPixelRatio(window.devicePixelRatio);\n\n  // Gamma settings make things look nicer\n  renderer.gammaInput = true;\n  renderer.gammaOutput = true;\n\n  renderer.shadowMap.enabled = true;\n  renderer.shadowMap.cullFace = THREE.CullFaceBack;\n\n  container.appendChild(renderer.domElement);\n\n  var updateSize = function() {\n    renderer.setSize(container.clientWidth, container.clientHeight);\n  };\n\n  window.addEventListener('resize', updateSize, false);\n  updateSize();\n\n  return renderer;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Renderer.js\n **/","import THREE from 'three';\n\n// This can only be accessed from Engine.camera if you want to reference the\n// same scene in multiple places\n\n// TODO: Ensure that FOV looks natural on all aspect ratios\n// http://stackoverflow.com/q/26655930/997339\n\nexport default function(container) {\n  var camera = new THREE.PerspectiveCamera(45, 1, 1, 200000);\n  camera.position.y = 400;\n  camera.position.z = 400;\n\n  var updateSize = function() {\n    camera.aspect = container.clientWidth / container.clientHeight;\n    camera.updateProjectionMatrix();\n  };\n\n  window.addEventListener('resize', updateSize, false);\n  updateSize();\n\n  return camera;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Camera.js\n **/","/*\n * CRS.EPSG3395 (WGS 84 / World Mercator) CRS implementation.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG3395.js\n */\n\nimport extend from 'lodash.assign';\nimport Earth from './CRS.Earth';\nimport Mercator from '../projection/Projection.Mercator';\nimport Transformation from '../../util/Transformation';\n\nvar _EPSG3395 = {\n  code: 'EPSG:3395',\n  projection: Mercator,\n\n  // Work out how to de-dupe this (scoping issue)\n  transformScale: 1 / (Math.PI * Mercator.R),\n\n  // Scale and transformation inputs changed to account for central origin in\n  // WebGL, instead of top-left origin used in Leaflet\n  transformation: (function() {\n    // TODO: Cannot use this.transformScale due to scope\n    var scale = 1 / (Math.PI * Mercator.R);\n\n    return new Transformation(scale, 0, -scale, 0);\n  }())\n};\n\nconst EPSG3395 = extend({}, Earth, _EPSG3395);\n\nexport default EPSG3395;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/crs/CRS.EPSG3395.js\n **/","/*\n * Mercator projection that takes into account that the Earth is not a perfect\n * sphere. Less popular than spherical mercator; used by projections like\n * EPSG:3395.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/projection/Projection.Mercator.js\n */\n\nimport LatLon from '../LatLon';\nimport Point from '../Point';\n\nconst Mercator = {\n  // Radius / WGS84 semi-major axis\n  R: 6378137,\n  R_MINOR: 6356752.314245179,\n\n  // WGS84 eccentricity\n  ECC: 0.081819191,\n  ECC2: 0.081819191 * 0.081819191,\n\n  project: function(latlon) {\n    var d = Math.PI / 180;\n    var r = this.R;\n    var y = latlon.lat * d;\n    var tmp = this.R_MINOR / r;\n    var e = Math.sqrt(1 - tmp * tmp);\n    var con = e * Math.sin(y);\n\n    var ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);\n    y = -r * Math.log(Math.max(ts, 1E-10));\n\n    return Point(latlon.lon * d * r, y);\n  },\n\n  unproject: function(point) {\n    var d = 180 / Math.PI;\n    var r = this.R;\n    var tmp = this.R_MINOR / r;\n    var e = Math.sqrt(1 - tmp * tmp);\n    var ts = Math.exp(-point.y / r);\n    var phi = Math.PI / 2 - 2 * Math.atan(ts);\n\n    for (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {\n      con = e * Math.sin(phi);\n      con = Math.pow((1 - con) / (1 + con), e / 2);\n      dphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;\n      phi += dphi;\n    }\n\n    return LatLon(phi * d, point.x * d / r);\n  },\n\n  // Scale factor for converting between real metres and projected metres\n  //\n  // projectedMetres = realMetres * pointScale\n  // realMetres = projectedMetres / pointScale\n  //\n  // See pg.8: http://www.hydrometronics.com/downloads/Web%20Mercator%20-%20Non-Conformal,%20Non-Mercator%20(notes).pdf\n  pointScale: function(latlon) {\n    var rad = Math.PI / 180;\n    var lat = latlon.lat * rad;\n    var sinLat = Math.sin(lat);\n    var sinLat2 = sinLat * sinLat;\n    var cosLat = Math.cos(lat);\n\n    var k = Math.sqrt(1 - this.ECC2 * sinLat2) / cosLat;\n\n    // [scaleX, scaleY]\n    return [k, k];\n  },\n\n  bounds: [[-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]]\n};\n\nexport default Mercator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/projection/Projection.Mercator.js\n **/","/*\n * CRS.EPSG4326 is a CRS popular among advanced GIS specialists.\n *\n * Based on:\n * https://github.com/Leaflet/Leaflet/blob/master/src/geo/crs/CRS.EPSG4326.js\n */\n\nimport extend from 'lodash.assign';\nimport Earth from './CRS.Earth';\nimport LatLonProjection from '../projection/Projection.LatLon';\nimport Transformation from '../../util/Transformation';\n\nvar _EPSG4326 = {\n  code: 'EPSG:4326',\n  projection: LatLonProjection,\n\n  // Work out how to de-dupe this (scoping issue)\n  transformScale: 1 / 180,\n\n  // Scale and transformation inputs changed to account for central origin in\n  // WebGL, instead of top-left origin used in Leaflet\n  //\n  // TODO: Cannot use this.transformScale due to scope\n  transformation: new Transformation(1 / 180, 0, -1 / 180, 0)\n};\n\nconst EPSG4326 = extend({}, Earth, _EPSG4326);\n\nexport default EPSG4326;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/geo/crs/CRS.EPSG4326.js\n **/","import THREE from 'three';\nimport Point from '../geo/Point';\nimport PickingScene from './PickingScene';\n\n// TODO: Look into a way of setting this up without passing in a renderer and\n// camera from the engine\n\n// TODO: Add a basic indicator on or around the mouse pointer when it is over\n// something pickable / clickable\n//\n// A simple transparent disc or ring at the mouse point should work to start, or\n// even just changing the cursor to the CSS 'pointer' style\n//\n// Probably want this on mousemove with a throttled update as not to spam the\n// picking method\n//\n// Relies upon the picking method not redrawing the scene every call due to\n// the way TileLayer invalidates the picking scene\n\nvar nextId = 1;\n\nclass Picking {\n  constructor(world, renderer, camera) {\n    this._world = world;\n    this._renderer = renderer;\n    this._camera = camera;\n\n    this._raycaster = new THREE.Raycaster();\n\n    // TODO: Match this with the line width used in the picking layers\n    this._raycaster.linePrecision = 3;\n\n    this._pickingScene = PickingScene;\n    this._pickingTexture = new THREE.WebGLRenderTarget();\n    this._pickingTexture.texture.minFilter = THREE.LinearFilter;\n    this._pickingTexture.texture.generateMipmaps = false;\n\n    this._nextId = 1;\n\n    this._resizeTexture();\n    this._initEvents();\n  }\n\n  _initEvents() {\n    window.addEventListener('resize', this._resizeTexture.bind(this), false);\n\n    // this._renderer.domElement.addEventListener('mousemove', this._onMouseMove.bind(this), false);\n    this._renderer.domElement.addEventListener('mouseup', this._onMouseUp.bind(this), false);\n\n    this._world.on('move', this._onWorldMove, this);\n  }\n\n  _onMouseUp(event) {\n    // Only react to main button click\n    if (event.button !== 0) {\n      return;\n    }\n\n    var point = VIZI.Point(event.clientX, event.clientY);\n\n    var normalisedPoint = VIZI.Point(0, 0);\n    normalisedPoint.x = (point.x / this._width) * 2 - 1;\n    normalisedPoint.y = -(point.y / this._height) * 2 + 1;\n\n    this._pick(point, normalisedPoint);\n  }\n\n  _onWorldMove() {\n    this._needUpdate = true;\n  }\n\n  // TODO: Ensure this doesn't get out of sync issue with the renderer resize\n  _resizeTexture() {\n    var size = this._renderer.getSize();\n\n    this._width = size.width;\n    this._height = size.height;\n\n    this._pickingTexture.setSize(this._width, this._height);\n    this._pixelBuffer = new Uint8Array(4 * this._width * this._height);\n\n    this._needUpdate = true;\n  }\n\n  // TODO: Make this only re-draw the scene if both an update is needed and the\n  // camera has moved since the last update\n  //\n  // Otherwise it re-draws the scene on every click due to the way LOD updates\n  // work in TileLayer – spamming this.add() and this.remove()\n  //\n  // TODO: Pause updates during map move / orbit / zoom as this is unlikely to\n  // be a point in time where the user cares for picking functionality\n  _update() {\n    if (this._needUpdate) {\n      var texture = this._pickingTexture;\n\n      this._renderer.render(this._pickingScene, this._camera, this._pickingTexture);\n\n      // Read the rendering texture\n      this._renderer.readRenderTargetPixels(texture, 0, 0, texture.width, texture.height, this._pixelBuffer);\n\n      this._needUpdate = false;\n    }\n  }\n\n  _pick(point, normalisedPoint) {\n    this._update();\n\n    var index = point.x + (this._pickingTexture.height - point.y) * this._pickingTexture.width;\n\n    // Interpret the pixel as an ID\n    var id = (this._pixelBuffer[index * 4 + 2] * 255 * 255) + (this._pixelBuffer[index * 4 + 1] * 255) + (this._pixelBuffer[index * 4 + 0]);\n\n    // Skip if ID is 16646655 (white) as the background returns this\n    if (id === 16646655) {\n      return;\n    }\n\n    this._raycaster.setFromCamera(normalisedPoint, this._camera);\n\n    // Perform ray intersection on picking scene\n    //\n    // TODO: Only perform intersection test on the relevant picking mesh\n    var intersects = this._raycaster.intersectObjects(this._pickingScene.children, true);\n\n    var _point2d = point.clone();\n\n    var _point3d;\n    if (intersects.length > 0) {\n      _point3d = intersects[0].point.clone();\n    }\n\n    // Pass along as much data as possible for now until we know more about how\n    // people use the picking API and what the returned data should be\n    //\n    // TODO: Look into the leak potential for passing so much by reference here\n    this._world.emit('pick', id, _point2d, _point3d, intersects);\n    this._world.emit('pick-' + id, _point2d, _point3d, intersects);\n  }\n\n  // Add mesh to picking scene\n  //\n  // Picking ID should already be added as an attribute\n  add(mesh) {\n    this._pickingScene.add(mesh);\n    this._needUpdate = true;\n  }\n\n  // Remove mesh from picking scene\n  remove(mesh) {\n    this._pickingScene.remove(mesh);\n    this._needUpdate = true;\n  }\n\n  // Returns next ID to use for picking\n  getNextId() {\n    return nextId++;\n  }\n\n  destroy() {\n    // TODO: Find a way to properly remove these listeners as they stay\n    // active at the moment\n    window.removeEventListener('resize', this._resizeTexture, false);\n    this._renderer.domElement.removeEventListener('mouseup', this._onMouseUp, false);\n    this._world.off('move', this._onWorldMove);\n\n    if (this._pickingScene.children) {\n      // Remove everything else in the layer\n      var child;\n      for (var i = this._pickingScene.children.length - 1; i >= 0; i--) {\n        child = this._pickingScene.children[i];\n\n        if (!child) {\n          continue;\n        }\n\n        this._pickingScene.remove(child);\n\n        // Probably not a good idea to dispose of geometry due to it being\n        // shared with the non-picking scene\n        // if (child.geometry) {\n        //   // Dispose of mesh and materials\n        //   child.geometry.dispose();\n        //   child.geometry = null;\n        // }\n\n        if (child.material) {\n          if (child.material.map) {\n            child.material.map.dispose();\n            child.material.map = null;\n          }\n\n          child.material.dispose();\n          child.material = null;\n        }\n      }\n    }\n\n    this._pickingScene = null;\n    this._pickingTexture = null;\n    this._pixelBuffer = null;\n\n    this._world = null;\n    this._renderer = null;\n    this._camera = null;\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(world, renderer, camera) {\n  return new Picking(world, renderer, camera);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Picking.js\n **/","import THREE from 'three';\n\n// This can be imported from anywhere and will still reference the same scene,\n// though there is a helper reference in Engine.pickingScene\n\nexport default (function() {\n  var scene = new THREE.Scene();\n  return scene;\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/PickingScene.js\n **/","import Orbit from './Controls.Orbit';\n\nconst Controls = {\n  Orbit: Orbit\n};\n\nexport default Controls;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/index.js\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport OrbitControls from '../vendor/OrbitControls';\n\nclass Orbit extends EventEmitter {\n  constructor() {\n    super();\n  }\n\n  // Proxy control events\n  //\n  // There's currently no distinction between pan, orbit and zoom events\n  _initEvents() {\n    this._controls.addEventListener('start', (event) => {\n      this._world.emit('controlsMoveStart', event.target.target);\n    });\n\n    this._controls.addEventListener('change', (event) => {\n      this._world.emit('controlsMove', event.target.target);\n    });\n\n    this._controls.addEventListener('end', (event) => {\n      this._world.emit('controlsMoveEnd', event.target.target);\n    });\n  }\n\n  // Moving the camera along the [x,y,z] axis based on a target position\n  _panTo(point, animate) {}\n  _panBy(pointDelta, animate) {}\n\n  // Zooming the camera in and out\n  _zoomTo(metres, animate) {}\n  _zoomBy(metresDelta, animate) {}\n\n  // Force camera to look at something other than the target\n  _lookAt(point, animate) {}\n\n  // Make camera look at the target\n  _lookAtTarget() {}\n\n  // Tilt (up and down)\n  _tiltTo(angle, animate) {}\n  _tiltBy(angleDelta, animate) {}\n\n  // Rotate (left and right)\n  _rotateTo(angle, animate) {}\n  _rotateBy(angleDelta, animate) {}\n\n  // Fly to the given point, animating pan and tilt/rotation to final position\n  // with nice zoom out and in\n  //\n  // Calling flyTo a second time before the previous animation has completed\n  // will immediately start the new animation from wherever the previous one\n  // has got to\n  _flyTo(point, noZoom) {}\n\n  // Proxy to OrbitControls.update()\n  update() {\n    this._controls.update();\n  }\n\n  // Add controls to world instance and store world reference\n  addTo(world) {\n    world.addControls(this);\n    return this;\n  }\n\n  // Internal method called by World.addControls to actually add the controls\n  _addToWorld(world) {\n    this._world = world;\n\n    // TODO: Override panLeft and panUp methods to prevent panning on Y axis\n    // See: http://stackoverflow.com/a/26188674/997339\n    this._controls = new OrbitControls(world._engine._camera, world._container);\n\n    // Disable keys for now as no events are fired for them anyway\n    this._controls.keys = false;\n\n    // 89 degrees\n    this._controls.maxPolarAngle = 1.5533;\n\n    // this._controls.enableDamping = true;\n    // this._controls.dampingFactor = 0.25;\n\n    this._initEvents();\n\n    this.emit('added');\n  }\n\n  // Destroys the controls and removes them from memory\n  destroy() {\n    // TODO: Remove event listeners\n\n    this._controls.dispose();\n\n    this._world = null;\n    this._controls = null;\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function() {\n  return new Orbit();\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/Controls.Orbit.js\n **/","// jscs:disable\n/*eslint eqeqeq:0*/\n\nimport THREE from 'three';\nimport Hammer from 'hammerjs';\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn theta;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function() {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function () {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\n\t\t\ttheta = Math.atan2( offset.x, offset.z );\n\n\t\t\t// angle from y-axis\n\n\t\t\tphi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\ttheta += thetaDelta;\n\t\t\tphi += phiDelta;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\ttheta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tphi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, phi ) );\n\n\t\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n\t\t\tvar radius = offset.length() * scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tradius = Math.max( scope.minDistance, Math.min( scope.maxDistance, radius ) );\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add( panOffset );\n\n\t\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\t\toffset.y = radius * Math.cos( phi );\n\t\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tthetaDelta *= ( 1 - scope.dampingFactor );\n\t\t\t\tphiDelta *= ( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tthetaDelta = 0;\n\t\t\t\tphiDelta = 0;\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function() {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'mousewheel', onMouseWheel, false );\n\t\tscope.domElement.removeEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\tdocument.removeEventListener( 'mouseout', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar theta;\n\tvar phi;\n\n\tvar phiDelta = 0;\n\tvar thetaDelta = 0;\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tthetaDelta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tphiDelta -= angle;\n\n\t}\n\n\tvar panLeft = function() {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\t// return function panLeft( distance, objectMatrix ) {\n    //\n\t\t// \tvar te = objectMatrix.elements;\n    //\n\t\t// \t// get X column of objectMatrix\n\t\t// \tv.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n    //\n\t\t// \tv.multiplyScalar( - distance );\n    //\n\t\t// \tpanOffset.add( v );\n    //\n\t\t// };\n\n    // Fixed panning to x/y plane\n    return function panLeft(distance, objectMatrix) {\n\t    var te = objectMatrix.elements;\n\t    // var adjDist = distance / Math.cos(phi);\n\n\t    v.set(te[ 0 ], 0, te[ 2 ]);\n\t    v.multiplyScalar(-distance);\n\n\t    panOffset.add(v);\n\t  };\n\n\t}();\n\n  // Fixed panning to x/y plane\n\tvar panUp = function() {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\t// return function panUp( distance, objectMatrix ) {\n    //\n\t\t// \tvar te = objectMatrix.elements;\n    //\n\t\t// \t// get Y column of objectMatrix\n\t\t// \tv.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n    //\n\t\t// \tv.multiplyScalar( distance );\n    //\n\t\t// \tpanOffset.add( v );\n    //\n\t\t// };\n\n    return function panUp(distance, objectMatrix) {\n\t    var te = objectMatrix.elements;\n\t    var adjDist = distance / Math.cos(phi);\n\n\t    v.set(te[ 4 ], 0, te[ 6 ]);\n\t    v.multiplyScalar(adjDist);\n\n\t    panOffset.add(v);\n\t  };\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function() {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( event ) {\n\n\t\t//console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\t//console.log( 'handleMouseWheel' );\n\n\t\tvar delta = 0;\n\n\t\tif ( event.wheelDelta !== undefined ) {\n\n\t\t\t// WebKit / Opera / Explorer 9\n\n\t\t\tdelta = event.wheelDelta;\n\n\t\t} else if ( event.detail !== undefined ) {\n\n\t\t\t// Firefox\n\n\t\t\tdelta = - event.detail;\n\n\t\t}\n\n\t\tif ( delta > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( delta < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set( event.pointers[ 0 ].pageX, event.pointers[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\tvar dx = event.pointers[ 0 ].pageX - event.pointers[ 1 ].pageX;\n\t\tvar dy = event.pointers[ 0 ].pageY - event.pointers[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\t//console.log( 'handleTouchStartPan' );\n\n\t\tpanStart.set( event.deltaX, event.deltaY );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set( event.pointers[ 0 ].pageX, event.pointers[ 0 ].pageY );\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\tvar dx = event.pointers[ 0 ].pageX - event.pointers[ 1 ].pageX;\n\t\tvar dy = event.pointers[ 0 ].pageY - event.pointers[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\t//console.log( 'handleTouchMovePan' );\n\n\t\tpanEnd.set( event.deltaX, event.deltaY );\n\n\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchEnd( event ) {\n\n\t\t//console.log( 'handleTouchEnd' );\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\n\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\thandleMouseDownRotate( event );\n\n\t\t\tstate = STATE.ROTATE;\n\n\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\n\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\thandleMouseDownDolly( event );\n\n\t\t\tstate = STATE.DOLLY;\n\n\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\n\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\thandleMouseDownPan( event );\n\n\t\t\tstate = STATE.PAN;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\tdocument.addEventListener( 'mouseout', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\thandleMouseMoveRotate( event );\n\n\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\thandleMouseMoveDolly( event );\n\n\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\thandleMouseMovePan( event );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\tdocument.removeEventListener( 'mouseout', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleTouchStartDolly( event );\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\tscope.domElement.addEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n\t// scope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\t// scope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\t// scope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\tscope.hammer = new Hammer(scope.domElement);\n\n\tscope.hammer.get('pan').set({\n\t\tpointers: 0,\n\t\tdirection: Hammer.DIRECTION_ALL\n\t});\n\n\tscope.hammer.get('pinch').set({\n\t\tenable: true,\n\t\tthreshold: 0.1\n\t});\n\n\tscope.hammer.on('panstart', function(event) {\n\t\tif (scope.enabled === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.pointerType === 'mouse') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.pointers.length === 1) {\n\t\t\tif (scope.enablePan === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thandleTouchStartPan(event);\n\t\t\t// panStart.set(event.deltaX, event.deltaY);\n\n\t\t\tstate = STATE.TOUCH_PAN;\n\t\t} else if (event.pointers.length === 2) {\n\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\thandleTouchStartRotate( event );\n\n\t\t\tstate = STATE.TOUCH_ROTATE;\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t});\n\n\tscope.hammer.on('panend', function(event) {\n\t\tif (event.pointerType === 'mouse') {\n\t\t\treturn;\n\t\t}\n\n\t\tonTouchEnd(event);\n\t});\n\n\tscope.hammer.on('panmove', function(event) {\n\t\tif ( scope.enabled === false ) return;\n\n\t\tif (event.pointerType === 'mouse') {\n\t\t\treturn;\n\t\t}\n\n\t\t// event.preventDefault();\n\t\t// event.stopPropagation();\n\n\t\tif (event.pointers.length === 1) {\n\t\t\tif ( scope.enablePan === false ) return;\n\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n\t\t\thandleTouchMovePan( event );\n\n\t\t\t// panEnd.set( event.deltaX, event.deltaY );\n\t\t\t//\n\t\t\t// panDelta.subVectors( panEnd, panStart );\n\t\t\t//\n\t\t\t// pan( panDelta.x, panDelta.y );\n\t\t\t//\n\t\t\t// panStart.copy( panEnd );\n\t\t\t//\n\t\t\t// scope.update();\n\t\t} else if (event.pointers.length === 2) {\n\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n\t\t\thandleTouchMoveRotate( event );\n\t\t}\n\t});\n\n\tscope.hammer.on('pinchstart', function(event) {\n\t\tif ( scope.enabled === false ) return;\n\n\t\tif (event.pointerType === 'mouse') {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( scope.enableZoom === false ) return;\n\n\t\thandleTouchStartDolly( event );\n\n\t\t// var dx = event.pointers[ 0 ].pageX - event.pointers[ 1 ].pageX;\n\t\t// var dy = event.pointers[ 0 ].pageY - event.pointers[ 1 ].pageY;\n\t\t//\n\t\t// var distance = Math.sqrt( dx * dx + dy * dy );\n\t\t//\n\t\t// dollyStart.set( 0, distance );\n\t\t//\n\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\tif (state !== STATE.NONE) {\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t});\n\n\tscope.hammer.on('pinchend', function(event) {\n\t\tif (event.pointerType === 'mouse') {\n\t\t\treturn;\n\t\t}\n\n\t\tonTouchEnd(event);\n\t});\n\n\tscope.hammer.on('pinchmove', function(event) {\n\t\tif ( scope.enabled === false ) return;\n\n\t\tif (event.pointerType === 'mouse') {\n\t\t\treturn;\n\t\t}\n\n\t\t// event.preventDefault();\n\t\t// event.stopPropagation();\n\n\t\tif ( scope.enableZoom === false ) return;\n\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n\t\thandleTouchMoveDolly( event );\n\n\t\t// var dx = event.pointers[ 0 ].pageX - event.pointers[ 1 ].pageX;\n\t\t// var dy = event.pointers[ 0 ].pageY - event.pointers[ 1 ].pageY;\n\t\t//\n\t\t// var distance = Math.sqrt( dx * dx + dy * dy );\n\t\t//\n\t\t// dollyEnd.set( 0, distance );\n\t\t//\n\t\t// dollyDelta.subVectors( dollyEnd, dollyStart );\n\t\t//\n\t\t// if ( dollyDelta.y > 0 ) {\n\t\t//\n\t\t// \tdollyOut( getZoomScale() );\n\t\t//\n\t\t// } else if ( dollyDelta.y < 0 ) {\n\t\t//\n\t\t// \tdollyIn( getZoomScale() );\n\t\t//\n\t\t// }\n\t\t//\n\t\t// dollyStart.copy( dollyEnd );\n\t\t//\n\t\t// scope.update();\n\t});\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nOrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties( OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\treturn this.target;\n\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\treturn ! this.enableZoom;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\tthis.enableZoom = ! value;\n\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\treturn ! this.enableRotate;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\tthis.enableRotate = ! value;\n\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\treturn ! this.enablePan;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\tthis.enablePan = ! value;\n\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\treturn ! this.enableKeys;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\tthis.enableKeys = ! value;\n\n\t\t}\n\n\t},\n\n\tstaticMoving : {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\treturn ! this.constraint.enableDamping;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\tthis.constraint.enableDamping = ! value;\n\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor : {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\treturn this.constraint.dampingFactor;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\tthis.constraint.dampingFactor = value;\n\n\t\t}\n\n\t}\n\n} );\n\nexport default OrbitControls;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vendor/OrbitControls.js\n **/","/*! Hammer.JS - v2.0.6 - 2015-12-23\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2015 Jorik Tangelder;\n * Licensed under the  license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean=false} [merge]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.allow = true; // used by Input.TouchMouse to disable mouse events\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down, and mouse events are allowed (see the TouchMouse input)\n        if (!this.pressed || !this.allow) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        // when we're in a touch event, so  block all upcoming mouse events\n        // most mobile browser also emit mouseevents, right after touchstart\n        if (isTouch) {\n            this.mouse.allow = false;\n        } else if (isMouse && !this.mouse.allow) {\n            return;\n        }\n\n        // reset the allowMouse when we're done\n        if (inputEvent & (INPUT_END | INPUT_CANCEL)) {\n            this.mouse.allow = true;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        // not needed with native support for the touchAction property\n        if (NATIVE_TOUCH_ACTION) {\n            return;\n        }\n\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE);\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.6';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    each(manager.options.cssProps, function(value, name) {\n        element.style[prefixed(element.style, name)] = add ? value : '';\n    });\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/hammerjs/hammer.js\n ** module id = 33\n ** module chunks = 0\n **/","import Layer from '../Layer';\nimport extend from 'lodash.assign';\nimport THREE from 'three';\nimport Skybox from './Skybox';\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\nclass EnvironmentLayer extends Layer {\n  constructor(options) {\n    super();\n\n    var defaults = {\n      skybox: false\n    };\n\n    this._options = extend(defaults, options);\n  }\n\n  _onAdd() {\n    this._initLights();\n\n    if (this._options.skybox) {\n      this._initSkybox();\n    }\n\n    // this._initGrid();\n  }\n\n  // Not fleshed out or thought through yet\n  //\n  // Lights could potentially be put it their own 'layer' to keep this class\n  // much simpler and less messy\n  _initLights() {\n    // Position doesn't really matter (the angle is important), however it's\n    // used here so the helpers look more natural.\n\n    if (!this._options.skybox) {\n      var directionalLight = new THREE.DirectionalLight(0x999999);\n      directionalLight.intesity = 0.1;\n      directionalLight.position.x = 100;\n      directionalLight.position.y = 100;\n      directionalLight.position.z = 100;\n\n      var directionalLight2 = new THREE.DirectionalLight(0x999999);\n      directionalLight2.intesity = 0.1;\n      directionalLight2.position.x = -100;\n      directionalLight2.position.y = 100;\n      directionalLight2.position.z = -100;\n\n      var helper = new THREE.DirectionalLightHelper(directionalLight, 10);\n      var helper2 = new THREE.DirectionalLightHelper(directionalLight2, 10);\n\n      this.add(directionalLight);\n      this.add(directionalLight2);\n\n      this.add(helper);\n      this.add(helper2);\n    } else {\n      // Directional light that will be projected from the sun\n      this._skyboxLight = new THREE.DirectionalLight(0xffffff, 1);\n\n      this._skyboxLight.castShadow = true;\n\n      var d = 1000;\n      this._skyboxLight.shadow.camera.left = -d;\n      this._skyboxLight.shadow.camera.right = d;\n      this._skyboxLight.shadow.camera.top = d;\n      this._skyboxLight.shadow.camera.bottom = -d;\n\n      this._skyboxLight.shadow.camera.near = 10000;\n      this._skyboxLight.shadow.camera.far = 70000;\n\n      // TODO: Need to dial in on a good shadowmap size\n      this._skyboxLight.shadow.mapSize.width = 2048;\n      this._skyboxLight.shadow.mapSize.height = 2048;\n\n      // this._skyboxLight.shadowBias = -0.0010;\n      // this._skyboxLight.shadow.darkness = 0.15;\n\n      // this._layer.add(new THREE.CameraHelper(this._skyboxLight.shadow.camera));\n\n      this.add(this._skyboxLight);\n    }\n  }\n\n  _initSkybox() {\n    this._skybox = Skybox(this._world, this._skyboxLight);\n    this.add(this._skybox._mesh);\n  }\n\n  // Add grid helper for context during initial development\n  _initGrid() {\n    var size = 4000;\n    var step = 100;\n\n    var gridHelper = new THREE.GridHelper(size, step);\n    this.add(gridHelper);\n  }\n\n  // Clean up environment\n  destroy() {\n    this._skyboxLight = null;\n\n    this.remove(this._skybox._mesh);\n    this._skybox.destroy();\n    this._skybox = null;\n\n    super.destroy();\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(options) {\n  return new EnvironmentLayer(options);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/environment/EnvironmentLayer.js\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport Scene from '../engine/Scene';\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\nclass Layer extends EventEmitter {\n  constructor() {\n    super();\n\n    this._layer = new THREE.Object3D();\n  }\n\n  // Add THREE object directly to layer\n  add(object) {\n    this._layer.add(object);\n  }\n\n  // Remove THREE object from to layer\n  remove(object) {\n    this._layer.remove(object);\n  }\n\n  // Add layer to world instance and store world reference\n  addTo(world) {\n    world.addLayer(this);\n    return this;\n  }\n\n  // Internal method called by World.addLayer to actually add the layer\n  _addToWorld(world) {\n    this._world = world;\n    this._onAdd(world);\n    this.emit('added');\n  }\n\n  getPickingId() {\n    if (this._world._engine._picking) {\n      return this._world._engine._picking.getNextId();\n    }\n\n    return false;\n  }\n\n  // TODO: Tidy this up and don't access so many private properties to work\n  addToPicking(mesh) {\n    if (!this._world._engine._picking) {\n      return;\n    }\n\n    this._world._engine._picking.add(mesh);\n  }\n\n  removeFromPicking(mesh) {\n    if (!this._world._engine._picking) {\n      return;\n    }\n\n    this._world._engine._picking.remove(mesh);\n  }\n\n  // Destroys the layer and removes it from the scene and memory\n  destroy() {\n    if (this._layer.children) {\n      // Remove everything else in the layer\n      var child;\n      for (var i = this._layer.children.length - 1; i >= 0; i--) {\n        child = this._layer.children[i];\n\n        if (!child) {\n          continue;\n        }\n\n        this.remove(child);\n\n        if (child.geometry) {\n          // Dispose of mesh and materials\n          child.geometry.dispose();\n          child.geometry = null;\n        }\n\n        if (child.material) {\n          if (child.material.map) {\n            child.material.map.dispose();\n            child.material.map = null;\n          }\n\n          child.material.dispose();\n          child.material = null;\n        }\n      }\n    }\n\n    this._world = null;\n    this._layer = null;\n  }\n}\n\nexport default Layer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/Layer.js\n **/","import THREE from 'three';\nimport Sky from './Sky';\nimport throttle from 'lodash.throttle';\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\nvar cubemap = {\n  vertexShader: [\n\t\t'varying vec3 vPosition;',\n\t\t'void main() {',\n\t\t\t'vPosition = position;',\n\t\t\t'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\n\t\t'}'\n\t].join('\\n'),\n\n  fragmentShader: [\n    'uniform samplerCube cubemap;',\n    'varying vec3 vPosition;',\n\n    'void main() {',\n      'gl_FragColor = textureCube(cubemap, normalize(vPosition));',\n    '}'\n  ].join('\\n')\n};\n\nclass Skybox {\n  constructor(world, light) {\n    this._world = world;\n    this._light = light;\n\n    this._settings = {\n      distance: 38000,\n      turbidity: 10,\n      reileigh: 2,\n      mieCoefficient: 0.005,\n      mieDirectionalG: 0.8,\n      luminance: 1,\n      // 0.48 is a cracking dusk / sunset\n      // 0.4 is a beautiful early-morning / late-afternoon\n      // 0.2 is a nice day time\n      inclination: 0.48, // Elevation / inclination\n      azimuth: 0.25, // Facing front\n    };\n\n    this._initSkybox();\n    this._updateUniforms();\n    this._initEvents();\n  }\n\n  _initEvents() {\n    // Throttled to 1 per 100ms\n    this._throttledWorldUpdate = throttle(this._update, 100);\n    this._world.on('preUpdate', this._throttledWorldUpdate, this);\n  }\n\n  _initSkybox() {\n    // Cube camera for skybox\n    this._cubeCamera = new THREE.CubeCamera(1, 2000000, 128);\n\n    // Cube material\n    var cubeTarget = this._cubeCamera.renderTarget;\n\n    // Add Sky Mesh\n    this._sky = new Sky();\n    this._skyScene = new THREE.Scene();\n    this._skyScene.add(this._sky.mesh);\n\n    // Add Sun Helper\n    this._sunSphere = new THREE.Mesh(\n      new THREE.SphereBufferGeometry(2000, 16, 8),\n      new THREE.MeshBasicMaterial({\n        color: 0xffffff\n      })\n    );\n\n    // TODO: This isn't actually visible because it's not added to the layer\n    // this._sunSphere.visible = true;\n\n    var skyboxUniforms = {\n      cubemap: { type: 't', value: cubeTarget }\n    };\n\n    var skyboxMat = new THREE.ShaderMaterial({\n      uniforms: skyboxUniforms,\n      vertexShader: cubemap.vertexShader,\n      fragmentShader: cubemap.fragmentShader,\n      side: THREE.BackSide\n    });\n\n    this._mesh = new THREE.Mesh(new THREE.BoxGeometry(190000, 190000, 190000), skyboxMat);\n\n    this._updateSkybox = true;\n  }\n\n  _updateUniforms() {\n    var settings = this._settings;\n    var uniforms = this._sky.uniforms;\n    uniforms.turbidity.value = settings.turbidity;\n    uniforms.reileigh.value = settings.reileigh;\n    uniforms.luminance.value = settings.luminance;\n    uniforms.mieCoefficient.value = settings.mieCoefficient;\n    uniforms.mieDirectionalG.value = settings.mieDirectionalG;\n\n    var theta = Math.PI * (settings.inclination - 0.5);\n    var phi = 2 * Math.PI * (settings.azimuth - 0.5);\n\n    this._sunSphere.position.x = settings.distance * Math.cos(phi);\n    this._sunSphere.position.y = settings.distance * Math.sin(phi) * Math.sin(theta);\n    this._sunSphere.position.z = settings.distance * Math.sin(phi) * Math.cos(theta);\n\n    // Move directional light to sun position\n    this._light.position.copy(this._sunSphere.position);\n\n    this._sky.uniforms.sunPosition.value.copy(this._sunSphere.position);\n  }\n\n  _update(delta) {\n    if (this._updateSkybox) {\n      this._updateSkybox = false;\n    } else {\n      return;\n    }\n\n    // if (!this._angle) {\n    //   this._angle = 0;\n    // }\n    //\n    // // Animate inclination\n    // this._angle += Math.PI * delta;\n    // this._settings.inclination = 0.5 * (Math.sin(this._angle) / 2 + 0.5);\n\n    // Update light intensity depending on elevation of sun (day to night)\n    this._light.intensity = 1 - 0.95 * (this._settings.inclination / 0.5);\n\n    // // console.log(delta, this._angle, this._settings.inclination);\n    //\n    // TODO: Only do this when the uniforms have been changed\n    this._updateUniforms();\n\n    // TODO: Only do this when the cubemap has actually changed\n    this._cubeCamera.updateCubeMap(this._world._engine._renderer, this._skyScene);\n  }\n\n  getRenderTarget() {\n    return this._cubeCamera.renderTarget;\n  }\n\n  setInclination(inclination) {\n    this._settings.inclination = inclination;\n    this._updateSkybox = true;\n  }\n\n  // Destroy the skybox and remove it from memory\n  destroy() {\n    this._world.off('preUpdate', this._throttledWorldUpdate);\n    this._throttledWorldUpdate = null;\n\n    this._world = null;\n    this._light = null;\n\n    this._cubeCamera = null;\n\n    this._sky.mesh.geometry.dispose();\n    this._sky.mesh.geometry = null;\n\n    if (this._sky.mesh.material.map) {\n      this._sky.mesh.material.map.dispose();\n      this._sky.mesh.material.map = null;\n    }\n\n    this._sky.mesh.material.dispose();\n    this._sky.mesh.material = null;\n\n    this._sky.mesh = null;\n    this._sky = null;\n\n    this._skyScene = null;\n\n    this._sunSphere.geometry.dispose();\n    this._sunSphere.geometry = null;\n\n    if (this._sunSphere.material.map) {\n      this._sunSphere.material.map.dispose();\n      this._sunSphere.material.map = null;\n    }\n\n    this._sunSphere.material.dispose();\n    this._sunSphere.material = null;\n\n    this._sunSphere = null;\n\n    this._mesh.geometry.dispose();\n    this._mesh.geometry = null;\n\n    if (this._mesh.material.map) {\n      this._mesh.material.map.dispose();\n      this._mesh.material.map = null;\n    }\n\n    this._mesh.material.dispose();\n    this._mesh.material = null;\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(world, light) {\n  return new Skybox(world, light);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/environment/Skybox.js\n **/","/**\n * lodash 4.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar debounce = require('lodash.debounce');\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide an options object to indicate whether\n * `func` should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n * on the trailing edge of the timeout only if the the throttled function is\n * invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.leading=true] Specify invoking on the leading\n *  edge of the timeout.\n * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n *  edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // avoid excessively updating the position while scrolling\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // cancel a trailing throttled invocation\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, { 'leading': leading, 'maxWait': wait, 'trailing': trailing });\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = throttle;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.throttle/index.js\n ** module id = 38\n ** module chunks = 0\n **/","// jscs:disable\n/*eslint eqeqeq:0*/\n\n/**\n * @author zz85 / https://github.com/zz85\n *\n * Based on 'A Practical Analytic Model for Daylight'\n * aka The Preetham Model, the de facto standard analytic skydome model\n * http://www.cs.utah.edu/~shirley/papers/sunsky/sunsky.pdf\n *\n * First implemented by Simon Wallner\n * http://www.simonwallner.at/projects/atmospheric-scattering\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n*/\n\nimport THREE from 'three';\n\nTHREE.ShaderLib[ 'sky' ] = {\n\n\tuniforms: {\n\n\t\tluminance:\t { type: 'f', value: 1 },\n\t\tturbidity:\t { type: 'f', value: 2 },\n\t\treileigh:\t { type: 'f', value: 1 },\n\t\tmieCoefficient:\t { type: 'f', value: 0.005 },\n\t\tmieDirectionalG: { type: 'f', value: 0.8 },\n\t\tsunPosition: \t { type: 'v3', value: new THREE.Vector3() }\n\n\t},\n\n\tvertexShader: [\n\n\t\t'varying vec3 vWorldPosition;',\n\n\t\t'void main() {',\n\n\t\t\t'vec4 worldPosition = modelMatrix * vec4( position, 1.0 );',\n\t\t\t'vWorldPosition = worldPosition.xyz;',\n\n\t\t\t'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\n\n\t\t'}',\n\n\t].join( '\\n' ),\n\n\tfragmentShader: [\n\n\t\t'uniform sampler2D skySampler;',\n\t\t'uniform vec3 sunPosition;',\n\t\t'varying vec3 vWorldPosition;',\n\n\t\t'vec3 cameraPos = vec3(0., 0., 0.);',\n\t\t'// uniform sampler2D sDiffuse;',\n\t\t'// const float turbidity = 10.0; //',\n\t\t'// const float reileigh = 2.; //',\n\t\t'// const float luminance = 1.0; //',\n\t\t'// const float mieCoefficient = 0.005;',\n\t\t'// const float mieDirectionalG = 0.8;',\n\n\t\t'uniform float luminance;',\n\t\t'uniform float turbidity;',\n\t\t'uniform float reileigh;',\n\t\t'uniform float mieCoefficient;',\n\t\t'uniform float mieDirectionalG;',\n\n\t\t'// constants for atmospheric scattering',\n\t\t'const float e = 2.71828182845904523536028747135266249775724709369995957;',\n\t\t'const float pi = 3.141592653589793238462643383279502884197169;',\n\n\t\t'const float n = 1.0003; // refractive index of air',\n\t\t'const float N = 2.545E25; // number of molecules per unit volume for air at',\n\t\t\t\t\t\t\t\t'// 288.15K and 1013mb (sea level -45 celsius)',\n\t\t'const float pn = 0.035;\t// depolatization factor for standard air',\n\n\t\t'// wavelength of used primaries, according to preetham',\n\t\t'const vec3 lambda = vec3(680E-9, 550E-9, 450E-9);',\n\n\t\t'// mie stuff',\n\t\t'// K coefficient for the primaries',\n\t\t'const vec3 K = vec3(0.686, 0.678, 0.666);',\n\t\t'const float v = 4.0;',\n\n\t\t'// optical length at zenith for molecules',\n\t\t'const float rayleighZenithLength = 8.4E3;',\n\t\t'const float mieZenithLength = 1.25E3;',\n\t\t'const vec3 up = vec3(0.0, 1.0, 0.0);',\n\n\t\t'const float EE = 1000.0;',\n\t\t'const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;',\n\t\t'// 66 arc seconds -> degrees, and the cosine of that',\n\n\t\t'// earth shadow hack',\n\t\t'const float cutoffAngle = pi/1.95;',\n\t\t'const float steepness = 1.5;',\n\n\n\t\t'vec3 totalRayleigh(vec3 lambda)',\n\t\t'{',\n\t\t\t'return (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));',\n\t\t'}',\n\n\t\t// see http://blenderartists.org/forum/showthread.php?321110-Shaders-and-Skybox-madness\n\t\t'// A simplied version of the total Reayleigh scattering to works on browsers that use ANGLE',\n\t\t'vec3 simplifiedRayleigh()',\n\t\t'{',\n\t\t\t'return 0.0005 / vec3(94, 40, 18);',\n\t\t\t// return 0.00054532832366 / (3.0 * 2.545E25 * pow(vec3(680E-9, 550E-9, 450E-9), vec3(4.0)) * 6.245);\n\t\t'}',\n\n\t\t'float rayleighPhase(float cosTheta)',\n\t\t'{\t ',\n\t\t\t'return (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));',\n\t\t'//\treturn (1.0 / (3.0*pi)) * (1.0 + pow(cosTheta, 2.0));',\n\t\t'//\treturn (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));',\n\t\t'}',\n\n\t\t'vec3 totalMie(vec3 lambda, vec3 K, float T)',\n\t\t'{',\n\t\t\t'float c = (0.2 * T ) * 10E-18;',\n\t\t\t'return 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;',\n\t\t'}',\n\n\t\t'float hgPhase(float cosTheta, float g)',\n\t\t'{',\n\t\t\t'return (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));',\n\t\t'}',\n\n\t\t'float sunIntensity(float zenithAngleCos)',\n\t\t'{',\n\t\t\t'return EE * max(0.0, 1.0 - exp(-((cutoffAngle - acos(zenithAngleCos))/steepness)));',\n\t\t'}',\n\n\t\t'// float logLuminance(vec3 c)',\n\t\t'// {',\n\t\t'// \treturn log(c.r * 0.2126 + c.g * 0.7152 + c.b * 0.0722);',\n\t\t'// }',\n\n\t\t'// Filmic ToneMapping http://filmicgames.com/archives/75',\n\t\t'float A = 0.15;',\n\t\t'float B = 0.50;',\n\t\t'float C = 0.10;',\n\t\t'float D = 0.20;',\n\t\t'float E = 0.02;',\n\t\t'float F = 0.30;',\n\t\t'float W = 1000.0;',\n\n\t\t'vec3 Uncharted2Tonemap(vec3 x)',\n\t\t'{',\n\t\t   'return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;',\n\t\t'}',\n\n\n\t\t'void main() ',\n\t\t'{',\n\t\t\t'float sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);',\n\n\t\t\t'// luminance =  1.0 ;// vWorldPosition.y / 450000. + 0.5; //sunPosition.y / 450000. * 1. + 0.5;',\n\n\t\t\t '// gl_FragColor = vec4(sunfade, sunfade, sunfade, 1.0);',\n\n\t\t\t'float reileighCoefficient = reileigh - (1.0* (1.0-sunfade));',\n\n\t\t\t'vec3 sunDirection = normalize(sunPosition);',\n\n\t\t\t'float sunE = sunIntensity(dot(sunDirection, up));',\n\n\t\t\t'// extinction (absorbtion + out scattering) ',\n\t\t\t'// rayleigh coefficients',\n\n\t\t\t// 'vec3 betaR = totalRayleigh(lambda) * reileighCoefficient;',\n\t\t\t'vec3 betaR = simplifiedRayleigh() * reileighCoefficient;',\n\n\t\t\t'// mie coefficients',\n\t\t\t'vec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;',\n\n\t\t\t'// optical length',\n\t\t\t'// cutoff angle at 90 to avoid singularity in next formula.',\n\t\t\t'float zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));',\n\t\t\t'float sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));',\n\t\t\t'float sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));',\n\n\n\n\t\t\t'// combined extinction factor\t',\n\t\t\t'vec3 Fex = exp(-(betaR * sR + betaM * sM));',\n\n\t\t\t'// in scattering',\n\t\t\t'float cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);',\n\n\t\t\t'float rPhase = rayleighPhase(cosTheta*0.5+0.5);',\n\t\t\t'vec3 betaRTheta = betaR * rPhase;',\n\n\t\t\t'float mPhase = hgPhase(cosTheta, mieDirectionalG);',\n\t\t\t'vec3 betaMTheta = betaM * mPhase;',\n\n\n\t\t\t'vec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));',\n\t\t\t'Lin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));',\n\n\t\t\t'//nightsky',\n\t\t\t'vec3 direction = normalize(vWorldPosition - cameraPos);',\n\t\t\t'float theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]',\n\t\t\t'float phi = atan(direction.z, direction.x); // azimuth --> x-axis [-pi/2, pi/2]',\n\t\t\t'vec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);',\n\t\t\t'// vec3 L0 = texture2D(skySampler, uv).rgb+0.1 * Fex;',\n\t\t\t'vec3 L0 = vec3(0.1) * Fex;',\n\n\t\t\t'// composition + solar disc',\n\t\t\t'//if (cosTheta > sunAngularDiameterCos)',\n\t\t\t'float sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);',\n\t\t\t'// if (normalize(vWorldPosition - cameraPos).y>0.0)',\n\t\t\t'L0 += (sunE * 19000.0 * Fex)*sundisk;',\n\n\n\t\t\t'vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));',\n\n\t\t\t'vec3 texColor = (Lin+L0);   ',\n\t\t\t'texColor *= 0.04 ;',\n\t\t\t'texColor += vec3(0.0,0.001,0.0025)*0.3;',\n\n\t\t\t'float g_fMaxLuminance = 1.0;',\n\t\t\t'float fLumScaled = 0.1 / luminance;     ',\n\t\t\t'float fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); ',\n\n\t\t\t'float ExposureBias = fLumCompressed;',\n\n\t\t\t'vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);',\n\t\t\t'vec3 color = curr*whiteScale;',\n\n\t\t\t'vec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));',\n\n\n\t\t\t'gl_FragColor.rgb = retColor;',\n\n\t\t\t'gl_FragColor.a = 1.0;',\n\t\t'}',\n\n\t].join( '\\n' )\n\n};\n\nvar Sky = function () {\n\n\tvar skyShader = THREE.ShaderLib[ 'sky' ];\n\tvar skyUniforms = THREE.UniformsUtils.clone( skyShader.uniforms );\n\n\tvar skyMat = new THREE.ShaderMaterial( {\n\t\tfragmentShader: skyShader.fragmentShader,\n\t\tvertexShader: skyShader.vertexShader,\n\t\tuniforms: skyUniforms,\n\t\tside: THREE.BackSide\n\t} );\n\n\tvar skyGeo = new THREE.SphereBufferGeometry( 450000, 32, 15 );\n\tvar skyMesh = new THREE.Mesh( skyGeo, skyMat );\n\n\n\t// Expose variables\n\tthis.mesh = skyMesh;\n\tthis.uniforms = skyUniforms;\n\n};\n\nexport default Sky;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/environment/Sky.js\n **/","/**\n * lodash 4.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => logs the number of milliseconds it took for the deferred function to be invoked\n */\nvar now = Date.now;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide an options object to indicate whether `func` should be invoked on\n * the leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent calls\n * to the debounced function return the result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n * on the trailing edge of the timeout only if the the debounced function is\n * invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.leading=false] Specify invoking on the leading\n *  edge of the timeout.\n * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n *  delayed before it's invoked.\n * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n *  edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var args,\n      maxTimeoutId,\n      result,\n      stamp,\n      thisArg,\n      timeoutId,\n      trailingCall,\n      lastCalled = 0,\n      leading = false,\n      maxWait = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxWait = 'maxWait' in options && nativeMax(toNumber(options.maxWait) || 0, wait);\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    if (maxTimeoutId) {\n      clearTimeout(maxTimeoutId);\n    }\n    lastCalled = 0;\n    args = maxTimeoutId = thisArg = timeoutId = trailingCall = undefined;\n  }\n\n  function complete(isCalled, id) {\n    if (id) {\n      clearTimeout(id);\n    }\n    maxTimeoutId = timeoutId = trailingCall = undefined;\n    if (isCalled) {\n      lastCalled = now();\n      result = func.apply(thisArg, args);\n      if (!timeoutId && !maxTimeoutId) {\n        args = thisArg = undefined;\n      }\n    }\n  }\n\n  function delayed() {\n    var remaining = wait - (now() - stamp);\n    if (remaining <= 0 || remaining > wait) {\n      complete(trailingCall, maxTimeoutId);\n    } else {\n      timeoutId = setTimeout(delayed, remaining);\n    }\n  }\n\n  function flush() {\n    if ((timeoutId && trailingCall) || (maxTimeoutId && trailing)) {\n      result = func.apply(thisArg, args);\n    }\n    cancel();\n    return result;\n  }\n\n  function maxDelayed() {\n    complete(trailing, timeoutId);\n  }\n\n  function debounced() {\n    args = arguments;\n    stamp = now();\n    thisArg = this;\n    trailingCall = trailing && (timeoutId || !leading);\n\n    if (maxWait === false) {\n      var leadingCall = leading && !timeoutId;\n    } else {\n      if (!maxTimeoutId && !leading) {\n        lastCalled = stamp;\n      }\n      var remaining = maxWait - (stamp - lastCalled),\n          isCalled = remaining <= 0 || remaining > maxWait;\n\n      if (isCalled) {\n        if (maxTimeoutId) {\n          maxTimeoutId = clearTimeout(maxTimeoutId);\n        }\n        lastCalled = stamp;\n        result = func.apply(thisArg, args);\n      }\n      else if (!maxTimeoutId) {\n        maxTimeoutId = setTimeout(maxDelayed, remaining);\n      }\n    }\n    if (isCalled && timeoutId) {\n      timeoutId = clearTimeout(timeoutId);\n    }\n    else if (!timeoutId && wait !== maxWait) {\n      timeoutId = setTimeout(delayed, wait);\n    }\n    if (leadingCall) {\n      isCalled = true;\n      result = func.apply(thisArg, args);\n    }\n    if (isCalled && !timeoutId && !maxTimeoutId) {\n      args = thisArg = undefined;\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3);\n * // => 3\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3');\n * // => 3\n */\nfunction toNumber(value) {\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.throttle/~/lodash.debounce/index.js\n ** module id = 39\n ** module chunks = 0\n **/","import TileLayer from './TileLayer';\nimport ImageTile from './ImageTile';\nimport ImageTileLayerBaseMaterial from './ImageTileLayerBaseMaterial';\nimport throttle from 'lodash.throttle';\nimport THREE from 'three';\nimport extend from 'lodash.assign';\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\n// DONE: Find a way to avoid the flashing caused by the gap between old tiles\n// being removed and the new tiles being ready for display\n//\n// DONE: Simplest first step for MVP would be to give each tile mesh the colour\n// of the basemap ground so it blends in a little more, or have a huge ground\n// plane underneath all the tiles that shows through between tile updates.\n//\n// Could keep the old tiles around until the new ones are ready, though they'd\n// probably need to be layered in a way so the old tiles don't overlap new ones,\n// which is similar to how Leaflet approaches this (it has 2 layers)\n//\n// Could keep the tile from the previous quadtree level visible until all 4\n// tiles at the new / current level have finished loading and are displayed.\n// Perhaps by keeping a map of tiles by quadcode and a boolean for each of the\n// child quadcodes showing whether they are loaded and in view. If all true then\n// remove the parent tile, otherwise keep it on a lower layer.\n\n// TODO: Load and display a base layer separate to the LOD grid that is at a low\n// resolution – used as a backup / background to fill in empty areas / distance\n\n// DONE: Fix the issue where some tiles just don't load, or at least the texture\n// never shows up – tends to happen if you quickly zoom in / out past it while\n// it's still loading, leaving a blank space\n\n// TODO: Optimise the request of many image tiles – look at how Leaflet and\n// OpenWebGlobe approach this (eg. batching, queues, etc)\n\n// TODO: Cancel pending tile requests if they get removed from view before they\n// reach a ready state (eg. cancel image requests, etc). Need to ensure that the\n// images are re-requested when the tile is next in scene (even if from cache)\n\n// TODO: Consider not performing an LOD calculation on every frame, instead only\n// on move end so panning, orbiting and zooming stays smooth. Otherwise it's\n// possible for performance to tank if you pan, orbit or zoom rapidly while all\n// the LOD calculations are being made and new tiles requested.\n//\n// Pending tiles should continue to be requested and output to the scene on each\n// frame, but no new LOD calculations should be made.\n\n// This tile layer both updates the quadtree and outputs tiles on every frame\n// (throttled to some amount)\n//\n// This is because the computational complexity of image tiles is generally low\n// and so there isn't much jank when running these calculations and outputs in\n// realtime\n//\n// The benefit to doing this is that the underlying map layer continues to\n// refresh and update during movement, which is an arguably better experience\n\nclass ImageTileLayer extends TileLayer {\n  constructor(path, options) {\n    var defaults = {\n      distance: 40000\n    };\n\n    options = extend({}, defaults, options);\n\n    super(options);\n\n    this._path = path;\n  }\n\n  _onAdd(world) {\n    super._onAdd(world);\n\n    // Add base layer\n    var geom = new THREE.PlaneBufferGeometry(200000, 200000, 1);\n\n    var baseMaterial;\n    if (this._world._environment._skybox) {\n      baseMaterial = ImageTileLayerBaseMaterial('#f5f5f3', this._world._environment._skybox.getRenderTarget());\n    } else {\n      baseMaterial = ImageTileLayerBaseMaterial('#f5f5f3');\n    }\n\n    var mesh = new THREE.Mesh(geom, baseMaterial);\n    mesh.renderOrder = 0;\n    mesh.rotation.x = -90 * Math.PI / 180;\n\n    // TODO: It might be overkill to receive a shadow on the base layer as it's\n    // rarely seen (good to have if performance difference is negligible)\n    mesh.receiveShadow = true;\n\n    this._baseLayer = mesh;\n    this.add(mesh);\n\n    // Trigger initial quadtree calculation on the next frame\n    //\n    // TODO: This is a hack to ensure the camera is all set up - a better\n    // solution should be found\n    setTimeout(() => {\n      this._calculateLOD();\n      this._initEvents();\n    }, 0);\n  }\n\n  _initEvents() {\n    // Run LOD calculations based on render calls\n    //\n    // Throttled to 1 LOD calculation per 100ms\n    this._throttledWorldUpdate = throttle(this._onWorldUpdate, 100);\n\n    this._world.on('preUpdate', this._throttledWorldUpdate, this);\n    this._world.on('move', this._onWorldMove, this);\n  }\n\n  _onWorldUpdate() {\n    this._calculateLOD();\n    this._outputTiles();\n  }\n\n  _onWorldMove(latlon, point) {\n    this._moveBaseLayer(point);\n  }\n\n  _moveBaseLayer(point) {\n    this._baseLayer.position.x = point.x;\n    this._baseLayer.position.z = point.y;\n  }\n\n  _createTile(quadcode, layer) {\n    return ImageTile(quadcode, this._path, layer);\n  }\n\n  // Destroys the layer and removes it from the scene and memory\n  destroy() {\n    this._world.off('preUpdate', this._throttledWorldUpdate);\n    this._world.off('move', this._onWorldMove);\n\n    this._throttledWorldUpdate = null;\n\n    // Dispose of mesh and materials\n    this._baseLayer.geometry.dispose();\n    this._baseLayer.geometry = null;\n\n    if (this._baseLayer.material.map) {\n      this._baseLayer.material.map.dispose();\n      this._baseLayer.material.map = null;\n    }\n\n    this._baseLayer.material.dispose();\n    this._baseLayer.material = null;\n\n    this._baseLayer = null;\n\n    // Run common destruction logic from parent\n    super.destroy();\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(path, options) {\n  return new ImageTileLayer(path, options);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/tile/ImageTileLayer.js\n **/","import Layer from '../Layer';\nimport extend from 'lodash.assign';\nimport TileCache from './TileCache';\nimport THREE from 'three';\n\n// TODO: Consider removing picking from TileLayer instances as there aren't\n// (m)any situations where it would be practical\n//\n// For example, how would you even know what picking IDs to listen to and what\n// to do with them?\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\n// TODO: Consider keeping a single TileLayer / LOD instance running by default\n// that keeps a standard LOD grid for other layers to utilise, rather than\n// having to create their own, unique LOD grid and duplicate calculations when\n// they're going to use the same grid setup anyway\n//\n// It still makes sense to be able to have a custom LOD grid for some layers as\n// they may want to customise things, maybe not even using a quadtree at all!\n//\n// Perhaps it makes sense to split out the quadtree stuff into a singleton and\n// pass in the necessary parameters each time for the calculation step.\n//\n// Either way, it seems silly to force layers to have to create a new LOD grid\n// each time and create extra, duplicated processing every frame.\n\n// TODO: Allow passing in of options to define min/max LOD and a distance to use\n// for culling tiles beyond that distance.\n\n// DONE: Prevent tiles from being loaded if they are further than a certain\n// distance from the camera and are unlikely to be seen anyway\n\n// TODO: Avoid performing LOD calculation when it isn't required. For example,\n// when nothing has changed since the last frame and there are no tiles to be\n// loaded or in need of rendering\n\n// TODO: Only remove tiles from the layer that aren't to be rendered in the\n// current frame – it seems excessive to remove all tiles and re-add them on\n// every single frame, even if it's just array manipulation\n\n// TODO: Fix LOD calculation so min and max LOD can be changed without causing\n// problems (eg. making min above 5 causes all sorts of issues)\n\n// TODO: Reuse THREE objects where possible instead of creating new instances\n// on every LOD calculation\n\n// TODO: Consider not using THREE or LatLon / Point objects in LOD calculations\n// to avoid creating unnecessary memory for garbage collection\n\n// TODO: Prioritise loading of tiles at highest level in the quadtree (those\n// closest to the camera) so visual inconsistancies during loading are minimised\n\nclass TileLayer extends Layer {\n  constructor(options) {\n    super(options);\n\n    var defaults = {\n      picking: false,\n      maxCache: 1000,\n      maxLOD: 18\n    };\n\n    this._options = extend({}, defaults, options);\n\n    this._tileCache = TileCache(this._options.maxCache, tile => {\n      this._destroyTile(tile);\n    });\n\n    // List of tiles from the previous LOD calculation\n    this._tileList = [];\n\n    // TODO: Work out why changing the minLOD causes loads of issues\n    this._minLOD = 3;\n    this._maxLOD = this._options.maxLOD;\n\n    this._frustum = new THREE.Frustum();\n    this._tiles = new THREE.Object3D();\n    this._tilesPicking = new THREE.Object3D();\n  }\n\n  _onAdd(world) {\n    this.addToPicking(this._tilesPicking);\n    this.add(this._tiles);\n  }\n\n  _updateFrustum() {\n    var camera = this._world.getCamera();\n    var projScreenMatrix = new THREE.Matrix4();\n    projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n    this._frustum.setFromMatrix(camera.projectionMatrix);\n    this._frustum.setFromMatrix(new THREE.Matrix4().multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse));\n  }\n\n  _tileInFrustum(tile) {\n    var bounds = tile.getBounds();\n    return this._frustum.intersectsBox(new THREE.Box3(new THREE.Vector3(bounds[0], 0, bounds[3]), new THREE.Vector3(bounds[2], 0, bounds[1])));\n  }\n\n  // Update and output tiles from the previous LOD checklist\n  _outputTiles() {\n    if (!this._tiles) {\n      return;\n    }\n\n    // Remove all tiles from layer\n    this._removeTiles();\n\n    // Add / re-add tiles\n    this._tileList.forEach(tile => {\n      // Are the mesh and texture ready?\n      //\n      // If yes, continue\n      // If no, skip\n      if (!tile.isReady()) {\n        return;\n      }\n\n      // Add tile to layer (and to scene) if not already there\n      this._tiles.add(tile.getMesh());\n\n      if (tile.getPickingMesh()) {\n        this._tilesPicking.add(tile.getPickingMesh());\n      }\n    });\n  }\n\n  // Works out tiles in the view frustum and stores them in an array\n  //\n  // Does not output the tiles, deferring this to _outputTiles()\n  _calculateLOD() {\n    if (this._stop || !this._world) {\n      return;\n    }\n\n    // var start = performance.now();\n\n    var camera = this._world.getCamera();\n\n    // 1. Update and retrieve camera frustum\n    this._updateFrustum(this._frustum, camera);\n\n    // 2. Add the four root items of the quadtree to a check list\n    var checkList = this._checklist;\n    checkList = [];\n    checkList.push(this._requestTile('0', this));\n    checkList.push(this._requestTile('1', this));\n    checkList.push(this._requestTile('2', this));\n    checkList.push(this._requestTile('3', this));\n\n    // 3. Call Divide, passing in the check list\n    this._divide(checkList);\n\n    // // 4. Remove all tiles from layer\n    //\n    // Moved to _outputTiles() for now\n    // this._removeTiles();\n\n    // 5. Filter the tiles remaining in the check list\n    this._tileList = checkList.filter((tile, index) => {\n      // Skip tile if it's not in the current view frustum\n      if (!this._tileInFrustum(tile)) {\n        return false;\n      }\n\n      if (this._options.distance && this._options.distance > 0) {\n        // TODO: Can probably speed this up\n        var center = tile.getCenter();\n        var dist = (new THREE.Vector3(center[0], 0, center[1])).sub(camera.position).length();\n\n        // Manual distance limit to cut down on tiles so far away\n        if (dist > this._options.distance) {\n          return false;\n        }\n      }\n\n      // Does the tile have a mesh?\n      //\n      // If yes, continue\n      // If no, generate tile mesh, request texture and skip\n      if (!tile.getMesh()) {\n        tile.requestTileAsync();\n      }\n\n      return true;\n\n      // Are the mesh and texture ready?\n      //\n      // If yes, continue\n      // If no, skip\n      // if (!tile.isReady()) {\n      //   return;\n      // }\n      //\n      // // Add tile to layer (and to scene)\n      // this._tiles.add(tile.getMesh());\n    });\n\n    // console.log(performance.now() - start);\n  }\n\n  _divide(checkList) {\n    var count = 0;\n    var currentItem;\n    var quadcode;\n\n    // 1. Loop until count equals check list length\n    while (count != checkList.length) {\n      currentItem = checkList[count];\n      quadcode = currentItem.getQuadcode();\n\n      // 2. Increase count and continue loop if quadcode equals max LOD / zoom\n      if (currentItem.length === this._maxLOD) {\n        count++;\n        continue;\n      }\n\n      // 3. Else, calculate screen-space error metric for quadcode\n      if (this._screenSpaceError(currentItem)) {\n        // 4. If error is sufficient...\n\n        // 4a. Remove parent item from the check list\n        checkList.splice(count, 1);\n\n        // 4b. Add 4 child items to the check list\n        checkList.push(this._requestTile(quadcode + '0', this));\n        checkList.push(this._requestTile(quadcode + '1', this));\n        checkList.push(this._requestTile(quadcode + '2', this));\n        checkList.push(this._requestTile(quadcode + '3', this));\n\n        // 4d. Continue the loop without increasing count\n        continue;\n      } else {\n        // 5. Else, increase count and continue loop\n        count++;\n      }\n    }\n  }\n\n  _screenSpaceError(tile) {\n    var minDepth = this._minLOD;\n    var maxDepth = this._maxLOD;\n\n    var quadcode = tile.getQuadcode();\n\n    var camera = this._world.getCamera();\n\n    // Tweak this value to refine specific point that each quad is subdivided\n    //\n    // It's used to multiple the dimensions of the tile sides before\n    // comparing against the tile distance from camera\n    var quality = 3.0;\n\n    // 1. Return false if quadcode length equals maxDepth (stop dividing)\n    if (quadcode.length === maxDepth) {\n      return false;\n    }\n\n    // 2. Return true if quadcode length is less than minDepth\n    if (quadcode.length < minDepth) {\n      return true;\n    }\n\n    // 3. Return false if quadcode bounds are not in view frustum\n    if (!this._tileInFrustum(tile)) {\n      return false;\n    }\n\n    var center = tile.getCenter();\n\n    // 4. Calculate screen-space error metric\n    // TODO: Use closest distance to one of the 4 tile corners\n    var dist = (new THREE.Vector3(center[0], 0, center[1])).sub(camera.position).length();\n\n    var error = quality * tile.getSide() / dist;\n\n    // 5. Return true if error is greater than 1.0, else return false\n    return (error > 1.0);\n  }\n\n  _removeTiles() {\n    if (!this._tiles || !this._tiles.children) {\n      return;\n    }\n\n    for (var i = this._tiles.children.length - 1; i >= 0; i--) {\n      this._tiles.remove(this._tiles.children[i]);\n    }\n\n    if (!this._tilesPicking || !this._tilesPicking.children) {\n      return;\n    }\n\n    for (var i = this._tilesPicking.children.length - 1; i >= 0; i--) {\n      this._tilesPicking.remove(this._tilesPicking.children[i]);\n    }\n  }\n\n  // Return a new tile instance\n  _createTile(quadcode, layer) {}\n\n  // Get a cached tile or request a new one if not in cache\n  _requestTile(quadcode, layer) {\n    var tile = this._tileCache.getTile(quadcode);\n\n    if (!tile) {\n      // Set up a brand new tile\n      tile = this._createTile(quadcode, layer);\n\n      // Add tile to cache, though it won't be ready yet as the data is being\n      // requested from various places asynchronously\n      this._tileCache.setTile(quadcode, tile);\n    }\n\n    return tile;\n  }\n\n  _destroyTile(tile) {\n    // Remove tile from scene\n    this._tiles.remove(tile.getMesh());\n\n    // Delete any references to the tile within this component\n\n    // Call destory on tile instance\n    tile.destroy();\n  }\n\n  // Destroys the layer and removes it from the scene and memory\n  destroy() {\n    if (this._tiles.children) {\n      // Remove all tiles\n      for (var i = this._tiles.children.length - 1; i >= 0; i--) {\n        this._tiles.remove(this._tiles.children[i]);\n      }\n    }\n\n    // Remove tile from picking scene\n    this.removeFromPicking(this._tilesPicking);\n\n    if (this._tilesPicking.children) {\n      // Remove all tiles\n      for (var i = this._tilesPicking.children.length - 1; i >= 0; i--) {\n        this._tilesPicking.remove(this._tilesPicking.children[i]);\n      }\n    }\n\n    this._tileCache.destroy();\n    this._tileCache = null;\n\n    this._tiles = null;\n    this._tilesPicking = null;\n    this._frustum = null;\n\n    super.destroy();\n  }\n}\n\nexport default TileLayer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/tile/TileLayer.js\n **/","import LRUCache from 'lru-cache';\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\n// This process is based on a similar approach taken by OpenWebGlobe\n// See: https://github.com/OpenWebGlobe/WebViewer/blob/master/source/core/globecache.js\n\nclass TileCache {\n  constructor(cacheLimit, onDestroyTile) {\n    this._cache = LRUCache({\n      max: cacheLimit,\n      dispose: (key, tile) => {\n        onDestroyTile(tile);\n      }\n    });\n  }\n\n  // Returns true if all specified tile providers are ready to be used\n  // Otherwise, returns false\n  isReady() {\n    return false;\n  }\n\n  // Get a cached tile without requesting a new one\n  getTile(quadcode) {\n    return this._cache.get(quadcode);\n  }\n\n  // Add tile to cache\n  setTile(quadcode, tile) {\n    this._cache.set(quadcode, tile);\n  }\n\n  // Destroy the cache and remove it from memory\n  //\n  // TODO: Call destroy method on items in cache\n  destroy() {\n    this._cache.reset();\n    this._cache = null;\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(cacheLimit, onDestroyTile) {\n  return new TileCache(cacheLimit, onDestroyTile);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/tile/TileCache.js\n **/","module.exports = LRUCache\n\n// This will be a proper iterable 'Map' in engines that support it,\n// or a fakey-fake PseudoMap in older versions.\nvar Map = require('pseudomap')\nvar util = require('util')\n\n// A linked list to keep track of recently-used-ness\nvar Yallist = require('yallist')\n\n// use symbols if possible, otherwise just _props\nvar symbols = {}\nvar hasSymbol = typeof Symbol === 'function'\nvar makeSymbol\nif (hasSymbol) {\n  makeSymbol = function (key) {\n    return Symbol.for(key)\n  }\n} else {\n  makeSymbol = function (key) {\n    return '_' + key\n  }\n}\n\nfunction priv (obj, key, val) {\n  var sym\n  if (symbols[key]) {\n    sym = symbols[key]\n  } else {\n    sym = makeSymbol(key)\n    symbols[key] = sym\n  }\n  if (arguments.length === 2) {\n    return obj[sym]\n  } else {\n    obj[sym] = val\n    return val\n  }\n}\n\nfunction naiveLength () { return 1 }\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  if (typeof options === 'number') {\n    options = { max: options }\n  }\n\n  if (!options) {\n    options = {}\n  }\n\n  var max = priv(this, 'max', options.max)\n  // Kind of weird to have a default max of Infinity, but oh well.\n  if (!max ||\n      !(typeof max === 'number') ||\n      max <= 0) {\n    priv(this, 'max', Infinity)\n  }\n\n  var lc = options.length || naiveLength\n  if (typeof lc !== 'function') {\n    lc = naiveLength\n  }\n  priv(this, 'lengthCalculator', lc)\n\n  priv(this, 'allowStale', options.stale || false)\n  priv(this, 'maxAge', options.maxAge || 0)\n  priv(this, 'dispose', options.dispose)\n  this.reset()\n}\n\n// resize the cache when the max changes.\nObject.defineProperty(LRUCache.prototype, 'max', {\n  set: function (mL) {\n    if (!mL || !(typeof mL === 'number') || mL <= 0) {\n      mL = Infinity\n    }\n    priv(this, 'max', mL)\n    trim(this)\n  },\n  get: function () {\n    return priv(this, 'max')\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'allowStale', {\n  set: function (allowStale) {\n    priv(this, 'allowStale', !!allowStale)\n  },\n  get: function () {\n    return priv(this, 'allowStale')\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'maxAge', {\n  set: function (mA) {\n    if (!mA || !(typeof mA === 'number') || mA < 0) {\n      mA = 0\n    }\n    priv(this, 'maxAge', mA)\n    trim(this)\n  },\n  get: function () {\n    return priv(this, 'maxAge')\n  },\n  enumerable: true\n})\n\n// resize the cache when the lengthCalculator changes.\nObject.defineProperty(LRUCache.prototype, 'lengthCalculator', {\n  set: function (lC) {\n    if (typeof lC !== 'function') {\n      lC = naiveLength\n    }\n    if (lC !== priv(this, 'lengthCalculator')) {\n      priv(this, 'lengthCalculator', lC)\n      priv(this, 'length', 0)\n      priv(this, 'lruList').forEach(function (hit) {\n        hit.length = priv(this, 'lengthCalculator').call(this, hit.value, hit.key)\n        priv(this, 'length', priv(this, 'length') + hit.length)\n      }, this)\n    }\n    trim(this)\n  },\n  get: function () { return priv(this, 'lengthCalculator') },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'length', {\n  get: function () { return priv(this, 'length') },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'itemCount', {\n  get: function () { return priv(this, 'lruList').length },\n  enumerable: true\n})\n\nLRUCache.prototype.rforEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = priv(this, 'lruList').tail; walker !== null;) {\n    var prev = walker.prev\n    forEachStep(this, fn, walker, thisp)\n    walker = prev\n  }\n}\n\nfunction forEachStep (self, fn, node, thisp) {\n  var hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!priv(self, 'allowStale')) {\n      hit = undefined\n    }\n  }\n  if (hit) {\n    fn.call(thisp, hit.value, hit.key, self)\n  }\n}\n\nLRUCache.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = priv(this, 'lruList').head; walker !== null;) {\n    var next = walker.next\n    forEachStep(this, fn, walker, thisp)\n    walker = next\n  }\n}\n\nLRUCache.prototype.keys = function () {\n  return priv(this, 'lruList').toArray().map(function (k) {\n    return k.key\n  }, this)\n}\n\nLRUCache.prototype.values = function () {\n  return priv(this, 'lruList').toArray().map(function (k) {\n    return k.value\n  }, this)\n}\n\nLRUCache.prototype.reset = function () {\n  if (priv(this, 'dispose') &&\n      priv(this, 'lruList') &&\n      priv(this, 'lruList').length) {\n    priv(this, 'lruList').forEach(function (hit) {\n      priv(this, 'dispose').call(this, hit.key, hit.value)\n    }, this)\n  }\n\n  priv(this, 'cache', new Map()) // hash of items by key\n  priv(this, 'lruList', new Yallist()) // list of items in order of use recency\n  priv(this, 'length', 0) // length of items in the list\n}\n\nLRUCache.prototype.dump = function () {\n  return priv(this, 'lruList').map(function (hit) {\n    if (!isStale(this, hit)) {\n      return {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }\n    }\n  }, this).toArray().filter(function (h) {\n    return h\n  })\n}\n\nLRUCache.prototype.dumpLru = function () {\n  return priv(this, 'lruList')\n}\n\nLRUCache.prototype.inspect = function (n, opts) {\n  var str = 'LRUCache {'\n  var extras = false\n\n  var as = priv(this, 'allowStale')\n  if (as) {\n    str += '\\n  allowStale: true'\n    extras = true\n  }\n\n  var max = priv(this, 'max')\n  if (max && max !== Infinity) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  max: ' + util.inspect(max, opts)\n    extras = true\n  }\n\n  var maxAge = priv(this, 'maxAge')\n  if (maxAge) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  maxAge: ' + util.inspect(maxAge, opts)\n    extras = true\n  }\n\n  var lc = priv(this, 'lengthCalculator')\n  if (lc && lc !== naiveLength) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  length: ' + util.inspect(priv(this, 'length'), opts)\n    extras = true\n  }\n\n  var didFirst = false\n  priv(this, 'lruList').forEach(function (item) {\n    if (didFirst) {\n      str += ',\\n  '\n    } else {\n      if (extras) {\n        str += ',\\n'\n      }\n      didFirst = true\n      str += '\\n  '\n    }\n    var key = util.inspect(item.key).split('\\n').join('\\n  ')\n    var val = { value: item.value }\n    if (item.maxAge !== maxAge) {\n      val.maxAge = item.maxAge\n    }\n    if (lc !== naiveLength) {\n      val.length = item.length\n    }\n    if (isStale(this, item)) {\n      val.stale = true\n    }\n\n    val = util.inspect(val, opts).split('\\n').join('\\n  ')\n    str += key + ' => ' + val\n  })\n\n  if (didFirst || extras) {\n    str += '\\n'\n  }\n  str += '}'\n\n  return str\n}\n\nLRUCache.prototype.set = function (key, value, maxAge) {\n  maxAge = maxAge || priv(this, 'maxAge')\n\n  var now = maxAge ? Date.now() : 0\n  var len = priv(this, 'lengthCalculator').call(this, value, key)\n\n  if (priv(this, 'cache').has(key)) {\n    if (len > priv(this, 'max')) {\n      del(this, priv(this, 'cache').get(key))\n      return false\n    }\n\n    var node = priv(this, 'cache').get(key)\n    var item = node.value\n\n    // dispose of the old one before overwriting\n    if (priv(this, 'dispose')) {\n      priv(this, 'dispose').call(this, key, item.value)\n    }\n\n    item.now = now\n    item.maxAge = maxAge\n    item.value = value\n    priv(this, 'length', priv(this, 'length') + (len - item.length))\n    item.length = len\n    this.get(key)\n    trim(this)\n    return true\n  }\n\n  var hit = new Entry(key, value, len, now, maxAge)\n\n  // oversized objects fall out of cache automatically.\n  if (hit.length > priv(this, 'max')) {\n    if (priv(this, 'dispose')) {\n      priv(this, 'dispose').call(this, key, value)\n    }\n    return false\n  }\n\n  priv(this, 'length', priv(this, 'length') + hit.length)\n  priv(this, 'lruList').unshift(hit)\n  priv(this, 'cache').set(key, priv(this, 'lruList').head)\n  trim(this)\n  return true\n}\n\nLRUCache.prototype.has = function (key) {\n  if (!priv(this, 'cache').has(key)) return false\n  var hit = priv(this, 'cache').get(key).value\n  if (isStale(this, hit)) {\n    return false\n  }\n  return true\n}\n\nLRUCache.prototype.get = function (key) {\n  return get(this, key, true)\n}\n\nLRUCache.prototype.peek = function (key) {\n  return get(this, key, false)\n}\n\nLRUCache.prototype.pop = function () {\n  var node = priv(this, 'lruList').tail\n  if (!node) return null\n  del(this, node)\n  return node.value\n}\n\nLRUCache.prototype.del = function (key) {\n  del(this, priv(this, 'cache').get(key))\n}\n\nLRUCache.prototype.load = function (arr) {\n  // reset the cache\n  this.reset()\n\n  var now = Date.now()\n  // A previous serialized cache has the most recent items first\n  for (var l = arr.length - 1; l >= 0; l--) {\n    var hit = arr[l]\n    var expiresAt = hit.e || 0\n    if (expiresAt === 0) {\n      // the item was created without expiration in a non aged cache\n      this.set(hit.k, hit.v)\n    } else {\n      var maxAge = expiresAt - now\n      // dont add already expired items\n      if (maxAge > 0) {\n        this.set(hit.k, hit.v, maxAge)\n      }\n    }\n  }\n}\n\nLRUCache.prototype.prune = function () {\n  var self = this\n  priv(this, 'cache').forEach(function (value, key) {\n    get(self, key, false)\n  })\n}\n\nfunction get (self, key, doUse) {\n  var node = priv(self, 'cache').get(key)\n  if (node) {\n    var hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!priv(self, 'allowStale')) hit = undefined\n    } else {\n      if (doUse) {\n        priv(self, 'lruList').unshiftNode(node)\n      }\n    }\n    if (hit) hit = hit.value\n  }\n  return hit\n}\n\nfunction isStale (self, hit) {\n  if (!hit || (!hit.maxAge && !priv(self, 'maxAge'))) {\n    return false\n  }\n  var stale = false\n  var diff = Date.now() - hit.now\n  if (hit.maxAge) {\n    stale = diff > hit.maxAge\n  } else {\n    stale = priv(self, 'maxAge') && (diff > priv(self, 'maxAge'))\n  }\n  return stale\n}\n\nfunction trim (self) {\n  if (priv(self, 'length') > priv(self, 'max')) {\n    for (var walker = priv(self, 'lruList').tail;\n         priv(self, 'length') > priv(self, 'max') && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nfunction del (self, node) {\n  if (node) {\n    var hit = node.value\n    if (priv(self, 'dispose')) {\n      priv(self, 'dispose').call(this, hit.key, hit.value)\n    }\n    priv(self, 'length', priv(self, 'length') - hit.length)\n    priv(self, 'cache').delete(hit.key)\n    priv(self, 'lruList').removeNode(node)\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, length, now, maxAge) {\n  this.key = key\n  this.value = value\n  this.length = length\n  this.now = now\n  this.maxAge = maxAge || 0\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lru-cache/lib/lru-cache.js\n ** module id = 43\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 45\n ** module chunks = 0\n **/","var hasOwnProperty = Object.prototype.hasOwnProperty\n\nmodule.exports = PseudoMap\n\nfunction PseudoMap (set) {\n  if (!(this instanceof PseudoMap)) // whyyyyyyy\n    throw new TypeError(\"Constructor PseudoMap requires 'new'\")\n\n  this.clear()\n\n  if (set) {\n    if ((set instanceof PseudoMap) ||\n        (typeof Map === 'function' && set instanceof Map))\n      set.forEach(function (value, key) {\n        this.set(key, value)\n      }, this)\n    else if (Array.isArray(set))\n      set.forEach(function (kv) {\n        this.set(kv[0], kv[1])\n      }, this)\n    else\n      throw new TypeError('invalid argument')\n  }\n}\n\nPseudoMap.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  Object.keys(this._data).forEach(function (k) {\n    if (k !== 'size')\n      fn.call(thisp, this._data[k].value, this._data[k].key)\n  }, this)\n}\n\nPseudoMap.prototype.has = function (k) {\n  return !!find(this._data, k)\n}\n\nPseudoMap.prototype.get = function (k) {\n  var res = find(this._data, k)\n  return res && res.value\n}\n\nPseudoMap.prototype.set = function (k, v) {\n  set(this._data, k, v)\n}\n\nPseudoMap.prototype.delete = function (k) {\n  var res = find(this._data, k)\n  if (res) {\n    delete this._data[res._index]\n    this._data.size--\n  }\n}\n\nPseudoMap.prototype.clear = function () {\n  var data = Object.create(null)\n  data.size = 0\n\n  Object.defineProperty(this, '_data', {\n    value: data,\n    enumerable: false,\n    configurable: true,\n    writable: false\n  })\n}\n\nObject.defineProperty(PseudoMap.prototype, 'size', {\n  get: function () {\n    return this._data.size\n  },\n  set: function (n) {},\n  enumerable: true,\n  configurable: true\n})\n\nPseudoMap.prototype.values =\nPseudoMap.prototype.keys =\nPseudoMap.prototype.entries = function () {\n  throw new Error('iterators are not implemented in this version')\n}\n\n// Either identical, or both NaN\nfunction same (a, b) {\n  return a === b || a !== a && b !== b\n}\n\nfunction Entry (k, v, i) {\n  this.key = k\n  this.value = v\n  this._index = i\n}\n\nfunction find (data, k) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k))\n      return data[key]\n  }\n}\n\nfunction set (data, k, v) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k)) {\n      data[key].value = v\n      return\n    }\n  }\n  data.size++\n  data[key] = new Entry(k, v, key)\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/pseudomap/pseudomap.js\n ** module id = 46\n ** module chunks = 0\n **/","if (process.env.npm_package_name === 'pseudomap' &&\n    process.env.npm_lifecycle_script === 'test')\n  process.env.TEST_PSEUDOMAP = 'true'\n\nif (typeof Map === 'function' && !process.env.TEST_PSEUDOMAP) {\n  module.exports = Map\n} else {\n  module.exports = require('./pseudomap')\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/pseudomap/map.js\n ** module id = 44\n ** module chunks = 0\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/util/util.js\n ** module id = 47\n ** module chunks = 0\n **/","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/util/support/isBufferBrowser.js\n ** module id = 48\n ** module chunks = 0\n **/","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/inherits/inherits_browser.js\n ** module id = 49\n ** module chunks = 0\n **/","module.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length --\n  node.next = null\n  node.prev = null\n  node.list = null\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length ++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length ++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail)\n    return undefined\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  this.tail.next = null\n  this.length --\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head)\n    return undefined\n\n  var res = this.head.value\n  this.head = this.head.next\n  this.head.prev = null\n  this.length --\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null; ) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length ++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length ++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/yallist/yallist.js\n ** module id = 50\n ** module chunks = 0\n **/","import Tile from './Tile';\nimport BoxHelper from '../../vendor/BoxHelper';\nimport THREE from 'three';\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\nclass ImageTile extends Tile {\n  constructor(quadcode, path, layer) {\n    super(quadcode, path, layer);\n  }\n\n  // Request data for the tile\n  requestTileAsync() {\n    // Making this asynchronous really speeds up the LOD framerate\n    setTimeout(() => {\n      if (!this._mesh) {\n        this._mesh = this._createMesh();\n        this._requestTile();\n      }\n    }, 0);\n  }\n\n  destroy() {\n    // Cancel any pending requests\n    this._abortRequest();\n\n    // Clear image reference\n    this._image = null;\n\n    super.destroy();\n  }\n\n  _createMesh() {\n    // Something went wrong and the tile\n    //\n    // Possibly removed by the cache before loaded\n    if (!this._center) {\n      return;\n    }\n\n    var mesh = new THREE.Object3D();\n    var geom = new THREE.PlaneBufferGeometry(this._side, this._side, 1);\n\n    var material;\n    if (!this._world._environment._skybox) {\n      material = new THREE.MeshBasicMaterial({\n        depthWrite: false\n      });\n\n      // var material = new THREE.MeshPhongMaterial({\n      //   depthWrite: false\n      // });\n    } else {\n      // Other MeshStandardMaterial settings\n      //\n      // material.envMapIntensity will change the amount of colour reflected(?)\n      // from the environment map – can be greater than 1 for more intensity\n\n      material = new THREE.MeshStandardMaterial({\n        depthWrite: false\n      });\n      material.roughness = 1;\n      material.metalness = 0.1;\n      material.envMap = this._world._environment._skybox.getRenderTarget();\n    }\n\n    var localMesh = new THREE.Mesh(geom, material);\n    localMesh.rotation.x = -90 * Math.PI / 180;\n\n    localMesh.receiveShadow = true;\n\n    mesh.add(localMesh);\n    mesh.renderOrder = 0.1;\n\n    mesh.position.x = this._center[0];\n    mesh.position.z = this._center[1];\n\n    // var box = new BoxHelper(localMesh);\n    // mesh.add(box);\n    //\n    // mesh.add(this._createDebugMesh());\n\n    return mesh;\n  }\n\n  _createDebugMesh() {\n    var canvas = document.createElement('canvas');\n    canvas.width = 256;\n    canvas.height = 256;\n\n    var context = canvas.getContext('2d');\n    context.font = 'Bold 20px Helvetica Neue, Verdana, Arial';\n    context.fillStyle = '#ff0000';\n    context.fillText(this._quadcode, 20, canvas.width / 2 - 5);\n    context.fillText(this._tile.toString(), 20, canvas.width / 2 + 25);\n\n    var texture = new THREE.Texture(canvas);\n\n    // Silky smooth images when tilted\n    texture.magFilter = THREE.LinearFilter;\n    texture.minFilter = THREE.LinearMipMapLinearFilter;\n\n    // TODO: Set this to renderer.getMaxAnisotropy() / 4\n    texture.anisotropy = 4;\n\n    texture.needsUpdate = true;\n\n    var material = new THREE.MeshBasicMaterial({\n      map: texture,\n      transparent: true,\n      depthWrite: false\n    });\n\n    var geom = new THREE.PlaneBufferGeometry(this._side, this._side, 1);\n    var mesh = new THREE.Mesh(geom, material);\n\n    mesh.rotation.x = -90 * Math.PI / 180;\n    mesh.position.y = 0.1;\n\n    return mesh;\n  }\n\n  _requestTile() {\n    var urlParams = {\n      x: this._tile[0],\n      y: this._tile[1],\n      z: this._tile[2]\n    };\n\n    var url = this._getTileURL(urlParams);\n\n    var image = document.createElement('img');\n\n    image.addEventListener('load', event => {\n      var texture = new THREE.Texture();\n\n      texture.image = image;\n      texture.needsUpdate = true;\n\n      // Silky smooth images when tilted\n      texture.magFilter = THREE.LinearFilter;\n      texture.minFilter = THREE.LinearMipMapLinearFilter;\n\n      // TODO: Set this to renderer.getMaxAnisotropy() / 4\n      texture.anisotropy = 4;\n\n      texture.needsUpdate = true;\n\n      // Something went wrong and the tile or its material is missing\n      //\n      // Possibly removed by the cache before the image loaded\n      if (!this._mesh || !this._mesh.children[0] || !this._mesh.children[0].material) {\n        return;\n      }\n\n      this._mesh.children[0].material.map = texture;\n      this._mesh.children[0].material.needsUpdate = true;\n\n      this._texture = texture;\n      this._ready = true;\n    }, false);\n\n    // image.addEventListener('progress', event => {}, false);\n    // image.addEventListener('error', event => {}, false);\n\n    image.crossOrigin = '';\n\n    // Load image\n    image.src = url;\n\n    this._image = image;\n  }\n\n  _abortRequest() {\n    if (!this._image) {\n      return;\n    }\n\n    this._image.src = '';\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(quadcode, path, layer) {\n  return new ImageTile(quadcode, path, layer);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/tile/ImageTile.js\n **/","import Point from '../../geo/Point';\nimport LatLon from '../../geo/LatLon';\nimport THREE from 'three';\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\n// Manages a single tile and its layers\n\nvar r2d = 180 / Math.PI;\n\nvar tileURLRegex = /\\{([szxy])\\}/g;\n\nclass Tile {\n  constructor(quadcode, path, layer) {\n    this._layer = layer;\n    this._world = layer._world;\n    this._quadcode = quadcode;\n    this._path = path;\n\n    this._ready = false;\n\n    this._tile = this._quadcodeToTile(quadcode);\n\n    // Bottom-left and top-right bounds in WGS84 coordinates\n    this._boundsLatLon = this._tileBoundsWGS84(this._tile);\n\n    // Bottom-left and top-right bounds in world coordinates\n    this._boundsWorld = this._tileBoundsFromWGS84(this._boundsLatLon);\n\n    // Tile center in world coordinates\n    this._center = this._boundsToCenter(this._boundsWorld);\n\n    // Tile center in projected coordinates\n    this._centerLatlon = this._world.pointToLatLon(VIZI.Point(this._center[0], this._center[1]));\n\n    // Length of a tile side in world coorindates\n    this._side = this._getSide(this._boundsWorld);\n\n    // Point scale for tile (for unit conversion)\n    this._pointScale = this._world.pointScale(this._centerLatlon);\n  }\n\n  // Returns true if the tile mesh and texture are ready to be used\n  // Otherwise, returns false\n  isReady() {\n    return this._ready;\n  }\n\n  // Request data for the tile\n  requestTileAsync() {}\n\n  getQuadcode() {\n    return this._quadcode;\n  }\n\n  getBounds() {\n    return this._boundsWorld;\n  }\n\n  getCenter() {\n    return this._center;\n  }\n\n  getSide() {\n    return this._side;\n  }\n\n  getMesh() {\n    return this._mesh;\n  }\n\n  getPickingMesh() {\n    return this._pickingMesh;\n  }\n\n  // Destroys the tile and removes it from the layer and memory\n  //\n  // Ensure that this leaves no trace of the tile – no textures, no meshes,\n  // nothing in memory or the GPU\n  destroy() {\n    // Delete reference to layer and world\n    this._layer = null;\n    this._world = null;\n\n    // Delete location references\n    this._boundsLatLon = null;\n    this._boundsWorld = null;\n    this._center = null;\n\n    // Done if no mesh\n    if (!this._mesh) {\n      return;\n    }\n\n    if (this._mesh.children) {\n      // Dispose of mesh and materials\n      this._mesh.children.forEach(child => {\n        child.geometry.dispose();\n        child.geometry = null;\n\n        if (child.material.map) {\n          child.material.map.dispose();\n          child.material.map = null;\n        }\n\n        child.material.dispose();\n        child.material = null;\n      });\n    } else {\n      this._mesh.geometry.dispose();\n      this._mesh.geometry = null;\n\n      if (this._mesh.material.map) {\n        this._mesh.material.map.dispose();\n        this._mesh.material.map = null;\n      }\n\n      this._mesh.material.dispose();\n      this._mesh.material = null;\n    }\n  }\n\n  _createMesh() {}\n  _createDebugMesh() {}\n\n  _getTileURL(urlParams) {\n    if (!urlParams.s) {\n      // Default to a random choice of a, b or c\n      urlParams.s = String.fromCharCode(97 + Math.floor(Math.random() * 3));\n    }\n\n    tileURLRegex.lastIndex = 0;\n    return this._path.replace(tileURLRegex, function(value, key) {\n      // Replace with paramter, otherwise keep existing value\n      return urlParams[key];\n    });\n  }\n\n  // Convert from quadcode to TMS tile coordinates\n  _quadcodeToTile(quadcode) {\n    var x = 0;\n    var y = 0;\n    var z = quadcode.length;\n\n    for (var i = z; i > 0; i--) {\n      var mask = 1 << (i - 1);\n      var q = +quadcode[z - i];\n      if (q === 1) {\n        x |= mask;\n      }\n      if (q === 2) {\n        y |= mask;\n      }\n      if (q === 3) {\n        x |= mask;\n        y |= mask;\n      }\n    }\n\n    return [x, y, z];\n  }\n\n  // Convert WGS84 tile bounds to world coordinates\n  _tileBoundsFromWGS84(boundsWGS84) {\n    var sw = this._layer._world.latLonToPoint(LatLon(boundsWGS84[1], boundsWGS84[0]));\n    var ne = this._layer._world.latLonToPoint(LatLon(boundsWGS84[3], boundsWGS84[2]));\n\n    return [sw.x, sw.y, ne.x, ne.y];\n  }\n\n  // Get tile bounds in WGS84 coordinates\n  _tileBoundsWGS84(tile) {\n    var e = this._tile2lon(tile[0] + 1, tile[2]);\n    var w = this._tile2lon(tile[0], tile[2]);\n    var s = this._tile2lat(tile[1] + 1, tile[2]);\n    var n = this._tile2lat(tile[1], tile[2]);\n    return [w, s, e, n];\n  }\n\n  _tile2lon(x, z) {\n    return x / Math.pow(2, z) * 360 - 180;\n  }\n\n  _tile2lat(y, z) {\n    var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n    return r2d * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n  }\n\n  _boundsToCenter(bounds) {\n    var x = bounds[0] + (bounds[2] - bounds[0]) / 2;\n    var y = bounds[1] + (bounds[3] - bounds[1]) / 2;\n\n    return [x, y];\n  }\n\n  _getSide(bounds) {\n    return (new THREE.Vector3(bounds[0], 0, bounds[3])).sub(new THREE.Vector3(bounds[0], 0, bounds[1])).length();\n  }\n}\n\nexport default Tile;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/tile/Tile.js\n **/","// jscs:disable\n/*eslint eqeqeq:0*/\n\nimport THREE from 'three';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nBoxHelper = function ( object ) {\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new THREE.BufferGeometry();\n\tgeometry.setIndex( new THREE.BufferAttribute( indices, 1 ) );\n\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ) );\n\n\tTHREE.LineSegments.call( this, geometry, new THREE.LineBasicMaterial( { linewidth: 2, color: 0xff0000 } ) );\n\n\tif ( object !== undefined ) {\n\n\t\tthis.update( object );\n\n\t}\n\n};\n\nBoxHelper.prototype = Object.create( THREE.LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = ( function () {\n\n\tvar box = new THREE.Box3();\n\n\treturn function ( object ) {\n\n\t\tbox.setFromObject( object );\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tvar min = box.min;\n\t\tvar max = box.max;\n\n\t\t/*\n\t\t  5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tvar position = this.geometry.attributes.position;\n\t\tvar array = position.array;\n\n\t\tarray[  0 ] = max.x; array[  1 ] = max.y; array[  2 ] = max.z;\n\t\tarray[  3 ] = min.x; array[  4 ] = max.y; array[  5 ] = max.z;\n\t\tarray[  6 ] = min.x; array[  7 ] = min.y; array[  8 ] = max.z;\n\t\tarray[  9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t};\n\n} )();\n\nexport default BoxHelper;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vendor/BoxHelper.js\n **/","import THREE from 'three';\n\nexport default function(colour, skyboxTarget) {\n  var canvas = document.createElement('canvas');\n  canvas.width = 1;\n  canvas.height = 1;\n\n  var context = canvas.getContext('2d');\n  context.fillStyle = colour;\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  // context.strokeStyle = '#D0D0CF';\n  // context.strokeRect(0, 0, canvas.width, canvas.height);\n\n  var texture = new THREE.Texture(canvas);\n\n  // // Silky smooth images when tilted\n  // texture.magFilter = THREE.LinearFilter;\n  // texture.minFilter = THREE.LinearMipMapLinearFilter;\n  // //\n  // // // TODO: Set this to renderer.getMaxAnisotropy() / 4\n  // texture.anisotropy = 4;\n\n  // texture.wrapS = THREE.RepeatWrapping;\n  // texture.wrapT = THREE.RepeatWrapping;\n  // texture.repeat.set(segments, segments);\n\n  texture.needsUpdate = true;\n\n  var material;\n\n  if (!skyboxTarget) {\n    material = new THREE.MeshBasicMaterial({\n      map: texture,\n      depthWrite: false\n    });\n  } else {\n    material = new THREE.MeshStandardMaterial({\n      depthWrite: false\n    });\n    material.roughness = 1;\n    material.metalness = 0.1;\n    material.envMap = skyboxTarget;\n  }\n\n  return material;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/tile/ImageTileLayerBaseMaterial.js\n **/","import TileLayer from './TileLayer';\nimport extend from 'lodash.assign';\nimport GeoJSONTile from './GeoJSONTile';\nimport throttle from 'lodash.throttle';\nimport THREE from 'three';\n\n// TODO: Offer on-the-fly slicing of static, non-tile-based GeoJSON files into a\n// tile grid using geojson-vt\n//\n// See: https://github.com/mapbox/geojson-vt\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\n// TODO: Consider pausing per-frame output during movement so there's little to\n// no jank caused by previous tiles still processing\n\n// This tile layer only updates the quadtree after world movement has occurred\n//\n// Tiles from previous quadtree updates are updated and outputted every frame\n// (or at least every frame, throttled to some amount)\n//\n// This is because the complexity of TopoJSON tiles requires a lot of processing\n// and so makes movement janky if updates occur every frame – only updating\n// after movement means frame drops are less obvious due to heavy processing\n// occurring while the view is generally stationary\n//\n// The downside is that until new tiles are requested and outputted you will\n// see blank spaces as you orbit and move around\n//\n// An added benefit is that it dramatically reduces the number of tiles being\n// requested over a period of time and the time it takes to go from request to\n// screen output\n//\n// It may be possible to perform these updates per-frame once Web Worker\n// processing is added\n\nclass GeoJSONTileLayer extends TileLayer {\n  constructor(path, options) {\n    var defaults = {\n      maxLOD: 14,\n      distance: 2000\n    };\n\n    options = extend({}, defaults, options);\n\n    super(options);\n\n    this._path = path;\n  }\n\n  _onAdd(world) {\n    super._onAdd(world);\n\n    // Trigger initial quadtree calculation on the next frame\n    //\n    // TODO: This is a hack to ensure the camera is all set up - a better\n    // solution should be found\n    setTimeout(() => {\n      this._calculateLOD();\n      this._initEvents();\n    }, 0);\n  }\n\n  _initEvents() {\n    // Run LOD calculations based on render calls\n    //\n    // Throttled to 1 LOD calculation per 100ms\n    this._throttledWorldUpdate = throttle(this._onWorldUpdate, 100);\n\n    this._world.on('preUpdate', this._throttledWorldUpdate, this);\n    this._world.on('move', this._onWorldMove, this);\n    this._world.on('controlsMove', this._onControlsMove, this);\n  }\n\n  // Update and output tiles each frame (throttled)\n  _onWorldUpdate() {\n    if (this._pauseOutput) {\n      return;\n    }\n\n    this._outputTiles();\n  }\n\n  // Update tiles grid after world move, but don't output them\n  _onWorldMove(latlon, point) {\n    this._pauseOutput = false;\n    this._calculateLOD();\n  }\n\n  // Pause updates during control movement for less visual jank\n  _onControlsMove() {\n    this._pauseOutput = true;\n  }\n\n  _createTile(quadcode, layer) {\n    var options = {};\n\n    if (this._options.filter) {\n      options.filter = this._options.filter;\n    }\n\n    if (this._options.style) {\n      options.style = this._options.style;\n    }\n\n    if (this._options.topojson) {\n      options.topojson = true;\n    }\n\n    if (this._options.picking) {\n      options.picking = true;\n    }\n\n    if (this._options.onClick) {\n      options.onClick = this._options.onClick;\n    }\n\n    return GeoJSONTile(quadcode, this._path, layer, options);\n  }\n\n  // Destroys the layer and removes it from the scene and memory\n  destroy() {\n    this._world.off('preUpdate', this._throttledWorldUpdate);\n    this._world.off('move', this._onWorldMove);\n\n    this._throttledWorldUpdate = null;\n\n    // Run common destruction logic from parent\n    super.destroy();\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(path, options) {\n  return new GeoJSONTileLayer(path, options);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/tile/GeoJSONTileLayer.js\n **/","import Tile from './Tile';\nimport BoxHelper from '../../vendor/BoxHelper';\nimport THREE from 'three';\nimport reqwest from 'reqwest';\nimport Point from '../../geo/Point';\nimport LatLon from '../../geo/LatLon';\nimport extend from 'lodash.assign';\n// import Offset from 'polygon-offset';\nimport GeoJSON from '../../util/GeoJSON';\nimport Buffer from '../../util/Buffer';\nimport PickingMaterial from '../../engine/PickingMaterial';\n\n// TODO: Map picking IDs to some reference within the tile data / geometry so\n// that something useful can be done when an object is picked / clicked on\n\n// TODO: Make sure nothing is left behind in the heap after calling destroy()\n\n// TODO: Perform tile request and processing in a Web Worker\n//\n// Use Operative (https://github.com/padolsey/operative)\n//\n// Would it make sense to have the worker functionality defined in a static\n// method so it only gets initialised once and not on every tile instance?\n//\n// Otherwise, worker processing logic would have to go in the tile layer so not\n// to waste loads of time setting up a brand new worker with three.js for each\n// tile every single time.\n//\n// Unsure of the best way to get three.js and VIZI into the worker\n//\n// Would need to set up a CRS / projection identical to the world instance\n//\n// Is it possible to bypass requirements on external script by having multiple\n// simple worker methods that each take enough inputs to perform a single task\n// without requiring VIZI or three.js? So long as the heaviest logic is done in\n// the worker and transferrable objects are used then it should be better than\n// nothing. Would probably still need things like earcut...\n//\n// After all, the three.js logic and object creation will still need to be\n// done on the main thread regardless so the worker should try to do as much as\n// possible with as few dependencies as possible.\n//\n// Have a look at how this is done in Tangram before implementing anything as\n// the approach there is pretty similar and robust.\n\nclass GeoJSONTile extends Tile {\n  constructor(quadcode, path, layer, options) {\n    super(quadcode, path, layer);\n\n    this._defaultStyle = GeoJSON.defaultStyle;\n\n    var defaults = {\n      picking: false,\n      topojson: false,\n      filter: null,\n      onClick: null,\n      style: this._defaultStyle\n    };\n\n    this._options = extend({}, defaults, options);\n\n    if (typeof options.style === 'function') {\n      this._options.style = options.style;\n    } else {\n      this._options.style = extend({}, defaults.style, options.style);\n    }\n  }\n\n  // Request data for the tile\n  requestTileAsync() {\n    // Making this asynchronous really speeds up the LOD framerate\n    setTimeout(() => {\n      if (!this._mesh) {\n        this._mesh = this._createMesh();\n\n        if (this._options.picking) {\n          this._pickingMesh = this._createPickingMesh();\n        }\n\n        // this._shadowCanvas = this._createShadowCanvas();\n\n        this._requestTile();\n      }\n    }, 0);\n  }\n\n  destroy() {\n    // Cancel any pending requests\n    this._abortRequest();\n\n    // Clear request reference\n    this._request = null;\n\n    // TODO: Properly dispose of picking mesh\n    this._pickingMesh = null;\n\n    super.destroy();\n  }\n\n  _createMesh() {\n    // Something went wrong and the tile\n    //\n    // Possibly removed by the cache before loaded\n    if (!this._center) {\n      return;\n    }\n\n    var mesh = new THREE.Object3D();\n\n    mesh.position.x = this._center[0];\n    mesh.position.z = this._center[1];\n\n    // var geom = new THREE.PlaneBufferGeometry(this._side, this._side, 1);\n    //\n    // var material = new THREE.MeshBasicMaterial({\n    //   depthWrite: false\n    // });\n    //\n    // var localMesh = new THREE.Mesh(geom, material);\n    // localMesh.rotation.x = -90 * Math.PI / 180;\n    //\n    // mesh.add(localMesh);\n    //\n    // var box = new BoxHelper(localMesh);\n    // mesh.add(box);\n    //\n    // mesh.add(this._createDebugMesh());\n\n    return mesh;\n  }\n\n  _createPickingMesh() {\n    if (!this._center) {\n      return;\n    }\n\n    var mesh = new THREE.Object3D();\n\n    mesh.position.x = this._center[0];\n    mesh.position.z = this._center[1];\n\n    return mesh;\n  }\n\n  _createDebugMesh() {\n    var canvas = document.createElement('canvas');\n    canvas.width = 256;\n    canvas.height = 256;\n\n    var context = canvas.getContext('2d');\n    context.font = 'Bold 20px Helvetica Neue, Verdana, Arial';\n    context.fillStyle = '#ff0000';\n    context.fillText(this._quadcode, 20, canvas.width / 2 - 5);\n    context.fillText(this._tile.toString(), 20, canvas.width / 2 + 25);\n\n    var texture = new THREE.Texture(canvas);\n\n    // Silky smooth images when tilted\n    texture.magFilter = THREE.LinearFilter;\n    texture.minFilter = THREE.LinearMipMapLinearFilter;\n\n    // TODO: Set this to renderer.getMaxAnisotropy() / 4\n    texture.anisotropy = 4;\n\n    texture.needsUpdate = true;\n\n    var material = new THREE.MeshBasicMaterial({\n      map: texture,\n      transparent: true,\n      depthWrite: false\n    });\n\n    var geom = new THREE.PlaneBufferGeometry(this._side, this._side, 1);\n    var mesh = new THREE.Mesh(geom, material);\n\n    mesh.rotation.x = -90 * Math.PI / 180;\n    mesh.position.y = 0.1;\n\n    return mesh;\n  }\n\n  _createShadowCanvas() {\n    var canvas = document.createElement('canvas');\n\n    // Rendered at a low resolution and later scaled up for a low-quality blur\n    canvas.width = 512;\n    canvas.height = 512;\n\n    return canvas;\n  }\n\n  // _addShadow(coordinates) {\n  //   var ctx = this._shadowCanvas.getContext('2d');\n  //   var width = this._shadowCanvas.width;\n  //   var height = this._shadowCanvas.height;\n  //\n  //   var _coords;\n  //   var _offset;\n  //   var offset = new Offset();\n  //\n  //   // Transform coordinates to shadowCanvas space and draw on canvas\n  //   coordinates.forEach((ring, index) => {\n  //     ctx.beginPath();\n  //\n  //     _coords = ring.map(coord => {\n  //       var xFrac = (coord[0] - this._boundsWorld[0]) / this._side;\n  //       var yFrac = (coord[1] - this._boundsWorld[3]) / this._side;\n  //       return [xFrac * width, yFrac * height];\n  //     });\n  //\n  //     if (index > 0) {\n  //       _offset = _coords;\n  //     } else {\n  //       _offset = offset.data(_coords).padding(1.3);\n  //     }\n  //\n  //     // TODO: This is super flaky and crashes the browser if run on anything\n  //     // put the outer ring (potentially due to winding)\n  //     _offset.forEach((coord, index) => {\n  //       // var xFrac = (coord[0] - this._boundsWorld[0]) / this._side;\n  //       // var yFrac = (coord[1] - this._boundsWorld[3]) / this._side;\n  //\n  //       if (index === 0) {\n  //         ctx.moveTo(coord[0], coord[1]);\n  //       } else {\n  //         ctx.lineTo(coord[0], coord[1]);\n  //       }\n  //     });\n  //\n  //     ctx.closePath();\n  //   });\n  //\n  //   ctx.fillStyle = 'rgba(80, 80, 80, 0.7)';\n  //   ctx.fill();\n  // }\n\n  _requestTile() {\n    var urlParams = {\n      x: this._tile[0],\n      y: this._tile[1],\n      z: this._tile[2]\n    };\n\n    var url = this._getTileURL(urlParams);\n\n    this._request = reqwest({\n      url: url,\n      type: 'json',\n      crossOrigin: true\n    }).then(res => {\n      // Clear request reference\n      this._request = null;\n      this._processTileData(res);\n    }).catch(err => {\n      console.error(err);\n\n      // Clear request reference\n      this._request = null;\n    });\n  }\n\n  _processTileData(data) {\n    console.time(this._tile);\n\n    var geojson = GeoJSON.mergeFeatures(data, this._options.topojson);\n\n    // TODO: Check that GeoJSON is valid / usable\n\n    var features = geojson.features;\n\n    // Run filter, if provided\n    if (this._options.filter) {\n      features = geojson.features.filter(this._options.filter);\n    }\n\n    var style = this._options.style;\n\n    var offset = Point(0, 0);\n    offset.x = -1 * this._center[0];\n    offset.y = -1 * this._center[1];\n\n    // TODO: Wrap into a helper method so this isn't duplicated in the non-tiled\n    // GeoJSON output layer\n    //\n    // Need to be careful as to not make it impossible to fork this off into a\n    // worker script at a later stage\n    //\n    // Also unsure as to whether it's wise to lump so much into a black box\n    //\n    // var meshes = GeoJSON.createMeshes(features, offset, style);\n\n    var polygons = {\n      vertices: [],\n      faces: [],\n      colours: [],\n      facesCount: 0,\n      allFlat: true\n    };\n\n    var lines = {\n      vertices: [],\n      colours: [],\n      verticesCount: 0\n    };\n\n    if (this._options.picking) {\n      polygons.pickingIds = [];\n      lines.pickingIds = [];\n    }\n\n    var colour = new THREE.Color();\n\n    features.forEach(feature => {\n      // feature.geometry, feature.properties\n\n      // Skip features that aren't supported\n      //\n      // TODO: Add support for all GeoJSON geometry types, including Multi...\n      // geometry types\n      if (\n        feature.geometry.type !== 'Polygon' &&\n        feature.geometry.type !== 'LineString' &&\n        feature.geometry.type !== 'MultiLineString'\n      ) {\n        return;\n      }\n\n      // Get style object, if provided\n      if (typeof this._options.style === 'function') {\n        style = extend({}, this._defaultStyle, this._options.style(feature));\n      }\n\n      var coordinates = feature.geometry.coordinates;\n\n      // if (feature.geometry.type === 'LineString') {\n      if (feature.geometry.type === 'LineString') {\n        colour.set(style.lineColor);\n\n        coordinates = coordinates.map(coordinate => {\n          var latlon = LatLon(coordinate[1], coordinate[0]);\n          var point = this._layer._world.latLonToPoint(latlon);\n          return [point.x, point.y];\n        });\n\n        var height = 0;\n\n        if (style.lineHeight) {\n          height = this._world.metresToWorld(style.lineHeight, this._pointScale);\n        }\n\n        var linestringAttributes = GeoJSON.lineStringAttributes(coordinates, colour, height);\n\n        lines.vertices.push(linestringAttributes.vertices);\n        lines.colours.push(linestringAttributes.colours);\n\n        if (this._options.picking) {\n          var pickingId = this._layer.getPickingId();\n\n          // Inject picking ID\n          //\n          // TODO: Perhaps handle this within the GeoJSON helper\n          lines.pickingIds.push(pickingId);\n\n          if (this._options.onClick) {\n            // TODO: Find a way to properly remove this listener on destroy\n            this._world.on('pick-' + pickingId, (point2d, point3d, intersects) => {\n              this._options.onClick(feature, point2d, point3d, intersects);\n            });\n          }\n        }\n\n        lines.verticesCount += linestringAttributes.vertices.length;\n      }\n\n      if (feature.geometry.type === 'MultiLineString') {\n        colour.set(style.lineColor);\n\n        coordinates = coordinates.map(_coordinates => {\n          return _coordinates.map(coordinate => {\n            var latlon = LatLon(coordinate[1], coordinate[0]);\n            var point = this._layer._world.latLonToPoint(latlon);\n            return [point.x, point.y];\n          });\n        });\n\n        var height = 0;\n\n        if (style.lineHeight) {\n          height = this._world.metresToWorld(style.lineHeight, this._pointScale);\n        }\n\n        var multiLinestringAttributes = GeoJSON.multiLineStringAttributes(coordinates, colour, height);\n\n        lines.vertices.push(multiLinestringAttributes.vertices);\n        lines.colours.push(multiLinestringAttributes.colours);\n\n        if (this._options.picking) {\n          var pickingId = this._layer.getPickingId();\n\n          // Inject picking ID\n          //\n          // TODO: Perhaps handle this within the GeoJSON helper\n          lines.pickingIds.push(pickingId);\n\n          if (this._options.onClick) {\n            // TODO: Find a way to properly remove this listener on destroy\n            this._world.on('pick-' + pickingId, (point2d, point3d, intersects) => {\n              this._options.onClick(feature, point2d, point3d, intersects);\n            });\n          }\n        }\n\n        lines.verticesCount += multiLinestringAttributes.vertices.length;\n      }\n\n      if (feature.geometry.type === 'Polygon') {\n        colour.set(style.color);\n\n        coordinates = coordinates.map(ring => {\n          return ring.map(coordinate => {\n            var latlon = LatLon(coordinate[1], coordinate[0]);\n            var point = this._layer._world.latLonToPoint(latlon);\n            return [point.x, point.y];\n          });\n        });\n\n        var height = 0;\n\n        if (style.height) {\n          height = this._world.metresToWorld(style.height, this._pointScale);\n        }\n\n        // Draw footprint on shadow canvas\n        //\n        // TODO: Disabled for the time-being until it can be sped up / moved to\n        // a worker\n        // this._addShadow(coordinates);\n\n        var polygonAttributes = GeoJSON.polygonAttributes(coordinates, colour, height);\n\n        polygons.vertices.push(polygonAttributes.vertices);\n        polygons.faces.push(polygonAttributes.faces);\n        polygons.colours.push(polygonAttributes.colours);\n\n        if (this._options.picking) {\n          var pickingId = this._layer.getPickingId();\n\n          // Inject picking ID\n          //\n          // TODO: Perhaps handle this within the GeoJSON helper\n          polygons.pickingIds.push(pickingId);\n\n          if (this._options.onClick) {\n            // TODO: Find a way to properly remove this listener on destroy\n            this._world.on('pick-' + pickingId, (point2d, point3d, intersects) => {\n              this._options.onClick(feature, point2d, point3d, intersects);\n            });\n          }\n        }\n\n        if (polygons.allFlat && !polygonAttributes.flat) {\n          polygons.allFlat = false;\n        }\n\n        polygons.facesCount += polygonAttributes.faces.length;\n      }\n    });\n\n    // Output shadow canvas\n    //\n    // TODO: Disabled for the time-being until it can be sped up / moved to\n    // a worker\n\n    // var texture = new THREE.Texture(this._shadowCanvas);\n    //\n    // // Silky smooth images when tilted\n    // texture.magFilter = THREE.LinearFilter;\n    // texture.minFilter = THREE.LinearMipMapLinearFilter;\n    //\n    // // TODO: Set this to renderer.getMaxAnisotropy() / 4\n    // texture.anisotropy = 4;\n    //\n    // texture.needsUpdate = true;\n    //\n    // var material;\n    // if (!this._world._environment._skybox) {\n    //   material = new THREE.MeshBasicMaterial({\n    //     map: texture,\n    //     transparent: true,\n    //     depthWrite: false\n    //   });\n    // } else {\n    //   material = new THREE.MeshStandardMaterial({\n    //     map: texture,\n    //     transparent: true,\n    //     depthWrite: false\n    //   });\n    //   material.roughness = 1;\n    //   material.metalness = 0.1;\n    //   material.envMap = this._world._environment._skybox.getRenderTarget();\n    // }\n    //\n    // var geom = new THREE.PlaneBufferGeometry(this._side, this._side, 1);\n    // var mesh = new THREE.Mesh(geom, material);\n    //\n    // mesh.castShadow = false;\n    // mesh.receiveShadow = false;\n    // mesh.renderOrder = 1;\n    //\n    // mesh.rotation.x = -90 * Math.PI / 180;\n    //\n    // this._mesh.add(mesh);\n\n    var geometry;\n    var material;\n    var mesh;\n\n    // Output lines\n    if (lines.vertices.length > 0) {\n      geometry = Buffer.createLineGeometry(lines, offset);\n\n      material = new THREE.LineBasicMaterial({\n        vertexColors: THREE.VertexColors,\n        linewidth: style.lineWidth,\n        transparent: style.lineTransparent,\n        opacity: style.lineOpacity,\n        blending: style.lineBlending\n      });\n\n      mesh = new THREE.LineSegments(geometry, material);\n\n      if (style.lineRenderOrder !== undefined) {\n        material.depthWrite = false;\n        mesh.renderOrder = style.lineRenderOrder;\n      }\n\n      // TODO: Can a line cast a shadow?\n      // mesh.castShadow = true;\n\n      this._mesh.add(mesh);\n\n      if (this._options.picking) {\n        material = new PickingMaterial();\n        material.side = THREE.BackSide;\n\n        // Make the line wider / easier to pick\n        material.linewidth = style.lineWidth + material.linePadding;\n\n        var pickingMesh = new THREE.LineSegments(geometry, material);\n        this._pickingMesh.add(pickingMesh);\n      }\n    }\n\n    // Output polygons\n    if (polygons.facesCount > 0) {\n      geometry = Buffer.createGeometry(polygons, offset);\n\n      if (!this._world._environment._skybox) {\n        material = new THREE.MeshPhongMaterial({\n          vertexColors: THREE.VertexColors,\n          side: THREE.BackSide\n        });\n      } else {\n        material = new THREE.MeshStandardMaterial({\n          vertexColors: THREE.VertexColors,\n          side: THREE.BackSide\n        });\n        material.roughness = 1;\n        material.metalness = 0.1;\n        material.envMapIntensity = 3;\n        material.envMap = this._world._environment._skybox.getRenderTarget();\n      }\n\n      mesh = new THREE.Mesh(geometry, material);\n\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n\n      if (polygons.allFlat) {\n        material.depthWrite = false;\n        mesh.renderOrder = 1;\n      }\n\n      this._mesh.add(mesh);\n\n      if (this._options.picking) {\n        material = new PickingMaterial();\n        material.side = THREE.BackSide;\n\n        var pickingMesh = new THREE.Mesh(geometry, material);\n        this._pickingMesh.add(pickingMesh);\n      }\n    }\n\n    this._ready = true;\n    console.timeEnd(this._tile);\n    console.log(`${this._tile}: ${features.length} features`);\n  }\n\n  _abortRequest() {\n    if (!this._request) {\n      return;\n    }\n\n    this._request.abort();\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(quadcode, path, layer, options) {\n  return new GeoJSONTile(quadcode, path, layer, options);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/tile/GeoJSONTile.js\n **/"],"sourceRoot":"/source/"}