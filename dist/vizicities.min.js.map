{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","vizicities.min.js","webpack:/webpack/bootstrap 61c83a266e0577efb805","webpack:///src/vizicities.js","webpack:///src/World.js","webpack:///~/eventemitter3/index.js","webpack:///src/engine/Engine.js","webpack:/external \"THREE\"","webpack:///src/engine/Scene.js","webpack:///src/engine/Renderer.js","webpack:///src/engine/Camera.js","webpack:///src/controls/Controls.js","webpack:///src/controls/Controls.Orbit.js","webpack:///~/three-orbit-controls/index.js","webpack:///src/layer/environment/EnvironmentLayer.js","webpack:///src/layer/Layer.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_World","_World2","_controlsControls","_controlsControls2","_layerEnvironmentEnvironmentLayer","_layerEnvironmentEnvironmentLayer2","VIZI","version","World","Controls","EnvironmentLayer","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","parent","getPrototypeOf","_eventemitter3","_eventemitter32","_engineEngine","_engineEngine2","_EventEmitter","domId","_layers","_controls","_initContainer","_initEngine","_update","_container","document","getElementById","_engine","delta","clock","getDelta","window","requestAnimationFrame","bind","forEach","controls","update","emit","layer","_addToWorld","push","_scene","add","_layer","EE","fn","context","once","EventEmitter","prefix","_events","listeners","event","exists","evt","available","l","ee","Array","a1","a2","a3","a4","a5","args","len","arguments","removeListener","apply","j","on","listener","events","removeAllListeners","off","addListener","setMaxListeners","prefixed","_three","_three2","_Scene","_Scene2","_Renderer","_Renderer2","_Camera","_Camera2","Engine","container","console","log","_renderer","_camera","Clock","render","scene","Scene","fog","Fog","renderer","WebGLRenderer","antialias","setClearColor","color","gammaInput","gammaOutput","appendChild","domElement","updateSize","setSize","clientWidth","clientHeight","addEventListener","camera","PerspectiveCamera","position","z","aspect","updateProjectionMatrix","_ControlsOrbit","_ControlsOrbit2","Orbit","_threeOrbitControls","_threeOrbitControls2","_OrbitControls","_this","_world","point","animate","pointDelta","metres","metresDelta","angle","angleDelta","noZoom","world","addControls","maxPolarAngle","Math","PI","_initEvents","THREE","OrbitConstraint","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","theta","phi","scope","EPS","phiDelta","thetaDelta","scale","panOffset","zoomChanged","getPolarAngle","getAzimuthalAngle","rotateLeft","rotateUp","panLeft","v","distance","te","matrix","elements","adjDist","cos","set","normalize","multiplyScalar","panUp","pan","deltaX","deltaY","screenWidth","screenHeight","offset","clone","sub","targetDistance","tan","fov","OrthographicCamera","right","left","top","bottom","warn","dollyIn","dollyScale","zoom","max","min","dollyOut","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","copy","applyQuaternion","atan2","x","sqrt","y","radius","sin","lookAt","distanceToSquared","dot","quaternion","OrbitControls","element","body","constraint","getAutoRotationAngle","autoRotateSpeed","getZoomScale","pow","zoomSpeed","onMouseDown","enabled","preventDefault","button","mouseButtons","ORBIT","enableRotate","state","STATE","ROTATE","rotateStart","clientX","clientY","ZOOM","enableZoom","DOLLY","dollyStart","PAN","enablePan","panStart","NONE","onMouseMove","onMouseUp","dispatchEvent","startEvent","rotateEnd","rotateDelta","subVectors","rotateSpeed","dollyEnd","dollyDelta","panEnd","panDelta","removeEventListener","endEvent","onMouseWheel","stopPropagation","wheelDelta","detail","onKeyDown","enableKeys","keyCode","keys","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","touchstart","touches","TOUCH_ROTATE","pageX","pageY","TOUCH_DOLLY","dx","dy","TOUCH_PAN","touchmove","touchend","contextmenu","center","autoRotate","MOUSE","MIDDLE","Vector2","target0","position0","zoom0","changeEvent","type","reset","dispose","EventDispatcher","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","_Layer2","_Layer3","_Layer","_initLights","_initGrid","directionalLight","DirectionalLight","intesity","directionalLight2","helper","DirectionalLightHelper","helper2","size","step","gridHelper","GridHelper","_engineScene","Layer","Object3D","addLayer"],"mappings":"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","file":"vizicities.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"THREE\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"THREE\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VIZI\"] = factory(require(\"THREE\"));\n\telse\n\t\troot[\"VIZI\"] = factory(root[\"THREE\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"THREE\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"THREE\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VIZI\"] = factory(require(\"THREE\"));\n\telse\n\t\troot[\"VIZI\"] = factory(root[\"THREE\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _World = __webpack_require__(1);\n\t\n\tvar _World2 = _interopRequireDefault(_World);\n\t\n\tvar _controlsControls = __webpack_require__(8);\n\t\n\tvar _controlsControls2 = _interopRequireDefault(_controlsControls);\n\t\n\tvar _layerEnvironmentEnvironmentLayer = __webpack_require__(11);\n\t\n\tvar _layerEnvironmentEnvironmentLayer2 = _interopRequireDefault(_layerEnvironmentEnvironmentLayer);\n\t\n\tvar VIZI = {\n\t  version: '0.3',\n\t\n\t  // Public API\n\t  World: _World2['default'],\n\t  Controls: _controlsControls2['default'],\n\t  EnvironmentLayer: _layerEnvironmentEnvironmentLayer2['default']\n\t};\n\t\n\texports['default'] = VIZI;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _eventemitter3 = __webpack_require__(2);\n\t\n\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\t\n\tvar _engineEngine = __webpack_require__(3);\n\t\n\tvar _engineEngine2 = _interopRequireDefault(_engineEngine);\n\t\n\t// Pretty much any event someone using ViziCities would need will be emitted or\n\t// proxied by World (eg. render events, etc)\n\t\n\tvar World = (function (_EventEmitter) {\n\t  _inherits(World, _EventEmitter);\n\t\n\t  function World(domId) {\n\t    _classCallCheck(this, World);\n\t\n\t    _get(Object.getPrototypeOf(World.prototype), 'constructor', this).call(this);\n\t\n\t    this._layers = [];\n\t    this._controls = [];\n\t\n\t    this._initContainer(domId);\n\t    this._initEngine();\n\t\n\t    // Kick off the update and render loop\n\t    this._update();\n\t  }\n\t\n\t  // Initialise without requiring new keyword\n\t\n\t  _createClass(World, [{\n\t    key: '_initContainer',\n\t    value: function _initContainer(domId) {\n\t      this._container = document.getElementById(domId);\n\t    }\n\t  }, {\n\t    key: '_initEngine',\n\t    value: function _initEngine() {\n\t      this._engine = (0, _engineEngine2['default'])(this._container);\n\t\n\t      // Engine events\n\t      //\n\t      // Consider proxying these through events on World for public access\n\t      // this._engine.on('preRender', () => {});\n\t      // this._engine.on('postRender', () => {});\n\t    }\n\t  }, {\n\t    key: '_update',\n\t    value: function _update() {\n\t      var delta = this._engine.clock.getDelta();\n\t\n\t      // Once _update is called it will run forever, for now\n\t      window.requestAnimationFrame(this._update.bind(this));\n\t\n\t      // Update controls\n\t      this._controls.forEach(function (controls) {\n\t        controls.update();\n\t      });\n\t\n\t      this.emit('preUpdate');\n\t      this._engine._update(delta);\n\t      this.emit('postUpdate');\n\t    }\n\t  }, {\n\t    key: 'addLayer',\n\t    value: function addLayer(layer) {\n\t      layer._addToWorld(this);\n\t\n\t      this._layers.push(layer);\n\t\n\t      // Could move this into Layer but it'll do here for now\n\t      this._engine._scene.add(layer._layer);\n\t\n\t      this.emit('layerAdded', layer);\n\t      return this;\n\t    }\n\t\n\t    // Remove layer and perform clean up operations\n\t  }, {\n\t    key: 'removeLayer',\n\t    value: function removeLayer(layer) {}\n\t  }, {\n\t    key: 'addControls',\n\t    value: function addControls(controls) {\n\t      controls._addToWorld(this);\n\t\n\t      this._controls.push(controls);\n\t\n\t      this.emit('controlsAdded', controls);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'removeControls',\n\t    value: function removeControls(controls) {}\n\t  }]);\n\t\n\t  return World;\n\t})(_eventemitter32['default']);\n\t\n\texports['default'] = function (domId) {\n\t  return new World(domId);\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t//\n\t// We store our EE objects in a plain object whose properties are event names.\n\t// If `Object.create(null)` is not supported we prefix the event names with a\n\t// `~` to make sure that the built-in object properties are not overridden or\n\t// used as an attack vector.\n\t// We also assume that `Object.create(null)` is available when the event name\n\t// is an ES6 Symbol.\n\t//\n\tvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\t\n\t/**\n\t * Representation of a single EventEmitter function.\n\t *\n\t * @param {Function} fn Event handler to be called.\n\t * @param {Mixed} context Context for function execution.\n\t * @param {Boolean} once Only emit once\n\t * @api private\n\t */\n\tfunction EE(fn, context, once) {\n\t  this.fn = fn;\n\t  this.context = context;\n\t  this.once = once || false;\n\t}\n\t\n\t/**\n\t * Minimal EventEmitter interface that is molded against the Node.js\n\t * EventEmitter interface.\n\t *\n\t * @constructor\n\t * @api public\n\t */\n\tfunction EventEmitter() { /* Nothing to set */ }\n\t\n\t/**\n\t * Holds the assigned EventEmitters by name.\n\t *\n\t * @type {Object}\n\t * @private\n\t */\n\tEventEmitter.prototype._events = undefined;\n\t\n\t/**\n\t * Return a list of assigned event listeners.\n\t *\n\t * @param {String} event The events that should be listed.\n\t * @param {Boolean} exists We only need to know if there are listeners.\n\t * @returns {Array|Boolean}\n\t * @api public\n\t */\n\tEventEmitter.prototype.listeners = function listeners(event, exists) {\n\t  var evt = prefix ? prefix + event : event\n\t    , available = this._events && this._events[evt];\n\t\n\t  if (exists) return !!available;\n\t  if (!available) return [];\n\t  if (available.fn) return [available.fn];\n\t\n\t  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n\t    ee[i] = available[i].fn;\n\t  }\n\t\n\t  return ee;\n\t};\n\t\n\t/**\n\t * Emit an event to all registered event listeners.\n\t *\n\t * @param {String} event The name of the event.\n\t * @returns {Boolean} Indication if we've emitted an event.\n\t * @api public\n\t */\n\tEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n\t  var evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events || !this._events[evt]) return false;\n\t\n\t  var listeners = this._events[evt]\n\t    , len = arguments.length\n\t    , args\n\t    , i;\n\t\n\t  if ('function' === typeof listeners.fn) {\n\t    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\t\n\t    switch (len) {\n\t      case 1: return listeners.fn.call(listeners.context), true;\n\t      case 2: return listeners.fn.call(listeners.context, a1), true;\n\t      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n\t      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\t      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\t      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n\t    }\n\t\n\t    for (i = 1, args = new Array(len -1); i < len; i++) {\n\t      args[i - 1] = arguments[i];\n\t    }\n\t\n\t    listeners.fn.apply(listeners.context, args);\n\t  } else {\n\t    var length = listeners.length\n\t      , j;\n\t\n\t    for (i = 0; i < length; i++) {\n\t      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\t\n\t      switch (len) {\n\t        case 1: listeners[i].fn.call(listeners[i].context); break;\n\t        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n\t        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n\t        default:\n\t          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n\t            args[j - 1] = arguments[j];\n\t          }\n\t\n\t          listeners[i].fn.apply(listeners[i].context, args);\n\t      }\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\t/**\n\t * Register a new EventListener for the given event.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Functon} fn Callback function.\n\t * @param {Mixed} context The context of the function.\n\t * @api public\n\t */\n\tEventEmitter.prototype.on = function on(event, fn, context) {\n\t  var listener = new EE(fn, context || this)\n\t    , evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Add an EventListener that's only called once.\n\t *\n\t * @param {String} event Name of the event.\n\t * @param {Function} fn Callback function.\n\t * @param {Mixed} context The context of the function.\n\t * @api public\n\t */\n\tEventEmitter.prototype.once = function once(event, fn, context) {\n\t  var listener = new EE(fn, context || this, true)\n\t    , evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events) this._events = prefix ? {} : Object.create(null);\n\t  if (!this._events[evt]) this._events[evt] = listener;\n\t  else {\n\t    if (!this._events[evt].fn) this._events[evt].push(listener);\n\t    else this._events[evt] = [\n\t      this._events[evt], listener\n\t    ];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove event listeners.\n\t *\n\t * @param {String} event The event we want to remove.\n\t * @param {Function} fn The listener that we need to find.\n\t * @param {Mixed} context Only remove listeners matching this context.\n\t * @param {Boolean} once Only remove once listeners.\n\t * @api public\n\t */\n\tEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n\t  var evt = prefix ? prefix + event : event;\n\t\n\t  if (!this._events || !this._events[evt]) return this;\n\t\n\t  var listeners = this._events[evt]\n\t    , events = [];\n\t\n\t  if (fn) {\n\t    if (listeners.fn) {\n\t      if (\n\t           listeners.fn !== fn\n\t        || (once && !listeners.once)\n\t        || (context && listeners.context !== context)\n\t      ) {\n\t        events.push(listeners);\n\t      }\n\t    } else {\n\t      for (var i = 0, length = listeners.length; i < length; i++) {\n\t        if (\n\t             listeners[i].fn !== fn\n\t          || (once && !listeners[i].once)\n\t          || (context && listeners[i].context !== context)\n\t        ) {\n\t          events.push(listeners[i]);\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  //\n\t  // Reset the array, or remove it completely if we have no more listeners.\n\t  //\n\t  if (events.length) {\n\t    this._events[evt] = events.length === 1 ? events[0] : events;\n\t  } else {\n\t    delete this._events[evt];\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Remove all listeners or only the listeners for the specified event.\n\t *\n\t * @param {String} event The event want to remove all listeners for.\n\t * @api public\n\t */\n\tEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n\t  if (!this._events) return this;\n\t\n\t  if (event) delete this._events[prefix ? prefix + event : event];\n\t  else this._events = prefix ? {} : Object.create(null);\n\t\n\t  return this;\n\t};\n\t\n\t//\n\t// Alias methods names because people roll like that.\n\t//\n\tEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\tEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\t\n\t//\n\t// This function doesn't apply anymore.\n\t//\n\tEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n\t  return this;\n\t};\n\t\n\t//\n\t// Expose the prefix.\n\t//\n\tEventEmitter.prefixed = prefix;\n\t\n\t//\n\t// Expose the module.\n\t//\n\tif (true) {\n\t  module.exports = EventEmitter;\n\t}\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _eventemitter3 = __webpack_require__(2);\n\t\n\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\t\n\tvar _three = __webpack_require__(4);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar _Scene = __webpack_require__(5);\n\t\n\tvar _Scene2 = _interopRequireDefault(_Scene);\n\t\n\tvar _Renderer = __webpack_require__(6);\n\t\n\tvar _Renderer2 = _interopRequireDefault(_Renderer);\n\t\n\tvar _Camera = __webpack_require__(7);\n\t\n\tvar _Camera2 = _interopRequireDefault(_Camera);\n\t\n\tvar Engine = (function (_EventEmitter) {\n\t  _inherits(Engine, _EventEmitter);\n\t\n\t  function Engine(container) {\n\t    _classCallCheck(this, Engine);\n\t\n\t    console.log('Init Engine');\n\t\n\t    _get(Object.getPrototypeOf(Engine.prototype), 'constructor', this).call(this);\n\t\n\t    this._scene = _Scene2['default'];\n\t    this._renderer = (0, _Renderer2['default'])(container);\n\t    this._camera = (0, _Camera2['default'])(container);\n\t    this.clock = new _three2['default'].Clock();\n\t  }\n\t\n\t  // Initialise without requiring new keyword\n\t\n\t  _createClass(Engine, [{\n\t    key: '_update',\n\t    value: function _update(delta) {\n\t      this.emit('preRender');\n\t      this._renderer.render(this._scene, this._camera);\n\t      this.emit('postRender');\n\t    }\n\t  }]);\n\t\n\t  return Engine;\n\t})(_eventemitter32['default']);\n\t\n\texports['default'] = function (container) {\n\t  return new Engine(container);\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _three = __webpack_require__(4);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\t// This can be imported from anywhere and will still reference the same scene,\n\t// though there is a helper reference in Engine.scene\n\t\n\texports['default'] = (function () {\n\t  var scene = new _three2['default'].Scene();\n\t  scene.fog = new _three2['default'].Fog(0xffffff, 1, 15000);\n\t  return scene;\n\t})();\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _three = __webpack_require__(4);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar _Scene = __webpack_require__(5);\n\t\n\tvar _Scene2 = _interopRequireDefault(_Scene);\n\t\n\t// This can only be accessed from Engine.renderer if you want to reference the\n\t// same scene in multiple places\n\t\n\texports['default'] = function (container) {\n\t  var renderer = new _three2['default'].WebGLRenderer({\n\t    antialias: true\n\t  });\n\t\n\t  renderer.setClearColor(_Scene2['default'].fog.color, 1);\n\t\n\t  // Gamma settings make things look nicer\n\t  renderer.gammaInput = true;\n\t  renderer.gammaOutput = true;\n\t\n\t  container.appendChild(renderer.domElement);\n\t\n\t  var updateSize = function updateSize() {\n\t    renderer.setSize(container.clientWidth, container.clientHeight);\n\t  };\n\t\n\t  window.addEventListener('resize', updateSize, false);\n\t  updateSize();\n\t\n\t  return renderer;\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _three = __webpack_require__(4);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\t// This can only be accessed from Engine.camera if you want to reference the\n\t// same scene in multiple places\n\t\n\texports['default'] = function (container) {\n\t  var camera = new _three2['default'].PerspectiveCamera(40, 1, 1, 40000);\n\t  camera.position.z = 400;\n\t\n\t  var updateSize = function updateSize() {\n\t    camera.aspect = container.clientWidth / container.clientHeight;\n\t    camera.updateProjectionMatrix();\n\t  };\n\t\n\t  window.addEventListener('resize', updateSize, false);\n\t  updateSize();\n\t\n\t  return camera;\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _ControlsOrbit = __webpack_require__(9);\n\t\n\tvar _ControlsOrbit2 = _interopRequireDefault(_ControlsOrbit);\n\t\n\tvar Controls = {\n\t  Orbit: _ControlsOrbit2['default']\n\t};\n\t\n\texports['default'] = Controls;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _eventemitter3 = __webpack_require__(2);\n\t\n\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\t\n\tvar _three = __webpack_require__(4);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar _threeOrbitControls = __webpack_require__(10);\n\t\n\tvar _threeOrbitControls2 = _interopRequireDefault(_threeOrbitControls);\n\t\n\tvar _OrbitControls = (0, _threeOrbitControls2['default'])(_three2['default']);\n\t\n\tvar Orbit = (function (_EventEmitter) {\n\t  _inherits(Orbit, _EventEmitter);\n\t\n\t  function Orbit() {\n\t    _classCallCheck(this, Orbit);\n\t\n\t    _get(Object.getPrototypeOf(Orbit.prototype), 'constructor', this).call(this);\n\t  }\n\t\n\t  // Initialise without requiring new keyword\n\t\n\t  // Proxy control events\n\t  //\n\t  // There's currently no distinction between pan, orbit and zoom events\n\t\n\t  _createClass(Orbit, [{\n\t    key: '_initEvents',\n\t    value: function _initEvents() {\n\t      var _this = this;\n\t\n\t      this._controls.addEventListener('start', function (event) {\n\t        _this._world.emit('moveStart');\n\t      });\n\t\n\t      this._controls.addEventListener('change', function (event) {\n\t        _this._world.emit('move');\n\t      });\n\t\n\t      this._controls.addEventListener('end', function (event) {\n\t        _this._world.emit('moveEnd');\n\t      });\n\t    }\n\t\n\t    // Moving the camera along the [x,y,z] axis based on a target position\n\t  }, {\n\t    key: '_panTo',\n\t    value: function _panTo(point, animate) {}\n\t  }, {\n\t    key: '_panBy',\n\t    value: function _panBy(pointDelta, animate) {}\n\t\n\t    // Zooming the camera in and out\n\t  }, {\n\t    key: '_zoomTo',\n\t    value: function _zoomTo(metres, animate) {}\n\t  }, {\n\t    key: '_zoomBy',\n\t    value: function _zoomBy(metresDelta, animate) {}\n\t\n\t    // Force camera to look at something other than the target\n\t  }, {\n\t    key: '_lookAt',\n\t    value: function _lookAt(point, animate) {}\n\t\n\t    // Make camera look at the target\n\t  }, {\n\t    key: '_lookAtTarget',\n\t    value: function _lookAtTarget() {}\n\t\n\t    // Tilt (up and down)\n\t  }, {\n\t    key: '_tiltTo',\n\t    value: function _tiltTo(angle, animate) {}\n\t  }, {\n\t    key: '_tiltBy',\n\t    value: function _tiltBy(angleDelta, animate) {}\n\t\n\t    // Rotate (left and right)\n\t  }, {\n\t    key: '_rotateTo',\n\t    value: function _rotateTo(angle, animate) {}\n\t  }, {\n\t    key: '_rotateBy',\n\t    value: function _rotateBy(angleDelta, animate) {}\n\t\n\t    // Fly to the given point, animating pan and tilt/rotation to final position\n\t    // with nice zoom out and in\n\t    //\n\t    // Calling flyTo a second time before the previous animation has completed\n\t    // will immediately start the new animation from wherever the previous one\n\t    // has got to\n\t  }, {\n\t    key: '_flyTo',\n\t    value: function _flyTo(point, noZoom) {}\n\t\n\t    // Proxy to OrbitControls.update()\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      this._controls.update();\n\t    }\n\t\n\t    // Add controls to world instance and store world reference\n\t  }, {\n\t    key: 'addTo',\n\t    value: function addTo(world) {\n\t      world.addControls(this);\n\t      return this;\n\t    }\n\t\n\t    // Internal method called by World.addControls to actually add the controls\n\t  }, {\n\t    key: '_addToWorld',\n\t    value: function _addToWorld(world) {\n\t      this._world = world;\n\t\n\t      // TODO: Override panLeft and panUp methods to prevent panning on Y axis\n\t      // See: http://stackoverflow.com/a/26188674/997339\n\t      this._controls = new _OrbitControls(world._engine._camera, world._container);\n\t\n\t      this._controls.maxPolarAngle = Math.PI / 2;\n\t\n\t      // this._controls.enableDamping = true;\n\t      // this._controls.dampingFactor = 0.25;\n\t\n\t      this._initEvents();\n\t\n\t      this.emit('added');\n\t    }\n\t  }]);\n\t\n\t  return Orbit;\n\t})(_eventemitter32['default']);\n\t\n\texports['default'] = function () {\n\t  return new Orbit();\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(THREE) {\n\t\tvar MOUSE = THREE.MOUSE\n\t\tif (!MOUSE)\n\t\t\tMOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\n\t\n\t\t/**\n\t\t * @author qiao / https://github.com/qiao\n\t\t * @author mrdoob / http://mrdoob.com\n\t\t * @author alteredq / http://alteredqualia.com/\n\t\t * @author WestLangley / http://github.com/WestLangley\n\t\t * @author erich666 / http://erichaines.com\n\t\t */\n\t\t/*global THREE, console */\n\t\n\t\tfunction OrbitConstraint ( object ) {\n\t\n\t\t\tthis.object = object;\n\t\n\t\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\t\t// and where it pans with respect to.\n\t\t\tthis.target = new THREE.Vector3();\n\t\n\t\t\t// Limits to how far you can dolly in and out ( PerspectiveCamera only )\n\t\t\tthis.minDistance = 0;\n\t\t\tthis.maxDistance = Infinity;\n\t\n\t\t\t// Limits to how far you can zoom in and out ( OrthographicCamera only )\n\t\t\tthis.minZoom = 0;\n\t\t\tthis.maxZoom = Infinity;\n\t\n\t\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t\t// Range is 0 to Math.PI radians.\n\t\t\tthis.minPolarAngle = 0; // radians\n\t\t\tthis.maxPolarAngle = Math.PI; // radians\n\t\n\t\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\t\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\t\tthis.maxAzimuthAngle = Infinity; // radians\n\t\n\t\t\t// Set to true to enable damping (inertia)\n\t\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\t\tthis.enableDamping = false;\n\t\t\tthis.dampingFactor = 0.25;\n\t\n\t\t\t////////////\n\t\t\t// internals\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar EPS = 0.000001;\n\t\n\t\t\t// Current position in spherical coordinate system.\n\t\t\tvar theta;\n\t\t\tvar phi;\n\t\n\t\t\t// Pending changes\n\t\t\tvar phiDelta = 0;\n\t\t\tvar thetaDelta = 0;\n\t\t\tvar scale = 1;\n\t\t\tvar panOffset = new THREE.Vector3();\n\t\t\tvar zoomChanged = false;\n\t\n\t\t\t// API\n\t\n\t\t\tthis.getPolarAngle = function () {\n\t\n\t\t\t\treturn phi;\n\t\n\t\t\t};\n\t\n\t\t\tthis.getAzimuthalAngle = function () {\n\t\n\t\t\t\treturn theta;\n\t\n\t\t\t};\n\t\n\t\t\tthis.rotateLeft = function ( angle ) {\n\t\n\t\t\t\tthetaDelta -= angle;\n\t\n\t\t\t};\n\t\n\t\t\tthis.rotateUp = function ( angle ) {\n\t\n\t\t\t\tphiDelta -= angle;\n\t\n\t\t\t};\n\t\n\t\t\t// pass in distance in world space to move left\n\t\t\tthis.panLeft = function() {\n\t\n\t\t\t\tvar v = new THREE.Vector3();\n\t\n\t\t\t  return function panLeft(distance) {\n\t\t\t    var te = this.object.matrix.elements;\n\t\t\t    var adjDist = distance / Math.cos(phi);\n\t\n\t\t\t    v.set(te[ 0 ], 0, te[ 2 ]).normalize();\n\t\t\t    v.multiplyScalar(-adjDist);\n\t\n\t\t\t    panOffset.add(v);\n\t\t\t  };\n\t\n\t\t\t}();\n\t\n\t\t\t// pass in distance in world space to move up\n\t\t\tthis.panUp = function() {\n\t\n\t\t\t\tvar v = new THREE.Vector3();\n\t\n\t\t\t  return function panUp(distance) {\n\t\t\t    var te = this.object.matrix.elements;\n\t\t\t    var adjDist = distance / Math.cos(phi);\n\t\n\t\t\t    v.set(te[ 8 ], 0, te[ 10 ]).normalize();\n\t\t\t    v.multiplyScalar(-adjDist);\n\t\n\t\t\t    panOffset.add(v);\n\t\t\t  };\n\t\n\t\t\t}();\n\t\n\t\t\t// pass in x,y of change desired in pixel space,\n\t\t\t// right and down are positive\n\t\t\tthis.pan = function ( deltaX, deltaY, screenWidth, screenHeight ) {\n\t\n\t\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\t\n\t\t\t\t\t// perspective\n\t\t\t\t\tvar position = scope.object.position;\n\t\t\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\t\t\tvar targetDistance = offset.length();\n\t\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\t\n\t\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\t\tscope.panLeft( 2 * deltaX * targetDistance / screenHeight );\n\t\t\t\t\tscope.panUp( 2 * deltaY * targetDistance / screenHeight );\n\t\n\t\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\t\n\t\t\t\t\t// orthographic\n\t\t\t\t\tscope.panLeft( deltaX * ( scope.object.right - scope.object.left ) / screenWidth );\n\t\t\t\t\tscope.panUp( deltaY * ( scope.object.top - scope.object.bottom ) / screenHeight );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// camera neither orthographic or perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tthis.dollyIn = function ( dollyScale ) {\n\t\n\t\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\t\n\t\t\t\t\tscale /= dollyScale;\n\t\n\t\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\t\n\t\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t\tzoomChanged = true;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tthis.dollyOut = function ( dollyScale ) {\n\t\n\t\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\t\n\t\t\t\t\tscale *= dollyScale;\n\t\n\t\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\t\n\t\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t\tzoomChanged = true;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tthis.update = function() {\n\t\n\t\t\t\tvar offset = new THREE.Vector3();\n\t\n\t\t\t\t// so camera.up is the orbit axis\n\t\t\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\t\t\tvar quatInverse = quat.clone().inverse();\n\t\n\t\t\t\tvar lastPosition = new THREE.Vector3();\n\t\t\t\tvar lastQuaternion = new THREE.Quaternion();\n\t\n\t\t\t\treturn function () {\n\t\n\t\t\t\t\tvar position = this.object.position;\n\t\n\t\t\t\t\toffset.copy( position ).sub( this.target );\n\t\n\t\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\t\toffset.applyQuaternion( quat );\n\t\n\t\t\t\t\t// angle from z-axis around y-axis\n\t\n\t\t\t\t\ttheta = Math.atan2( offset.x, offset.z );\n\t\n\t\t\t\t\t// angle from y-axis\n\t\n\t\t\t\t\tphi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\t\n\t\t\t\t\ttheta += thetaDelta;\n\t\t\t\t\tphi += phiDelta;\n\t\n\t\t\t\t\t// restrict theta to be between desired limits\n\t\t\t\t\ttheta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\t\n\t\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\t\n\t\t\t\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\t\t\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\t\n\t\t\t\t\tvar radius = offset.length() * scale;\n\t\n\t\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\t\n\t\t\t\t\t// move target to panned location\n\t\t\t\t\tthis.target.add( panOffset );\n\t\n\t\t\t\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\t\t\t\toffset.y = radius * Math.cos( phi );\n\t\t\t\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\t\n\t\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\t\toffset.applyQuaternion( quatInverse );\n\t\n\t\t\t\t\tposition.copy( this.target ).add( offset );\n\t\n\t\t\t\t\tthis.object.lookAt( this.target );\n\t\n\t\t\t\t\tif ( this.enableDamping === true ) {\n\t\n\t\t\t\t\t\tthetaDelta *= ( 1 - this.dampingFactor );\n\t\t\t\t\t\tphiDelta *= ( 1 - this.dampingFactor );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tthetaDelta = 0;\n\t\t\t\t\t\tphiDelta = 0;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tscale = 1;\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\t\n\t\t\t\t\t// update condition is:\n\t\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\t\n\t\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\t\t lastPosition.distanceToSquared( this.object.position ) > EPS ||\n\t\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\n\t\n\t\t\t\t\t\tlastPosition.copy( this.object.position );\n\t\t\t\t\t\tlastQuaternion.copy( this.object.quaternion );\n\t\t\t\t\t\tzoomChanged = false;\n\t\n\t\t\t\t\t\treturn true;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn false;\n\t\n\t\t\t\t};\n\t\n\t\t\t}();\n\t\n\t\t};\n\t\n\t\n\t\t// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n\t\t// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n\t\t// supported.\n\t\t//\n\t\t//    Orbit - left mouse / touch: one finger move\n\t\t//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n\t\t//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\t\n\t\tfunction OrbitControls ( object, domElement ) {\n\t\n\t\t\tvar constraint = new OrbitConstraint( object );\n\t\n\t\t\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\t\n\t\t\t// API\n\t\n\t\t\tObject.defineProperty( this, 'constraint', {\n\t\n\t\t\t\tget: function() {\n\t\n\t\t\t\t\treturn constraint;\n\t\n\t\t\t\t}\n\t\n\t\t\t} );\n\t\n\t\t\tthis.getPolarAngle = function () {\n\t\n\t\t\t\treturn constraint.getPolarAngle();\n\t\n\t\t\t};\n\t\n\t\t\tthis.getAzimuthalAngle = function () {\n\t\n\t\t\t\treturn constraint.getAzimuthalAngle();\n\t\n\t\t\t};\n\t\n\t\t\t// Set to false to disable this control\n\t\t\tthis.enabled = true;\n\t\n\t\t\t// center is old, deprecated; use \"target\" instead\n\t\t\tthis.center = this.target;\n\t\n\t\t\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t\t\t// backwards compatibility.\n\t\t\t// Set to false to disable zooming\n\t\t\tthis.enableZoom = true;\n\t\t\tthis.zoomSpeed = 1.0;\n\t\n\t\t\t// Set to false to disable rotating\n\t\t\tthis.enableRotate = true;\n\t\t\tthis.rotateSpeed = 1.0;\n\t\n\t\t\t// Set to false to disable panning\n\t\t\tthis.enablePan = true;\n\t\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\t\n\t\t\t// Set to true to automatically rotate around the target\n\t\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\t\tthis.autoRotate = false;\n\t\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\t\n\t\t\t// Set to false to disable use of the keys\n\t\t\tthis.enableKeys = true;\n\t\n\t\t\t// The four arrow keys\n\t\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\t\n\t\t\t// Mouse buttons\n\t\t\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\t\n\t\t\t////////////\n\t\t\t// internals\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar rotateStart = new THREE.Vector2();\n\t\t\tvar rotateEnd = new THREE.Vector2();\n\t\t\tvar rotateDelta = new THREE.Vector2();\n\t\n\t\t\tvar panStart = new THREE.Vector2();\n\t\t\tvar panEnd = new THREE.Vector2();\n\t\t\tvar panDelta = new THREE.Vector2();\n\t\n\t\t\tvar dollyStart = new THREE.Vector2();\n\t\t\tvar dollyEnd = new THREE.Vector2();\n\t\t\tvar dollyDelta = new THREE.Vector2();\n\t\n\t\t\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\t\n\t\t\tvar state = STATE.NONE;\n\t\n\t\t\t// for reset\n\t\n\t\t\tthis.target0 = this.target.clone();\n\t\t\tthis.position0 = this.object.position.clone();\n\t\t\tthis.zoom0 = this.object.zoom;\n\t\n\t\t\t// events\n\t\n\t\t\tvar changeEvent = { type: 'change' };\n\t\t\tvar startEvent = { type: 'start' };\n\t\t\tvar endEvent = { type: 'end' };\n\t\n\t\t\t// pass in x,y of change desired in pixel space,\n\t\t\t// right and down are positive\n\t\t\tfunction pan( deltaX, deltaY ) {\n\t\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\t\n\t\t\t\tconstraint.pan( deltaX, deltaY, element.clientWidth, element.clientHeight );\n\t\n\t\t\t}\n\t\n\t\t\tthis.update = function () {\n\t\n\t\t\t\tif ( this.autoRotate && state === STATE.NONE ) {\n\t\n\t\t\t\t\tconstraint.rotateLeft( getAutoRotationAngle() );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( constraint.update() === true ) {\n\t\n\t\t\t\t\tthis.dispatchEvent( changeEvent );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tthis.reset = function () {\n\t\n\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t\tthis.target.copy( this.target0 );\n\t\t\t\tthis.object.position.copy( this.position0 );\n\t\t\t\tthis.object.zoom = this.zoom0;\n\t\n\t\t\t\tthis.object.updateProjectionMatrix();\n\t\t\t\tthis.dispatchEvent( changeEvent );\n\t\n\t\t\t\tthis.update();\n\t\n\t\t\t};\n\t\n\t\t\tfunction getAutoRotationAngle() {\n\t\n\t\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t\n\t\t\t}\n\t\n\t\t\tfunction getZoomScale() {\n\t\n\t\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\t\n\t\t\t}\n\t\n\t\t\tfunction onMouseDown( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tevent.preventDefault();\n\t\n\t\t\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\t\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\n\t\t\t\t\tstate = STATE.ROTATE;\n\t\n\t\t\t\t\trotateStart.set( event.clientX, event.clientY );\n\t\n\t\t\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\t\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\n\t\t\t\t\tstate = STATE.DOLLY;\n\t\n\t\t\t\t\tdollyStart.set( event.clientX, event.clientY );\n\t\n\t\t\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\t\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\n\t\t\t\t\tstate = STATE.PAN;\n\t\n\t\t\t\t\tpanStart.set( event.clientX, event.clientY );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( state !== STATE.NONE ) {\n\t\n\t\t\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\t\t\tscope.dispatchEvent( startEvent );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction onMouseMove( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tevent.preventDefault();\n\t\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\t\n\t\t\t\tif ( state === STATE.ROTATE ) {\n\t\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\n\t\t\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\t\n\t\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\n\t\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\t\n\t\t\t\t\trotateStart.copy( rotateEnd );\n\t\n\t\t\t\t} else if ( state === STATE.DOLLY ) {\n\t\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\n\t\t\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\t\n\t\t\t\t\tif ( dollyDelta.y > 0 ) {\n\t\n\t\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\t\n\t\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\t\n\t\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tdollyStart.copy( dollyEnd );\n\t\n\t\t\t\t} else if ( state === STATE.PAN ) {\n\t\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\n\t\t\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\t\n\t\t\t\t\tpan( panDelta.x, panDelta.y );\n\t\n\t\t\t\t\tpanStart.copy( panEnd );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( state !== STATE.NONE ) scope.update();\n\t\n\t\t\t}\n\t\n\t\t\tfunction onMouseUp( /* event */ ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\t\t\tscope.dispatchEvent( endEvent );\n\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t}\n\t\n\t\t\tfunction onMouseWheel( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\t\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\n\t\t\t\tvar delta = 0;\n\t\n\t\t\t\tif ( event.wheelDelta !== undefined ) {\n\t\n\t\t\t\t\t// WebKit / Opera / Explorer 9\n\t\n\t\t\t\t\tdelta = event.wheelDelta;\n\t\n\t\t\t\t} else if ( event.detail !== undefined ) {\n\t\n\t\t\t\t\t// Firefox\n\t\n\t\t\t\t\tdelta = - event.detail;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( delta > 0 ) {\n\t\n\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\t\n\t\t\t\t} else if ( delta < 0 ) {\n\t\n\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tscope.update();\n\t\t\t\tscope.dispatchEvent( startEvent );\n\t\t\t\tscope.dispatchEvent( endEvent );\n\t\n\t\t\t}\n\t\n\t\t\tfunction onKeyDown( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\t\n\t\t\t\tswitch ( event.keyCode ) {\n\t\n\t\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction touchstart( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tswitch ( event.touches.length ) {\n\t\n\t\t\t\t\tcase 1:\t// one-fingered touch: rotate\n\t\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\t\n\t\t\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 2:\t// two-fingered touch: dolly\n\t\n\t\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\t\n\t\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\t\t\tdollyStart.set( 0, distance );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 3: // three-fingered touch: pan\n\t\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\t\n\t\t\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\t\n\t\t\t}\n\t\n\t\t\tfunction touchmove( event ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\t\n\t\t\t\tswitch ( event.touches.length ) {\n\t\n\t\t\t\t\tcase 1: // one-fingered touch: rotate\n\t\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\t\n\t\t\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\t\n\t\t\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\t\n\t\t\t\t\t\trotateStart.copy( rotateEnd );\n\t\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 2: // two-fingered touch: dolly\n\t\n\t\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\t\n\t\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\n\t\t\t\t\t\tdollyEnd.set( 0, distance );\n\t\t\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\t\n\t\t\t\t\t\tif ( dollyDelta.y > 0 ) {\n\t\n\t\t\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\t\n\t\t\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\t\n\t\t\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tdollyStart.copy( dollyEnd );\n\t\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 3: // three-fingered touch: pan\n\t\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\t\n\t\t\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\t\n\t\t\t\t\t\tpan( panDelta.x, panDelta.y );\n\t\n\t\t\t\t\t\tpanStart.copy( panEnd );\n\t\n\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction touchend( /* event */ ) {\n\t\n\t\t\t\tif ( scope.enabled === false ) return;\n\t\n\t\t\t\tscope.dispatchEvent( endEvent );\n\t\t\t\tstate = STATE.NONE;\n\t\n\t\t\t}\n\t\n\t\t\tfunction contextmenu( event ) {\n\t\n\t\t\t\tevent.preventDefault();\n\t\n\t\t\t}\n\t\n\t\t\tthis.dispose = function() {\n\t\n\t\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n\t\t\t\tthis.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\t\t\tthis.domElement.removeEventListener( 'mousewheel', onMouseWheel, false );\n\t\t\t\tthis.domElement.removeEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\t\n\t\t\t\tthis.domElement.removeEventListener( 'touchstart', touchstart, false );\n\t\t\t\tthis.domElement.removeEventListener( 'touchend', touchend, false );\n\t\t\t\tthis.domElement.removeEventListener( 'touchmove', touchmove, false );\n\t\n\t\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\n\t\t\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\t\n\t\t\t}\n\t\n\t\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\t\n\t\t\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\t\t\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\t\t\tthis.domElement.addEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\t\n\t\t\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\t\t\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\t\t\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\t\n\t\t\twindow.addEventListener( 'keydown', onKeyDown, false );\n\t\n\t\t\t// force an update at start\n\t\t\tthis.update();\n\t\n\t\t};\n\t\n\t\tOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n\t\tOrbitControls.prototype.constructor = OrbitControls;\n\t\n\t\tObject.defineProperties( OrbitControls.prototype, {\n\t\n\t\t\tobject: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.object;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\ttarget: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.target;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: target is now immutable. Use target.set() instead.' );\n\t\t\t\t\tthis.constraint.target.copy( value );\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tminDistance : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.minDistance;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.minDistance = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tmaxDistance : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.maxDistance;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.maxDistance = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tminZoom : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.minZoom;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.minZoom = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tmaxZoom : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.maxZoom;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.maxZoom = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tminPolarAngle : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.minPolarAngle;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.minPolarAngle = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tmaxPolarAngle : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.maxPolarAngle;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.maxPolarAngle = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tminAzimuthAngle : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.minAzimuthAngle;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.minAzimuthAngle = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tmaxAzimuthAngle : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.maxAzimuthAngle;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.maxAzimuthAngle = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tenableDamping : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.enableDamping;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.enableDamping = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tdampingFactor : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn this.constraint.dampingFactor;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tthis.constraint.dampingFactor = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\t// backward compatibility\n\t\n\t\t\tnoZoom: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\t\treturn ! this.enableZoom;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\t\tthis.enableZoom = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tnoRotate: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\t\treturn ! this.enableRotate;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\t\tthis.enableRotate = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tnoPan: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\t\treturn ! this.enablePan;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\t\tthis.enablePan = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tnoKeys: {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\t\treturn ! this.enableKeys;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\t\tthis.enableKeys = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tstaticMoving : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\t\treturn ! this.constraint.enableDamping;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\t\tthis.constraint.enableDamping = ! value;\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tdynamicDampingFactor : {\n\t\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\t\treturn this.constraint.dampingFactor;\n\t\n\t\t\t\t},\n\t\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\t\tthis.constraint.dampingFactor = value;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t} );\n\t\n\t\treturn OrbitControls;\n\t}\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _Layer2 = __webpack_require__(12);\n\t\n\tvar _Layer3 = _interopRequireDefault(_Layer2);\n\t\n\tvar _three = __webpack_require__(4);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar EnvironmentLayer = (function (_Layer) {\n\t  _inherits(EnvironmentLayer, _Layer);\n\t\n\t  function EnvironmentLayer() {\n\t    _classCallCheck(this, EnvironmentLayer);\n\t\n\t    _get(Object.getPrototypeOf(EnvironmentLayer.prototype), 'constructor', this).call(this);\n\t\n\t    this._initLights();\n\t    this._initGrid();\n\t  }\n\t\n\t  // Initialise without requiring new keyword\n\t\n\t  // Not fleshed out or thought through yet\n\t  //\n\t  // Lights could potentially be put it their own 'layer' to keep this class\n\t  // much simpler and less messy\n\t\n\t  _createClass(EnvironmentLayer, [{\n\t    key: '_initLights',\n\t    value: function _initLights() {\n\t      // Position doesn't really matter (the angle is important), however it's\n\t      // used here so the helpers look more natural.\n\t\n\t      var directionalLight = new _three2['default'].DirectionalLight(0x999999);\n\t      directionalLight.intesity = 0.1;\n\t      directionalLight.position.x = 100;\n\t      directionalLight.position.y = 100;\n\t      directionalLight.position.z = 100;\n\t\n\t      var directionalLight2 = new _three2['default'].DirectionalLight(0x999999);\n\t      directionalLight2.intesity = 0.1;\n\t      directionalLight2.position.x = -100;\n\t      directionalLight2.position.y = 100;\n\t      directionalLight2.position.z = -100;\n\t\n\t      var helper = new _three2['default'].DirectionalLightHelper(directionalLight, 10);\n\t      var helper2 = new _three2['default'].DirectionalLightHelper(directionalLight2, 10);\n\t\n\t      this._layer.add(directionalLight);\n\t      this._layer.add(directionalLight2);\n\t\n\t      this._layer.add(helper);\n\t      this._layer.add(helper2);\n\t    }\n\t\n\t    // Add grid helper for context during initial development\n\t  }, {\n\t    key: '_initGrid',\n\t    value: function _initGrid() {\n\t      var size = 4000;\n\t      var step = 100;\n\t\n\t      var gridHelper = new _three2['default'].GridHelper(size, step);\n\t      this._layer.add(gridHelper);\n\t    }\n\t  }]);\n\t\n\t  return EnvironmentLayer;\n\t})(_Layer3['default']);\n\t\n\texports['default'] = function () {\n\t  return new EnvironmentLayer();\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _eventemitter3 = __webpack_require__(2);\n\t\n\tvar _eventemitter32 = _interopRequireDefault(_eventemitter3);\n\t\n\tvar _three = __webpack_require__(4);\n\t\n\tvar _three2 = _interopRequireDefault(_three);\n\t\n\tvar _engineScene = __webpack_require__(5);\n\t\n\tvar _engineScene2 = _interopRequireDefault(_engineScene);\n\t\n\tvar Layer = (function (_EventEmitter) {\n\t  _inherits(Layer, _EventEmitter);\n\t\n\t  function Layer() {\n\t    _classCallCheck(this, Layer);\n\t\n\t    _get(Object.getPrototypeOf(Layer.prototype), 'constructor', this).call(this);\n\t\n\t    this._layer = new _three2['default'].Object3D();\n\t  }\n\t\n\t  // Add layer to world instance and store world reference\n\t\n\t  _createClass(Layer, [{\n\t    key: 'addTo',\n\t    value: function addTo(world) {\n\t      world.addLayer(this);\n\t      return this;\n\t    }\n\t\n\t    // Internal method called by World.addLayer to actually add the layer\n\t  }, {\n\t    key: '_addToWorld',\n\t    value: function _addToWorld(world) {\n\t      this._world = world;\n\t      this.emit('added');\n\t    }\n\t  }]);\n\t\n\t  return Layer;\n\t})(_eventemitter32['default']);\n\t\n\texports['default'] = Layer;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 61c83a266e0577efb805\n **/","import World from './World';\nimport Controls from './controls/Controls';\nimport EnvironmentLayer from './layer/environment/EnvironmentLayer';\n\nconst VIZI = {\n  version: '0.3',\n\n  // Public API\n  World: World,\n  Controls: Controls,\n  EnvironmentLayer: EnvironmentLayer\n};\n\nexport default VIZI;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vizicities.js\n **/","import EventEmitter from 'eventemitter3';\nimport Engine from './engine/Engine';\n\n// Pretty much any event someone using ViziCities would need will be emitted or\n// proxied by World (eg. render events, etc)\n\nclass World extends EventEmitter {\n  constructor(domId) {\n    super();\n\n    this._layers = [];\n    this._controls = [];\n\n    this._initContainer(domId);\n    this._initEngine();\n\n    // Kick off the update and render loop\n    this._update();\n  }\n\n  _initContainer(domId) {\n    this._container = document.getElementById(domId);\n  }\n\n  _initEngine() {\n    this._engine = Engine(this._container);\n\n    // Engine events\n    //\n    // Consider proxying these through events on World for public access\n    // this._engine.on('preRender', () => {});\n    // this._engine.on('postRender', () => {});\n  }\n\n  _update() {\n    var delta = this._engine.clock.getDelta();\n\n    // Once _update is called it will run forever, for now\n    window.requestAnimationFrame(this._update.bind(this));\n\n    // Update controls\n    this._controls.forEach(controls => {\n      controls.update();\n    });\n\n    this.emit('preUpdate');\n    this._engine._update(delta);\n    this.emit('postUpdate');\n  }\n\n  addLayer(layer) {\n    layer._addToWorld(this);\n\n    this._layers.push(layer);\n\n    // Could move this into Layer but it'll do here for now\n    this._engine._scene.add(layer._layer);\n\n    this.emit('layerAdded', layer);\n    return this;\n  }\n\n  // Remove layer and perform clean up operations\n  removeLayer(layer) {}\n\n  addControls(controls) {\n    controls._addToWorld(this);\n\n    this._controls.push(controls);\n\n    this.emit('controlsAdded', controls);\n    return this;\n  }\n\n  removeControls(controls) {}\n}\n\n// Initialise without requiring new keyword\nexport default function(domId) {\n  return new World(domId);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/World.js\n **/","'use strict';\n\n//\n// We store our EE objects in a plain object whose properties are event names.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// `~` to make sure that the built-in object properties are not overridden or\n// used as an attack vector.\n// We also assume that `Object.create(null)` is available when the event name\n// is an ES6 Symbol.\n//\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @param {Boolean} exists We only need to know if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events && this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\n  if (!this._events[evt]) this._events[evt] = listener;\n  else {\n    if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [\n      this._events[evt], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events || !this._events[evt]) return this;\n\n  var listeners = this._events[evt]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn) {\n      if (\n           listeners.fn !== fn\n        || (once && !listeners.once)\n        || (context && listeners.context !== context)\n      ) {\n        events.push(listeners);\n      }\n    } else {\n      for (var i = 0, length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[evt] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[prefix ? prefix + event : event];\n  else this._events = prefix ? {} : Object.create(null);\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/eventemitter3/index.js\n ** module id = 2\n ** module chunks = 0\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport Scene from './Scene';\nimport Renderer from './Renderer';\nimport Camera from './Camera';\n\nclass Engine extends EventEmitter {\n  constructor(container) {\n    console.log('Init Engine');\n\n    super();\n\n    this._scene = Scene;\n    this._renderer = Renderer(container);\n    this._camera = Camera(container);\n    this.clock = new THREE.Clock();\n  }\n\n  _update(delta) {\n    this.emit('preRender');\n    this._renderer.render(this._scene, this._camera);\n    this.emit('postRender');\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function(container) {\n  return new Engine(container);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Engine.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"THREE\"\n ** module id = 4\n ** module chunks = 0\n **/","import THREE from 'three';\n\n// This can be imported from anywhere and will still reference the same scene,\n// though there is a helper reference in Engine.scene\n\nexport default (function() {\n  var scene = new THREE.Scene();\n  scene.fog = new THREE.Fog(0xffffff, 1, 15000);\n  return scene;\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Scene.js\n **/","import THREE from 'three';\nimport Scene from './Scene';\n\n// This can only be accessed from Engine.renderer if you want to reference the\n// same scene in multiple places\n\nexport default function(container) {\n  var renderer = new THREE.WebGLRenderer({\n    antialias: true\n  });\n\n  renderer.setClearColor(Scene.fog.color, 1);\n\n  // Gamma settings make things look nicer\n  renderer.gammaInput = true;\n  renderer.gammaOutput = true;\n\n  container.appendChild(renderer.domElement);\n\n  var updateSize = function() {\n    renderer.setSize(container.clientWidth, container.clientHeight);\n  };\n\n  window.addEventListener('resize', updateSize, false);\n  updateSize();\n\n  return renderer;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Renderer.js\n **/","import THREE from 'three';\n\n// This can only be accessed from Engine.camera if you want to reference the\n// same scene in multiple places\n\nexport default function(container) {\n  var camera = new THREE.PerspectiveCamera(40, 1, 1, 40000);\n  camera.position.z = 400;\n\n  var updateSize = function() {\n    camera.aspect = container.clientWidth / container.clientHeight;\n    camera.updateProjectionMatrix();\n  };\n\n  window.addEventListener('resize', updateSize, false);\n  updateSize();\n\n  return camera;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/engine/Camera.js\n **/","import Orbit from './Controls.Orbit';\n\nconst Controls = {\n  Orbit: Orbit\n};\n\nexport default Controls;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/Controls.js\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport OrbitControls from 'three-orbit-controls';\n\nvar _OrbitControls = OrbitControls(THREE);\n\nclass Orbit extends EventEmitter {\n  constructor() {\n    super();\n  }\n\n  // Proxy control events\n  //\n  // There's currently no distinction between pan, orbit and zoom events\n  _initEvents() {\n    this._controls.addEventListener('start', (event) => {\n      this._world.emit('moveStart');\n    });\n\n    this._controls.addEventListener('change', (event) => {\n      this._world.emit('move');\n    });\n\n    this._controls.addEventListener('end', (event) => {\n      this._world.emit('moveEnd');\n    });\n  }\n\n  // Moving the camera along the [x,y,z] axis based on a target position\n  _panTo(point, animate) {}\n  _panBy(pointDelta, animate) {}\n\n  // Zooming the camera in and out\n  _zoomTo(metres, animate) {}\n  _zoomBy(metresDelta, animate) {}\n\n  // Force camera to look at something other than the target\n  _lookAt(point, animate) {}\n\n  // Make camera look at the target\n  _lookAtTarget() {}\n\n  // Tilt (up and down)\n  _tiltTo(angle, animate) {}\n  _tiltBy(angleDelta, animate) {}\n\n  // Rotate (left and right)\n  _rotateTo(angle, animate) {}\n  _rotateBy(angleDelta, animate) {}\n\n  // Fly to the given point, animating pan and tilt/rotation to final position\n  // with nice zoom out and in\n  //\n  // Calling flyTo a second time before the previous animation has completed\n  // will immediately start the new animation from wherever the previous one\n  // has got to\n  _flyTo(point, noZoom) {}\n\n  // Proxy to OrbitControls.update()\n  update() {\n    this._controls.update();\n  }\n\n  // Add controls to world instance and store world reference\n  addTo(world) {\n    world.addControls(this);\n    return this;\n  }\n\n  // Internal method called by World.addControls to actually add the controls\n  _addToWorld(world) {\n    this._world = world;\n\n    // TODO: Override panLeft and panUp methods to prevent panning on Y axis\n    // See: http://stackoverflow.com/a/26188674/997339\n    this._controls = new _OrbitControls(world._engine._camera, world._container);\n\n    this._controls.maxPolarAngle = Math.PI / 2;\n\n    // this._controls.enableDamping = true;\n    // this._controls.dampingFactor = 0.25;\n\n    this._initEvents();\n\n    this.emit('added');\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function() {\n  return new Orbit();\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/Controls.Orbit.js\n **/","module.exports = function(THREE) {\n\tvar MOUSE = THREE.MOUSE\n\tif (!MOUSE)\n\t\tMOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\n\n\t/**\n\t * @author qiao / https://github.com/qiao\n\t * @author mrdoob / http://mrdoob.com\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author erich666 / http://erichaines.com\n\t */\n\t/*global THREE, console */\n\n\tfunction OrbitConstraint ( object ) {\n\n\t\tthis.object = object;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\t// and where it pans with respect to.\n\t\tthis.target = new THREE.Vector3();\n\n\t\t// Limits to how far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// Limits to how far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.25;\n\n\t\t////////////\n\t\t// internals\n\n\t\tvar scope = this;\n\n\t\tvar EPS = 0.000001;\n\n\t\t// Current position in spherical coordinate system.\n\t\tvar theta;\n\t\tvar phi;\n\n\t\t// Pending changes\n\t\tvar phiDelta = 0;\n\t\tvar thetaDelta = 0;\n\t\tvar scale = 1;\n\t\tvar panOffset = new THREE.Vector3();\n\t\tvar zoomChanged = false;\n\n\t\t// API\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn theta;\n\n\t\t};\n\n\t\tthis.rotateLeft = function ( angle ) {\n\n\t\t\tthetaDelta -= angle;\n\n\t\t};\n\n\t\tthis.rotateUp = function ( angle ) {\n\n\t\t\tphiDelta -= angle;\n\n\t\t};\n\n\t\t// pass in distance in world space to move left\n\t\tthis.panLeft = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t  return function panLeft(distance) {\n\t\t    var te = this.object.matrix.elements;\n\t\t    var adjDist = distance / Math.cos(phi);\n\n\t\t    v.set(te[ 0 ], 0, te[ 2 ]).normalize();\n\t\t    v.multiplyScalar(-adjDist);\n\n\t\t    panOffset.add(v);\n\t\t  };\n\n\t\t}();\n\n\t\t// pass in distance in world space to move up\n\t\tthis.panUp = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t  return function panUp(distance) {\n\t\t    var te = this.object.matrix.elements;\n\t\t    var adjDist = distance / Math.cos(phi);\n\n\t\t    v.set(te[ 8 ], 0, te[ 10 ]).normalize();\n\t\t    v.multiplyScalar(-adjDist);\n\n\t\t    panOffset.add(v);\n\t\t  };\n\n\t\t}();\n\n\t\t// pass in x,y of change desired in pixel space,\n\t\t// right and down are positive\n\t\tthis.pan = function ( deltaX, deltaY, screenWidth, screenHeight ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tscope.panLeft( 2 * deltaX * targetDistance / screenHeight );\n\t\t\t\tscope.panUp( 2 * deltaY * targetDistance / screenHeight );\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tscope.panLeft( deltaX * ( scope.object.right - scope.object.left ) / screenWidth );\n\t\t\t\tscope.panUp( deltaY * ( scope.object.top - scope.object.bottom ) / screenHeight );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic or perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dollyIn = function ( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dollyOut = function ( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.update = function() {\n\n\t\t\tvar offset = new THREE.Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\t\tvar quatInverse = quat.clone().inverse();\n\n\t\t\tvar lastPosition = new THREE.Vector3();\n\t\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\t\treturn function () {\n\n\t\t\t\tvar position = this.object.position;\n\n\t\t\t\toffset.copy( position ).sub( this.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\n\t\t\t\ttheta = Math.atan2( offset.x, offset.z );\n\n\t\t\t\t// angle from y-axis\n\n\t\t\t\tphi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n\t\t\t\ttheta += thetaDelta;\n\t\t\t\tphi += phiDelta;\n\n\t\t\t\t// restrict theta to be between desired limits\n\t\t\t\ttheta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n\t\t\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\t\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n\t\t\t\tvar radius = offset.length() * scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n\t\t\t\t// move target to panned location\n\t\t\t\tthis.target.add( panOffset );\n\n\t\t\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\t\t\toffset.y = radius * Math.cos( phi );\n\t\t\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( this.target ).add( offset );\n\n\t\t\t\tthis.object.lookAt( this.target );\n\n\t\t\t\tif ( this.enableDamping === true ) {\n\n\t\t\t\t\tthetaDelta *= ( 1 - this.dampingFactor );\n\t\t\t\t\tphiDelta *= ( 1 - this.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthetaDelta = 0;\n\t\t\t\t\tphiDelta = 0;\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\t lastPosition.distanceToSquared( this.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tlastPosition.copy( this.object.position );\n\t\t\t\t\tlastQuaternion.copy( this.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t};\n\n\n\t// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n\t// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n\t// supported.\n\t//\n\t//    Orbit - left mouse / touch: one finger move\n\t//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n\t//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\n\tfunction OrbitControls ( object, domElement ) {\n\n\t\tvar constraint = new OrbitConstraint( object );\n\n\t\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t\t// API\n\n\t\tObject.defineProperty( this, 'constraint', {\n\n\t\t\tget: function() {\n\n\t\t\t\treturn constraint;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn constraint.getPolarAngle();\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn constraint.getAzimuthalAngle();\n\n\t\t};\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// center is old, deprecated; use \"target\" instead\n\t\tthis.center = this.target;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t\t// backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t\t// Set to false to disable use of the keys\n\t\tthis.enableKeys = true;\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t\t////////////\n\t\t// internals\n\n\t\tvar scope = this;\n\n\t\tvar rotateStart = new THREE.Vector2();\n\t\tvar rotateEnd = new THREE.Vector2();\n\t\tvar rotateDelta = new THREE.Vector2();\n\n\t\tvar panStart = new THREE.Vector2();\n\t\tvar panEnd = new THREE.Vector2();\n\t\tvar panDelta = new THREE.Vector2();\n\n\t\tvar dollyStart = new THREE.Vector2();\n\t\tvar dollyEnd = new THREE.Vector2();\n\t\tvar dollyDelta = new THREE.Vector2();\n\n\t\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\t\tvar state = STATE.NONE;\n\n\t\t// for reset\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// events\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\t// pass in x,y of change desired in pixel space,\n\t\t// right and down are positive\n\t\tfunction pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tconstraint.pan( deltaX, deltaY, element.clientWidth, element.clientHeight );\n\n\t\t}\n\n\t\tthis.update = function () {\n\n\t\t\tif ( this.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\tconstraint.rotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( constraint.update() === true ) {\n\n\t\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tstate = STATE.NONE;\n\n\t\t\tthis.target.copy( this.target0 );\n\t\t\tthis.object.position.copy( this.position0 );\n\t\t\tthis.object.zoom = this.zoom0;\n\n\t\t\tthis.object.updateProjectionMatrix();\n\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\tthis.update();\n\n\t\t};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) scope.update();\n\n\t\t}\n\n\t\tfunction onMouseUp( /* event */ ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\t\tscope.dispatchEvent( endEvent );\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar delta = 0;\n\n\t\t\tif ( event.wheelDelta !== undefined ) {\n\n\t\t\t\t// WebKit / Opera / Explorer 9\n\n\t\t\t\tdelta = event.wheelDelta;\n\n\t\t\t} else if ( event.detail !== undefined ) {\n\n\t\t\t\t// Firefox\n\n\t\t\t\tdelta = - event.detail;\n\n\t\t\t}\n\n\t\t\tif ( delta > 0 ) {\n\n\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t} else if ( delta < 0 ) {\n\n\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\t\t\tscope.dispatchEvent( startEvent );\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\t\tswitch ( event.keyCode ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction touchstart( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\t\tdollyStart.set( 0, distance );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t\tfunction touchmove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\n\t\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\n\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tdollyEnd.set( 0, distance );\n\t\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\n\t\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction touchend( /* event */ ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tscope.dispatchEvent( endEvent );\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction contextmenu( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tthis.dispose = function() {\n\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n\t\t\tthis.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\t\tthis.domElement.removeEventListener( 'mousewheel', onMouseWheel, false );\n\t\t\tthis.domElement.removeEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n\t\t\tthis.domElement.removeEventListener( 'touchstart', touchstart, false );\n\t\t\tthis.domElement.removeEventListener( 'touchend', touchend, false );\n\t\t\tthis.domElement.removeEventListener( 'touchmove', touchmove, false );\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t}\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\n\t\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\t\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\t\tthis.domElement.addEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n\t\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\t\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\t\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\t\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t\t// force an update at start\n\t\tthis.update();\n\n\t};\n\n\tOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n\tOrbitControls.prototype.constructor = OrbitControls;\n\n\tObject.defineProperties( OrbitControls.prototype, {\n\n\t\tobject: {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.object;\n\n\t\t\t}\n\n\t\t},\n\n\t\ttarget: {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.target;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: target is now immutable. Use target.set() instead.' );\n\t\t\t\tthis.constraint.target.copy( value );\n\n\t\t\t}\n\n\t\t},\n\n\t\tminDistance : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minDistance;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minDistance = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxDistance : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxDistance;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxDistance = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminZoom : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minZoom = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxZoom : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxZoom = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminPolarAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minPolarAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minPolarAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxPolarAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxPolarAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxPolarAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminAzimuthAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minAzimuthAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minAzimuthAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxAzimuthAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxAzimuthAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxAzimuthAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tenableDamping : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.enableDamping;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.enableDamping = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tdampingFactor : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.dampingFactor;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.dampingFactor = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\t// backward compatibility\n\n\t\tnoZoom: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\treturn ! this.enableZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\tthis.enableZoom = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoRotate: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\treturn ! this.enableRotate;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\tthis.enableRotate = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoPan: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\treturn ! this.enablePan;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\tthis.enablePan = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoKeys: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\treturn ! this.enableKeys;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\tthis.enableKeys = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tstaticMoving : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\treturn ! this.constraint.enableDamping;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\tthis.constraint.enableDamping = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tdynamicDampingFactor : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\treturn this.constraint.dampingFactor;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\tthis.constraint.dampingFactor = value;\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n\treturn OrbitControls;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/three-orbit-controls/index.js\n ** module id = 10\n ** module chunks = 0\n **/","import Layer from '../Layer';\nimport THREE from 'three';\n\nclass EnvironmentLayer extends Layer {\n  constructor() {\n    super();\n\n    this._initLights();\n    this._initGrid();\n  }\n\n  // Not fleshed out or thought through yet\n  //\n  // Lights could potentially be put it their own 'layer' to keep this class\n  // much simpler and less messy\n  _initLights() {\n    // Position doesn't really matter (the angle is important), however it's\n    // used here so the helpers look more natural.\n\n    var directionalLight = new THREE.DirectionalLight(0x999999);\n    directionalLight.intesity = 0.1;\n    directionalLight.position.x = 100;\n    directionalLight.position.y = 100;\n    directionalLight.position.z = 100;\n\n    var directionalLight2 = new THREE.DirectionalLight(0x999999);\n    directionalLight2.intesity = 0.1;\n    directionalLight2.position.x = -100;\n    directionalLight2.position.y = 100;\n    directionalLight2.position.z = -100;\n\n    var helper = new THREE.DirectionalLightHelper(directionalLight, 10);\n    var helper2 = new THREE.DirectionalLightHelper(directionalLight2, 10);\n\n    this._layer.add(directionalLight);\n    this._layer.add(directionalLight2);\n\n    this._layer.add(helper);\n    this._layer.add(helper2);\n  }\n\n  // Add grid helper for context during initial development\n  _initGrid() {\n    var size = 4000;\n    var step = 100;\n\n    var gridHelper = new THREE.GridHelper(size, step);\n    this._layer.add(gridHelper);\n  }\n}\n\n// Initialise without requiring new keyword\nexport default function() {\n  return new EnvironmentLayer();\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/environment/EnvironmentLayer.js\n **/","import EventEmitter from 'eventemitter3';\nimport THREE from 'three';\nimport Scene from '../engine/Scene';\n\nclass Layer extends EventEmitter {\n  constructor() {\n    super();\n\n    this._layer = new THREE.Object3D();\n  }\n\n  // Add layer to world instance and store world reference\n  addTo(world) {\n    world.addLayer(this);\n    return this;\n  }\n\n  // Internal method called by World.addLayer to actually add the layer\n  _addToWorld(world) {\n    this._world = world;\n    this.emit('added');\n  }\n}\n\nexport default Layer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/layer/Layer.js\n **/"],"sourceRoot":"/source/"}